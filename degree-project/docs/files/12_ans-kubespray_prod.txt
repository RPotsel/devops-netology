cd ./kubespray && ansible-playbook -b -i ../ansible/inventory/prod cluster.yml \
	--vault-password-file ../ansible/inventory/prod/.vault

PLAY [localhost] ***************************************************************
Thursday 04 May 2023  19:43:32 +0300 (0:00:00.018)       0:00:00.018 ********** 

TASK [Check 2.11.0 <= Ansible version < 2.13.0] ********************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:43:32 +0300 (0:00:00.048)       0:00:00.066 ********** 

TASK [Check that python netaddr is installed] **********************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:43:32 +0300 (0:00:00.096)       0:00:00.163 ********** 

TASK [Check that jinja is not too old (install via pip)] ***********************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Add kube-master nodes to kube_control_plane] *****************************
skipping: no hosts matched

PLAY [Add kube-node nodes to kube_node] ****************************************
skipping: no hosts matched

PLAY [Add k8s-cluster nodes to k8s_cluster] ************************************
skipping: no hosts matched

PLAY [Add calico-rr nodes to calico_rr] ****************************************
skipping: no hosts matched

PLAY [Add no-floating nodes to no_floating] ************************************
skipping: no hosts matched

PLAY [bastion[0]] **************************************************************
skipping: no hosts matched

PLAY [k8s_cluster:etcd] ********************************************************
Thursday 04 May 2023  19:43:32 +0300 (0:00:00.073)       0:00:00.236 ********** 
Thursday 04 May 2023  19:43:32 +0300 (0:00:00.105)       0:00:00.342 ********** 
Thursday 04 May 2023  19:43:32 +0300 (0:00:00.050)       0:00:00.392 ********** 
Thursday 04 May 2023  19:43:32 +0300 (0:00:00.042)       0:00:00.435 ********** 
Thursday 04 May 2023  19:43:32 +0300 (0:00:00.098)       0:00:00.533 ********** 
Thursday 04 May 2023  19:43:32 +0300 (0:00:00.145)       0:00:00.678 ********** 
Thursday 04 May 2023  19:43:32 +0300 (0:00:00.138)       0:00:00.817 ********** 
Thursday 04 May 2023  19:43:32 +0300 (0:00:00.144)       0:00:00.962 ********** 
Thursday 04 May 2023  19:43:33 +0300 (0:00:00.054)       0:00:01.017 ********** 
Thursday 04 May 2023  19:43:33 +0300 (0:00:00.112)       0:00:01.129 ********** 
Thursday 04 May 2023  19:43:33 +0300 (0:00:00.167)       0:00:01.297 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [control-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [ingress-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [worker-prod-02] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [worker-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Thursday 04 May 2023  19:43:33 +0300 (0:00:00.206)       0:00:01.504 ********** 
Thursday 04 May 2023  19:43:33 +0300 (0:00:00.061)       0:00:01.565 ********** 
Thursday 04 May 2023  19:43:33 +0300 (0:00:00.028)       0:00:01.594 ********** 
Thursday 04 May 2023  19:43:33 +0300 (0:00:00.079)       0:00:01.674 ********** 
Thursday 04 May 2023  19:43:33 +0300 (0:00:00.027)       0:00:01.701 ********** 
Thursday 04 May 2023  19:43:33 +0300 (0:00:00.116)       0:00:01.817 ********** 
Thursday 04 May 2023  19:43:33 +0300 (0:00:00.136)       0:00:01.954 ********** 

TASK [bootstrap-os : Fetch /etc/os-release] ************************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:43:36 +0300 (0:00:02.130)       0:00:04.084 ********** 
Thursday 04 May 2023  19:43:36 +0300 (0:00:00.143)       0:00:04.228 ********** 
Thursday 04 May 2023  19:43:36 +0300 (0:00:00.092)       0:00:04.320 ********** 
Thursday 04 May 2023  19:43:36 +0300 (0:00:00.089)       0:00:04.410 ********** 
Thursday 04 May 2023  19:43:36 +0300 (0:00:00.098)       0:00:04.509 ********** 
Thursday 04 May 2023  19:43:36 +0300 (0:00:00.111)       0:00:04.620 ********** 
Thursday 04 May 2023  19:43:36 +0300 (0:00:00.105)       0:00:04.725 ********** 

TASK [bootstrap-os : include_tasks] ********************************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/bootstrap-os/tasks/bootstrap-debian.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:43:36 +0300 (0:00:00.138)       0:00:04.863 ********** 

TASK [bootstrap-os : Check if bootstrap is needed] *****************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:43:37 +0300 (0:00:00.258)       0:00:05.123 ********** 

TASK [bootstrap-os : Check http::proxy in apt configuration files] *************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:43:37 +0300 (0:00:00.288)       0:00:05.411 ********** 
Thursday 04 May 2023  19:43:37 +0300 (0:00:00.093)       0:00:05.505 ********** 

TASK [bootstrap-os : Check https::proxy in apt configuration files] ************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:43:37 +0300 (0:00:00.228)       0:00:05.733 ********** 
Thursday 04 May 2023  19:43:37 +0300 (0:00:00.099)       0:00:05.833 ********** 
Thursday 04 May 2023  19:43:37 +0300 (0:00:00.079)       0:00:05.912 ********** 
Thursday 04 May 2023  19:43:38 +0300 (0:00:00.088)       0:00:06.001 ********** 

TASK [bootstrap-os : Set the ansible_python_interpreter fact] ******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:43:38 +0300 (0:00:00.106)       0:00:06.108 ********** 

TASK [bootstrap-os : Install dbus for the hostname module] *********************
ok: [worker-prod-02]
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  19:43:47 +0300 (0:00:09.056)       0:00:15.164 ********** 
Thursday 04 May 2023  19:43:47 +0300 (0:00:00.091)       0:00:15.256 ********** 
Thursday 04 May 2023  19:43:47 +0300 (0:00:00.085)       0:00:15.341 ********** 

TASK [bootstrap-os : Create remote_tmp for it is used by another module] *******
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:43:48 +0300 (0:00:01.474)       0:00:16.816 ********** 

TASK [bootstrap-os : Gather host facts to get ansible_os_family] ***************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:43:51 +0300 (0:00:02.163)       0:00:18.979 ********** 

TASK [bootstrap-os : Assign inventory name to unconfigured hostnames (non-CoreOS, non-Flatcar, Suse and ClearLinux, non-Fedora)] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:43:53 +0300 (0:00:02.614)       0:00:21.593 ********** 
Thursday 04 May 2023  19:43:53 +0300 (0:00:00.095)       0:00:21.689 ********** 
Thursday 04 May 2023  19:43:53 +0300 (0:00:00.109)       0:00:21.799 ********** 
Thursday 04 May 2023  19:43:53 +0300 (0:00:00.116)       0:00:21.915 ********** 

TASK [bootstrap-os : Ensure bash_completion.d folder exists] *******************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]

PLAY [Gather facts] ************************************************************
Thursday 04 May 2023  19:43:55 +0300 (0:00:01.612)       0:00:23.528 ********** 

TASK [Gather minimal facts] ****************************************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:43:57 +0300 (0:00:01.729)       0:00:25.257 ********** 

TASK [Gather necessary facts (network)] ****************************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:43:58 +0300 (0:00:01.703)       0:00:26.961 ********** 

TASK [Gather necessary facts (hardware)] ***************************************
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
ok: [ingress-prod-01]

PLAY [k8s_cluster:etcd] ********************************************************
Thursday 04 May 2023  19:44:02 +0300 (0:00:03.320)       0:00:30.282 ********** 
Thursday 04 May 2023  19:44:02 +0300 (0:00:00.171)       0:00:30.454 ********** 
Thursday 04 May 2023  19:44:02 +0300 (0:00:00.082)       0:00:30.536 ********** 
Thursday 04 May 2023  19:44:02 +0300 (0:00:00.068)       0:00:30.605 ********** 
Thursday 04 May 2023  19:44:02 +0300 (0:00:00.141)       0:00:30.746 ********** 
Thursday 04 May 2023  19:44:02 +0300 (0:00:00.173)       0:00:30.920 ********** 
Thursday 04 May 2023  19:44:03 +0300 (0:00:00.147)       0:00:31.067 ********** 
Thursday 04 May 2023  19:44:03 +0300 (0:00:00.146)       0:00:31.213 ********** 
Thursday 04 May 2023  19:44:03 +0300 (0:00:00.076)       0:00:31.290 ********** 
Thursday 04 May 2023  19:44:03 +0300 (0:00:00.132)       0:00:31.423 ********** 
Thursday 04 May 2023  19:44:05 +0300 (0:00:02.314)       0:00:33.737 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [control-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [ingress-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [worker-prod-02] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [worker-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Thursday 04 May 2023  19:44:05 +0300 (0:00:00.205)       0:00:33.943 ********** 
Thursday 04 May 2023  19:44:06 +0300 (0:00:00.151)       0:00:34.095 ********** 

TASK [kubespray-defaults : create fallback_ips_base] ***************************
ok: [control-prod-01 -> localhost]
Thursday 04 May 2023  19:44:06 +0300 (0:00:00.105)       0:00:34.201 ********** 

TASK [kubespray-defaults : set fallback_ips] ***********************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:06 +0300 (0:00:00.179)       0:00:34.380 ********** 
Thursday 04 May 2023  19:44:06 +0300 (0:00:00.047)       0:00:34.428 ********** 
Thursday 04 May 2023  19:44:06 +0300 (0:00:00.138)       0:00:34.566 ********** 
Thursday 04 May 2023  19:44:06 +0300 (0:00:00.205)       0:00:34.772 ********** 

TASK [adduser : User | Create User Group] **************************************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:44:08 +0300 (0:00:01.990)       0:00:36.762 ********** 

TASK [adduser : User | Create User] ********************************************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:44:10 +0300 (0:00:02.074)       0:00:38.837 ********** 

TASK [kubernetes/preinstall : Remove swapfile from /etc/fstab] *****************
ok: [control-prod-01] => (item=swap)
ok: [ingress-prod-01] => (item=swap)
ok: [worker-prod-01] => (item=swap)
ok: [worker-prod-02] => (item=swap)
ok: [control-prod-01] => (item=none)
ok: [ingress-prod-01] => (item=none)
ok: [worker-prod-01] => (item=none)
ok: [worker-prod-02] => (item=none)
Thursday 04 May 2023  19:44:13 +0300 (0:00:02.569)       0:00:41.406 ********** 

TASK [kubernetes/preinstall : check swap] **************************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:44:15 +0300 (0:00:01.746)       0:00:43.153 ********** 
Thursday 04 May 2023  19:44:15 +0300 (0:00:00.101)       0:00:43.254 ********** 
Thursday 04 May 2023  19:44:15 +0300 (0:00:00.097)       0:00:43.352 ********** 

TASK [kubernetes/preinstall : Stop if either kube_control_plane or kube_node group is empty] ***
ok: [control-prod-01] => (item=kube_control_plane) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": "kube_control_plane",
    "msg": "All assertions passed"
}
ok: [control-prod-01] => (item=kube_node) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": "kube_node",
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:15 +0300 (0:00:00.063)       0:00:43.416 ********** 

TASK [kubernetes/preinstall : Stop if etcd group is empty in external etcd mode] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:15 +0300 (0:00:00.043)       0:00:43.459 ********** 

TASK [kubernetes/preinstall : Stop if non systemd OS type] *********************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [ingress-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-02] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:15 +0300 (0:00:00.127)       0:00:43.587 ********** 

TASK [kubernetes/preinstall : Stop if unknown OS] ******************************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [ingress-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-02] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:15 +0300 (0:00:00.167)       0:00:43.754 ********** 

TASK [kubernetes/preinstall : Stop if unknown network plugin] ******************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [ingress-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-02] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:15 +0300 (0:00:00.185)       0:00:43.940 ********** 

TASK [kubernetes/preinstall : Stop if unsupported version of Kubernetes] *******
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [ingress-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-02] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:16 +0300 (0:00:00.146)       0:00:44.087 ********** 

TASK [kubernetes/preinstall : Stop if known booleans are set as strings (Use JSON format on CLI: -e "{'key': true }")] ***
ok: [control-prod-01] => (item={'name': 'download_run_once', 'value': False}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "download_run_once",
        "value": false
    },
    "msg": "All assertions passed"
}
ok: [control-prod-01] => (item={'name': 'deploy_netchecker', 'value': False}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "deploy_netchecker",
        "value": false
    },
    "msg": "All assertions passed"
}
ok: [control-prod-01] => (item={'name': 'download_always_pull', 'value': False}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "download_always_pull",
        "value": false
    },
    "msg": "All assertions passed"
}
ok: [control-prod-01] => (item={'name': 'helm_enabled', 'value': False}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "helm_enabled",
        "value": false
    },
    "msg": "All assertions passed"
}
ok: [control-prod-01] => (item={'name': 'openstack_lbaas_enabled', 'value': False}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "openstack_lbaas_enabled",
        "value": false
    },
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:16 +0300 (0:00:00.121)       0:00:44.208 ********** 

TASK [kubernetes/preinstall : Stop if even number of etcd hosts] ***************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:16 +0300 (0:00:00.109)       0:00:44.318 ********** 

TASK [kubernetes/preinstall : Stop if memory is too small for masters] *********
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:16 +0300 (0:00:00.113)       0:00:44.431 ********** 

TASK [kubernetes/preinstall : Stop if memory is too small for nodes] ***********
ok: [ingress-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-02] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:16 +0300 (0:00:00.126)       0:00:44.557 ********** 
Thursday 04 May 2023  19:44:16 +0300 (0:00:00.114)       0:00:44.671 ********** 
Thursday 04 May 2023  19:44:16 +0300 (0:00:00.156)       0:00:44.828 ********** 
Thursday 04 May 2023  19:44:16 +0300 (0:00:00.130)       0:00:44.959 ********** 
Thursday 04 May 2023  19:44:17 +0300 (0:00:00.135)       0:00:45.095 ********** 
Thursday 04 May 2023  19:44:17 +0300 (0:00:00.103)       0:00:45.198 ********** 
Thursday 04 May 2023  19:44:17 +0300 (0:00:00.125)       0:00:45.323 ********** 
Thursday 04 May 2023  19:44:17 +0300 (0:00:00.109)       0:00:45.433 ********** 

TASK [kubernetes/preinstall : Stop if bad hostname] ****************************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [ingress-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-02] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:17 +0300 (0:00:00.148)       0:00:45.581 ********** 
Thursday 04 May 2023  19:44:17 +0300 (0:00:00.115)       0:00:45.697 ********** 

TASK [kubernetes/preinstall : Check that kube_service_addresses is a network range] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:17 +0300 (0:00:00.106)       0:00:45.803 ********** 

TASK [kubernetes/preinstall : Check that kube_pods_subnet is a network range] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:17 +0300 (0:00:00.105)       0:00:45.909 ********** 

TASK [kubernetes/preinstall : Check that kube_pods_subnet does not collide with kube_service_addresses] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.092)       0:00:46.001 ********** 
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.035)       0:00:46.036 ********** 

TASK [kubernetes/preinstall : Stop if unknown dns mode] ************************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.048)       0:00:46.085 ********** 

TASK [kubernetes/preinstall : Stop if unknown kube proxy mode] *****************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.047)       0:00:46.132 ********** 

TASK [kubernetes/preinstall : Stop if unknown cert_management] *****************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.040)       0:00:46.173 ********** 

TASK [kubernetes/preinstall : Stop if unknown resolvconf_mode] *****************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.045)       0:00:46.218 ********** 

TASK [kubernetes/preinstall : Stop if etcd deployment type is not host, docker or kubeadm] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.098)       0:00:46.317 ********** 

TASK [kubernetes/preinstall : Stop if container manager is not docker, crio or containerd] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.040)       0:00:46.358 ********** 

TASK [kubernetes/preinstall : Stop if etcd deployment type is not host or kubeadm when container_manager != docker] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.108)       0:00:46.466 ********** 
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.036)       0:00:46.502 ********** 
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.035)       0:00:46.538 ********** 
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.093)       0:00:46.631 ********** 
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.087)       0:00:46.719 ********** 
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.088)       0:00:46.807 ********** 
Thursday 04 May 2023  19:44:18 +0300 (0:00:00.112)       0:00:46.919 ********** 

TASK [kubernetes/preinstall : Ensure minimum containerd version] ***************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:19 +0300 (0:00:00.058)       0:00:46.978 ********** 
Thursday 04 May 2023  19:44:19 +0300 (0:00:00.118)       0:00:47.097 ********** 
Thursday 04 May 2023  19:44:19 +0300 (0:00:00.140)       0:00:47.237 ********** 
Thursday 04 May 2023  19:44:19 +0300 (0:00:00.168)       0:00:47.405 ********** 
Thursday 04 May 2023  19:44:19 +0300 (0:00:00.112)       0:00:47.518 ********** 
Thursday 04 May 2023  19:44:19 +0300 (0:00:00.120)       0:00:47.638 ********** 

TASK [kubernetes/preinstall : check if booted with ostree] *********************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:21 +0300 (0:00:01.474)       0:00:49.113 ********** 

TASK [kubernetes/preinstall : set is_fedora_coreos] ****************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:22 +0300 (0:00:01.472)       0:00:50.586 ********** 

TASK [kubernetes/preinstall : set is_fedora_coreos] ****************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:22 +0300 (0:00:00.120)       0:00:50.707 ********** 

TASK [kubernetes/preinstall : check resolvconf] ********************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:23 +0300 (0:00:01.258)       0:00:51.965 ********** 

TASK [kubernetes/preinstall : check existence of /etc/resolvconf/resolv.conf.d] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:44:25 +0300 (0:00:01.419)       0:00:53.385 ********** 

TASK [kubernetes/preinstall : check status of /etc/resolv.conf] ****************
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:26 +0300 (0:00:01.244)       0:00:54.630 ********** 

TASK [kubernetes/preinstall : get content of /etc/resolv.conf] *****************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:28 +0300 (0:00:01.723)       0:00:56.353 ********** 

TASK [kubernetes/preinstall : get currently configured nameservers] ************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:28 +0300 (0:00:00.245)       0:00:56.599 ********** 

TASK [kubernetes/preinstall : Stop if /etc/resolv.conf not configured nameservers] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [ingress-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-02] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:44:28 +0300 (0:00:00.127)       0:00:56.726 ********** 

TASK [kubernetes/preinstall : NetworkManager | Check if host has NetworkManager] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:30 +0300 (0:00:01.581)       0:00:58.308 ********** 

TASK [kubernetes/preinstall : check systemd-resolved] **************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:44:31 +0300 (0:00:01.599)       0:00:59.908 ********** 

TASK [kubernetes/preinstall : set default dns if remove_default_searchdomains is false] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:32 +0300 (0:00:00.337)       0:01:00.245 ********** 

TASK [kubernetes/preinstall : set dns facts] ***********************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:32 +0300 (0:00:00.262)       0:01:00.508 ********** 

TASK [kubernetes/preinstall : check if kubelet is configured] ******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:34 +0300 (0:00:01.510)       0:01:02.019 ********** 

TASK [kubernetes/preinstall : check if early DNS configuration stage] **********
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:44:34 +0300 (0:00:00.266)       0:01:02.285 ********** 

TASK [kubernetes/preinstall : target resolv.conf files] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:34 +0300 (0:00:00.204)       0:01:02.489 ********** 
Thursday 04 May 2023  19:44:34 +0300 (0:00:00.112)       0:01:02.602 ********** 

TASK [kubernetes/preinstall : check if /etc/dhclient.conf exists] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:36 +0300 (0:00:01.580)       0:01:04.182 ********** 
Thursday 04 May 2023  19:44:36 +0300 (0:00:00.126)       0:01:04.309 ********** 

TASK [kubernetes/preinstall : check if /etc/dhcp/dhclient.conf exists] *********
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:44:37 +0300 (0:00:01.208)       0:01:05.518 ********** 

TASK [kubernetes/preinstall : target dhclient conf file for /etc/dhcp/dhclient.conf] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:37 +0300 (0:00:00.161)       0:01:05.679 ********** 
Thursday 04 May 2023  19:44:37 +0300 (0:00:00.133)       0:01:05.812 ********** 

TASK [kubernetes/preinstall : target dhclient hook file for Debian family] *****
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:38 +0300 (0:00:00.170)       0:01:05.983 ********** 

TASK [kubernetes/preinstall : generate search domains to resolvconf] ***********
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:38 +0300 (0:00:00.132)       0:01:06.116 ********** 

TASK [kubernetes/preinstall : pick coredns cluster IP or default resolver] *****
ok: [ingress-prod-01]
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:38 +0300 (0:00:00.245)       0:01:06.361 ********** 
Thursday 04 May 2023  19:44:38 +0300 (0:00:00.087)       0:01:06.448 ********** 

TASK [kubernetes/preinstall : generate nameservers for resolvconf, not including cluster DNS] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:38 +0300 (0:00:00.116)       0:01:06.565 ********** 

TASK [kubernetes/preinstall : gather os specific variables] ********************
ok: [control-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml)
ok: [ingress-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml)
ok: [worker-prod-02] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml)
ok: [worker-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml)
Thursday 04 May 2023  19:44:38 +0300 (0:00:00.132)       0:01:06.698 ********** 
Thursday 04 May 2023  19:44:38 +0300 (0:00:00.089)       0:01:06.787 ********** 

TASK [kubernetes/preinstall : check /usr readonly] *****************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:40 +0300 (0:00:01.464)       0:01:08.252 ********** 
Thursday 04 May 2023  19:44:40 +0300 (0:00:00.130)       0:01:08.382 ********** 
Thursday 04 May 2023  19:44:40 +0300 (0:00:00.087)       0:01:08.470 ********** 
Thursday 04 May 2023  19:44:40 +0300 (0:00:00.089)       0:01:08.559 ********** 

TASK [kubernetes/preinstall : Create kubernetes directories] *******************
changed: [control-prod-01] => (item=/etc/kubernetes)
changed: [worker-prod-02] => (item=/etc/kubernetes)
changed: [worker-prod-01] => (item=/etc/kubernetes)
changed: [ingress-prod-01] => (item=/etc/kubernetes)
changed: [control-prod-01] => (item=/etc/kubernetes/ssl)
changed: [worker-prod-02] => (item=/etc/kubernetes/ssl)
changed: [ingress-prod-01] => (item=/etc/kubernetes/ssl)
changed: [worker-prod-01] => (item=/etc/kubernetes/ssl)
changed: [control-prod-01] => (item=/etc/kubernetes/manifests)
changed: [worker-prod-02] => (item=/etc/kubernetes/manifests)
changed: [worker-prod-01] => (item=/etc/kubernetes/manifests)
changed: [ingress-prod-01] => (item=/etc/kubernetes/manifests)
changed: [control-prod-01] => (item=/usr/local/bin/kubernetes-scripts)
changed: [worker-prod-02] => (item=/usr/local/bin/kubernetes-scripts)
changed: [worker-prod-01] => (item=/usr/local/bin/kubernetes-scripts)
changed: [ingress-prod-01] => (item=/usr/local/bin/kubernetes-scripts)
changed: [control-prod-01] => (item=/usr/libexec/kubernetes/kubelet-plugins/volume/exec)
changed: [worker-prod-02] => (item=/usr/libexec/kubernetes/kubelet-plugins/volume/exec)
changed: [worker-prod-01] => (item=/usr/libexec/kubernetes/kubelet-plugins/volume/exec)
changed: [ingress-prod-01] => (item=/usr/libexec/kubernetes/kubelet-plugins/volume/exec)
Thursday 04 May 2023  19:44:46 +0300 (0:00:05.876)       0:01:14.435 ********** 

TASK [kubernetes/preinstall : Create other directories] ************************
ok: [worker-prod-01] => (item=/usr/local/bin)
ok: [control-prod-01] => (item=/usr/local/bin)
ok: [worker-prod-02] => (item=/usr/local/bin)
ok: [ingress-prod-01] => (item=/usr/local/bin)
Thursday 04 May 2023  19:44:47 +0300 (0:00:01.257)       0:01:15.692 ********** 

TASK [kubernetes/preinstall : Check if kubernetes kubeadm compat cert dir exists] ***
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  19:44:48 +0300 (0:00:01.258)       0:01:16.951 ********** 

TASK [kubernetes/preinstall : Create kubernetes kubeadm compat cert dir (kubernetes/kubeadm issue 1498)] ***
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [ingress-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  19:44:50 +0300 (0:00:01.271)       0:01:18.222 ********** 

TASK [kubernetes/preinstall : Create cni directories] **************************
changed: [control-prod-01] => (item=/etc/cni/net.d)
changed: [worker-prod-02] => (item=/etc/cni/net.d)
changed: [worker-prod-01] => (item=/etc/cni/net.d)
changed: [ingress-prod-01] => (item=/etc/cni/net.d)
changed: [control-prod-01] => (item=/opt/cni/bin)
changed: [worker-prod-02] => (item=/opt/cni/bin)
changed: [worker-prod-01] => (item=/opt/cni/bin)
changed: [ingress-prod-01] => (item=/opt/cni/bin)
changed: [control-prod-01] => (item=/var/lib/calico)
changed: [ingress-prod-01] => (item=/var/lib/calico)
changed: [worker-prod-01] => (item=/var/lib/calico)
changed: [worker-prod-02] => (item=/var/lib/calico)
Thursday 04 May 2023  19:44:53 +0300 (0:00:03.570)       0:01:21.793 ********** 
Thursday 04 May 2023  19:44:53 +0300 (0:00:00.129)       0:01:21.922 ********** 
Thursday 04 May 2023  19:44:54 +0300 (0:00:00.100)       0:01:22.023 ********** 
Thursday 04 May 2023  19:44:54 +0300 (0:00:00.161)       0:01:22.184 ********** 
Thursday 04 May 2023  19:44:54 +0300 (0:00:00.149)       0:01:22.334 ********** 
Thursday 04 May 2023  19:44:54 +0300 (0:00:00.151)       0:01:22.486 ********** 
Thursday 04 May 2023  19:44:54 +0300 (0:00:00.089)       0:01:22.576 ********** 
Thursday 04 May 2023  19:44:54 +0300 (0:00:00.094)       0:01:22.670 ********** 

TASK [kubernetes/preinstall : Write resolved.conf] *****************************
changed: [ingress-prod-01]
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:44:57 +0300 (0:00:02.690)       0:01:25.361 ********** 
Thursday 04 May 2023  19:44:57 +0300 (0:00:00.115)       0:01:25.476 ********** 
Thursday 04 May 2023  19:44:57 +0300 (0:00:00.119)       0:01:25.595 ********** 
Thursday 04 May 2023  19:44:57 +0300 (0:00:00.097)       0:01:25.693 ********** 
Thursday 04 May 2023  19:44:57 +0300 (0:00:00.096)       0:01:25.790 ********** 
Thursday 04 May 2023  19:44:57 +0300 (0:00:00.098)       0:01:25.888 ********** 
Thursday 04 May 2023  19:44:58 +0300 (0:00:00.095)       0:01:25.984 ********** 
Thursday 04 May 2023  19:44:58 +0300 (0:00:00.095)       0:01:26.079 ********** 
Thursday 04 May 2023  19:44:58 +0300 (0:00:00.093)       0:01:26.173 ********** 
Thursday 04 May 2023  19:44:58 +0300 (0:00:00.097)       0:01:26.270 ********** 
Thursday 04 May 2023  19:44:58 +0300 (0:00:00.095)       0:01:26.366 ********** 

TASK [kubernetes/preinstall : Update package management cache (APT)] ***********
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:45:00 +0300 (0:00:02.208)       0:01:28.575 ********** 
Thursday 04 May 2023  19:45:00 +0300 (0:00:00.114)       0:01:28.689 ********** 
Thursday 04 May 2023  19:45:00 +0300 (0:00:00.096)       0:01:28.786 ********** 
Thursday 04 May 2023  19:45:00 +0300 (0:00:00.105)       0:01:28.891 ********** 

TASK [kubernetes/preinstall : Update common_required_pkgs with ipvsadm when kube_proxy_mode is ipvs] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:45:01 +0300 (0:00:00.153)       0:01:29.045 ********** 

TASK [kubernetes/preinstall : Install packages requirements] *******************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:46:03 +0300 (0:01:02.182)       0:02:31.227 ********** 
Thursday 04 May 2023  19:46:03 +0300 (0:00:00.115)       0:02:31.343 ********** 
Thursday 04 May 2023  19:46:03 +0300 (0:00:00.140)       0:02:31.483 ********** 
Thursday 04 May 2023  19:46:03 +0300 (0:00:00.186)       0:02:31.670 ********** 
Thursday 04 May 2023  19:46:03 +0300 (0:00:00.094)       0:02:31.765 ********** 

TASK [kubernetes/preinstall : Clean previously used sysctl file locations] *****
ok: [control-prod-01] => (item=ipv4-ip_forward.conf)
ok: [ingress-prod-01] => (item=ipv4-ip_forward.conf)
ok: [worker-prod-02] => (item=ipv4-ip_forward.conf)
ok: [worker-prod-01] => (item=ipv4-ip_forward.conf)
ok: [control-prod-01] => (item=bridge-nf-call.conf)
ok: [ingress-prod-01] => (item=bridge-nf-call.conf)
ok: [worker-prod-02] => (item=bridge-nf-call.conf)
ok: [worker-prod-01] => (item=bridge-nf-call.conf)
Thursday 04 May 2023  19:46:06 +0300 (0:00:02.825)       0:02:34.591 ********** 

TASK [kubernetes/preinstall : Stat sysctl file configuration] ******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:46:08 +0300 (0:00:01.417)       0:02:36.009 ********** 

TASK [kubernetes/preinstall : Change sysctl file path to link source if linked] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:46:08 +0300 (0:00:00.128)       0:02:36.137 ********** 

TASK [kubernetes/preinstall : Make sure sysctl file path folder exists] ********
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:46:09 +0300 (0:00:01.364)       0:02:37.502 ********** 

TASK [kubernetes/preinstall : Enable ip forwarding] ****************************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:46:11 +0300 (0:00:01.758)       0:02:39.261 ********** 
Thursday 04 May 2023  19:46:11 +0300 (0:00:00.146)       0:02:39.408 ********** 

TASK [kubernetes/preinstall : Check if we need to set fs.may_detach_mounts] ****
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:46:12 +0300 (0:00:01.378)       0:02:40.787 ********** 
Thursday 04 May 2023  19:46:12 +0300 (0:00:00.145)       0:02:40.933 ********** 

TASK [kubernetes/preinstall : Ensure kube-bench parameters are set] ************
changed: [control-prod-01] => (item={'name': 'kernel.keys.root_maxbytes', 'value': 25000000})
changed: [ingress-prod-01] => (item={'name': 'kernel.keys.root_maxbytes', 'value': 25000000})
changed: [worker-prod-02] => (item={'name': 'kernel.keys.root_maxbytes', 'value': 25000000})
changed: [worker-prod-01] => (item={'name': 'kernel.keys.root_maxbytes', 'value': 25000000})
changed: [control-prod-01] => (item={'name': 'kernel.keys.root_maxkeys', 'value': 1000000})
changed: [ingress-prod-01] => (item={'name': 'kernel.keys.root_maxkeys', 'value': 1000000})
changed: [worker-prod-02] => (item={'name': 'kernel.keys.root_maxkeys', 'value': 1000000})
changed: [worker-prod-01] => (item={'name': 'kernel.keys.root_maxkeys', 'value': 1000000})
changed: [control-prod-01] => (item={'name': 'kernel.panic', 'value': 10})
changed: [ingress-prod-01] => (item={'name': 'kernel.panic', 'value': 10})
changed: [worker-prod-02] => (item={'name': 'kernel.panic', 'value': 10})
changed: [worker-prod-01] => (item={'name': 'kernel.panic', 'value': 10})
changed: [control-prod-01] => (item={'name': 'kernel.panic_on_oops', 'value': 1})
changed: [ingress-prod-01] => (item={'name': 'kernel.panic_on_oops', 'value': 1})
changed: [worker-prod-02] => (item={'name': 'kernel.panic_on_oops', 'value': 1})
changed: [worker-prod-01] => (item={'name': 'kernel.panic_on_oops', 'value': 1})
changed: [control-prod-01] => (item={'name': 'vm.overcommit_memory', 'value': 1})
changed: [ingress-prod-01] => (item={'name': 'vm.overcommit_memory', 'value': 1})
changed: [worker-prod-02] => (item={'name': 'vm.overcommit_memory', 'value': 1})
changed: [worker-prod-01] => (item={'name': 'vm.overcommit_memory', 'value': 1})
changed: [control-prod-01] => (item={'name': 'vm.panic_on_oom', 'value': 0})
changed: [ingress-prod-01] => (item={'name': 'vm.panic_on_oom', 'value': 0})
changed: [worker-prod-02] => (item={'name': 'vm.panic_on_oom', 'value': 0})
changed: [worker-prod-01] => (item={'name': 'vm.panic_on_oom', 'value': 0})
Thursday 04 May 2023  19:46:20 +0300 (0:00:07.815)       0:02:48.748 ********** 

TASK [kubernetes/preinstall : Check dummy module] ******************************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:46:22 +0300 (0:00:02.052)       0:02:50.801 ********** 
Thursday 04 May 2023  19:46:22 +0300 (0:00:00.112)       0:02:50.913 ********** 
Thursday 04 May 2023  19:46:23 +0300 (0:00:00.093)       0:02:51.007 ********** 
Thursday 04 May 2023  19:46:23 +0300 (0:00:00.100)       0:02:51.107 ********** 
Thursday 04 May 2023  19:46:23 +0300 (0:00:00.097)       0:02:51.205 ********** 
Thursday 04 May 2023  19:46:23 +0300 (0:00:00.092)       0:02:51.297 ********** 
Thursday 04 May 2023  19:46:23 +0300 (0:00:00.088)       0:02:51.386 ********** 
Thursday 04 May 2023  19:46:23 +0300 (0:00:00.133)       0:02:51.519 ********** 
Thursday 04 May 2023  19:46:23 +0300 (0:00:00.105)       0:02:51.625 ********** 
Thursday 04 May 2023  19:46:23 +0300 (0:00:00.094)       0:02:51.719 ********** 
Thursday 04 May 2023  19:46:23 +0300 (0:00:00.100)       0:02:51.820 ********** 

TASK [kubernetes/preinstall : Hosts | create list from inventory] **************
ok: [control-prod-01 -> localhost]
Thursday 04 May 2023  19:46:24 +0300 (0:00:00.193)       0:02:52.013 ********** 

TASK [kubernetes/preinstall : Hosts | populate inventory into hosts file] ******
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:46:26 +0300 (0:00:01.969)       0:02:53.983 ********** 
Thursday 04 May 2023  19:46:26 +0300 (0:00:00.120)       0:02:54.103 ********** 

TASK [kubernetes/preinstall : Hosts | Retrieve hosts file content] *************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:46:27 +0300 (0:00:01.847)       0:02:55.951 ********** 

TASK [kubernetes/preinstall : Hosts | Extract existing entries for localhost from hosts file] ***
ok: [control-prod-01] => (item=127.0.0.1 localhost)
ok: [worker-prod-02] => (item=127.0.0.1 localhost)
ok: [ingress-prod-01] => (item=127.0.0.1 localhost)
ok: [control-prod-01] => (item=::1 localhost ip6-localhost ip6-loopback)
ok: [worker-prod-02] => (item=::1 localhost ip6-localhost ip6-loopback)
ok: [worker-prod-01] => (item=127.0.0.1 localhost)
ok: [ingress-prod-01] => (item=::1 localhost ip6-localhost ip6-loopback)
ok: [worker-prod-01] => (item=::1 localhost ip6-localhost ip6-loopback)
Thursday 04 May 2023  19:46:28 +0300 (0:00:00.492)       0:02:56.444 ********** 

TASK [kubernetes/preinstall : Hosts | Update target hosts file entries dict with required entries] ***
ok: [control-prod-01] => (item={'key': '127.0.0.1', 'value': {'expected': ['localhost', 'localhost.localdomain']}})
ok: [control-prod-01] => (item={'key': '::1', 'value': {'expected': ['localhost6', 'localhost6.localdomain'], 'unexpected': ['localhost', 'localhost.localdomain']}})
ok: [ingress-prod-01] => (item={'key': '127.0.0.1', 'value': {'expected': ['localhost', 'localhost.localdomain']}})
ok: [ingress-prod-01] => (item={'key': '::1', 'value': {'expected': ['localhost6', 'localhost6.localdomain'], 'unexpected': ['localhost', 'localhost.localdomain']}})
ok: [worker-prod-02] => (item={'key': '127.0.0.1', 'value': {'expected': ['localhost', 'localhost.localdomain']}})
ok: [worker-prod-02] => (item={'key': '::1', 'value': {'expected': ['localhost6', 'localhost6.localdomain'], 'unexpected': ['localhost', 'localhost.localdomain']}})
ok: [worker-prod-01] => (item={'key': '127.0.0.1', 'value': {'expected': ['localhost', 'localhost.localdomain']}})
ok: [worker-prod-01] => (item={'key': '::1', 'value': {'expected': ['localhost6', 'localhost6.localdomain'], 'unexpected': ['localhost', 'localhost.localdomain']}})
Thursday 04 May 2023  19:46:28 +0300 (0:00:00.153)       0:02:56.598 ********** 

TASK [kubernetes/preinstall : Hosts | Update (if necessary) hosts file] ********
changed: [control-prod-01] => (item={'key': '127.0.0.1', 'value': ['localhost', 'localhost.localdomain']})
changed: [ingress-prod-01] => (item={'key': '127.0.0.1', 'value': ['localhost', 'localhost.localdomain']})
changed: [worker-prod-01] => (item={'key': '127.0.0.1', 'value': ['localhost', 'localhost.localdomain']})
changed: [worker-prod-02] => (item={'key': '127.0.0.1', 'value': ['localhost', 'localhost.localdomain']})
changed: [control-prod-01] => (item={'key': '::1', 'value': ['ip6-localhost', 'ip6-loopback', 'localhost6', 'localhost6.localdomain']})
changed: [ingress-prod-01] => (item={'key': '::1', 'value': ['ip6-localhost', 'ip6-loopback', 'localhost6', 'localhost6.localdomain']})
changed: [worker-prod-01] => (item={'key': '::1', 'value': ['ip6-localhost', 'ip6-loopback', 'localhost6', 'localhost6.localdomain']})
changed: [worker-prod-02] => (item={'key': '::1', 'value': ['ip6-localhost', 'ip6-loopback', 'localhost6', 'localhost6.localdomain']})
Thursday 04 May 2023  19:46:31 +0300 (0:00:03.035)       0:02:59.633 ********** 

TASK [kubernetes/preinstall : Update facts] ************************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:46:35 +0300 (0:00:03.696)       0:03:03.329 ********** 

TASK [kubernetes/preinstall : Configure dhclient to supersede search/domain/nameservers] ***
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:46:37 +0300 (0:00:02.143)       0:03:05.472 ********** 

TASK [kubernetes/preinstall : Configure dhclient hooks for resolv.conf (non-RH)] ***
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:46:41 +0300 (0:00:03.747)       0:03:09.219 ********** 
Thursday 04 May 2023  19:46:41 +0300 (0:00:00.147)       0:03:09.367 ********** 
Thursday 04 May 2023  19:46:41 +0300 (0:00:00.123)       0:03:09.491 ********** 
Thursday 04 May 2023  19:46:41 +0300 (0:00:00.147)       0:03:09.638 ********** 
Thursday 04 May 2023  19:46:41 +0300 (0:00:00.000)       0:03:09.639 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | propagate resolvconf to k8s components] ***
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:46:43 +0300 (0:00:01.594)       0:03:11.233 ********** 
Thursday 04 May 2023  19:46:43 +0300 (0:00:00.137)       0:03:11.370 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | kube-apiserver configured] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:46:44 +0300 (0:00:01.148)       0:03:12.519 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | kube-controller configured] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:46:45 +0300 (0:00:01.141)       0:03:13.660 ********** 
Thursday 04 May 2023  19:46:45 +0300 (0:00:00.243)       0:03:13.904 ********** 
Thursday 04 May 2023  19:46:46 +0300 (0:00:00.180)       0:03:14.084 ********** 
Thursday 04 May 2023  19:46:46 +0300 (0:00:00.154)       0:03:14.239 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | restart kube-apiserver crio/containerd] ***
changed: [control-prod-01]
Thursday 04 May 2023  19:46:47 +0300 (0:00:01.215)       0:03:15.455 ********** 
Thursday 04 May 2023  19:46:47 +0300 (0:00:00.110)       0:03:15.565 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | Restart systemd-resolved] ***
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [ingress-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  19:46:49 +0300 (0:00:02.206)       0:03:17.772 ********** 

TASK [kubernetes/preinstall : Check if we are running inside a Azure VM] *******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:46:51 +0300 (0:00:01.442)       0:03:19.215 ********** 
Thursday 04 May 2023  19:46:51 +0300 (0:00:00.115)       0:03:19.330 ********** 
Thursday 04 May 2023  19:46:51 +0300 (0:00:00.111)       0:03:19.442 ********** 
Thursday 04 May 2023  19:46:51 +0300 (0:00:00.111)       0:03:19.553 ********** 
Thursday 04 May 2023  19:46:51 +0300 (0:00:00.141)       0:03:19.695 ********** 
Thursday 04 May 2023  19:46:51 +0300 (0:00:00.094)       0:03:19.790 ********** 
Thursday 04 May 2023  19:46:51 +0300 (0:00:00.101)       0:03:19.891 ********** 
Thursday 04 May 2023  19:46:52 +0300 (0:00:00.150)       0:03:20.042 ********** 

TASK [Run calico checks] *******************************************************
Thursday 04 May 2023  19:46:52 +0300 (0:00:00.496)       0:03:20.538 ********** 

TASK [network_plugin/calico : Stop if legacy encapsulation variables are detected (ipip)] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:46:52 +0300 (0:00:00.067)       0:03:20.605 ********** 

TASK [network_plugin/calico : Stop if legacy encapsulation variables are detected (ipip_mode)] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:46:52 +0300 (0:00:00.061)       0:03:20.667 ********** 

TASK [network_plugin/calico : Stop if legacy encapsulation variables are detected (calcio_ipam_autoallocateblocks)] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:46:52 +0300 (0:00:00.073)       0:03:20.740 ********** 
Thursday 04 May 2023  19:46:52 +0300 (0:00:00.063)       0:03:20.804 ********** 

TASK [network_plugin/calico : Stop if supported Calico versions] ***************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:46:52 +0300 (0:00:00.085)       0:03:20.889 ********** 
ASYNC FAILED on control-prod-01: jid=265170520426.8916

TASK [network_plugin/calico : Get current calico cluster version] **************
ok: [control-prod-01]
Thursday 04 May 2023  19:46:58 +0300 (0:00:05.897)       0:03:26.787 ********** 
Thursday 04 May 2023  19:46:58 +0300 (0:00:00.074)       0:03:26.861 ********** 
Thursday 04 May 2023  19:46:58 +0300 (0:00:00.045)       0:03:26.907 ********** 
Thursday 04 May 2023  19:46:58 +0300 (0:00:00.041)       0:03:26.949 ********** 

TASK [network_plugin/calico : Check vars defined correctly] ********************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:46:59 +0300 (0:00:00.061)       0:03:27.010 ********** 

TASK [network_plugin/calico : Check calico network backend defined correctly] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:46:59 +0300 (0:00:00.050)       0:03:27.061 ********** 

TASK [network_plugin/calico : Check ipip and vxlan mode defined correctly] *****
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:46:59 +0300 (0:00:00.060)       0:03:27.122 ********** 
Thursday 04 May 2023  19:46:59 +0300 (0:00:00.047)       0:03:27.169 ********** 

TASK [network_plugin/calico : Check ipip and vxlan mode if simultaneously enabled] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  19:46:59 +0300 (0:00:00.055)       0:03:27.224 ********** 

TASK [network_plugin/calico : Get Calico default-pool configuration] ***********
ok: [control-prod-01]
Thursday 04 May 2023  19:46:59 +0300 (0:00:00.427)       0:03:27.652 ********** 
Thursday 04 May 2023  19:46:59 +0300 (0:00:00.043)       0:03:27.696 ********** 
Thursday 04 May 2023  19:46:59 +0300 (0:00:00.042)       0:03:27.739 ********** 
Thursday 04 May 2023  19:46:59 +0300 (0:00:00.040)       0:03:27.780 ********** 
Thursday 04 May 2023  19:46:59 +0300 (0:00:00.036)       0:03:27.816 ********** 
Thursday 04 May 2023  19:46:59 +0300 (0:00:00.073)       0:03:27.890 ********** 

TASK [container-engine/validate-container-engine : validate-container-engine | check if fedora coreos] ***
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
ok: [ingress-prod-01]
Thursday 04 May 2023  19:47:01 +0300 (0:00:01.461)       0:03:29.352 ********** 

TASK [container-engine/validate-container-engine : validate-container-engine | set is_ostree] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:47:01 +0300 (0:00:00.140)       0:03:29.492 ********** 

TASK [container-engine/validate-container-engine : Ensure kubelet systemd unit exists] ***
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
ok: [ingress-prod-01]
Thursday 04 May 2023  19:47:02 +0300 (0:00:01.171)       0:03:30.664 ********** 

TASK [container-engine/validate-container-engine : Populate service facts] *****
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
ok: [ingress-prod-01]
Thursday 04 May 2023  19:47:07 +0300 (0:00:04.956)       0:03:35.620 ********** 

TASK [container-engine/validate-container-engine : Check if containerd is installed] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:47:09 +0300 (0:00:01.405)       0:03:37.025 ********** 

TASK [container-engine/validate-container-engine : Check if docker is installed] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:47:10 +0300 (0:00:01.538)       0:03:38.564 ********** 

TASK [container-engine/validate-container-engine : Check if crio is installed] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:47:12 +0300 (0:00:01.474)       0:03:40.039 ********** 
Thursday 04 May 2023  19:47:12 +0300 (0:00:00.132)       0:03:40.172 ********** 
Thursday 04 May 2023  19:47:12 +0300 (0:00:00.143)       0:03:40.315 ********** 
Thursday 04 May 2023  19:47:12 +0300 (0:00:00.208)       0:03:40.524 ********** 
Thursday 04 May 2023  19:47:12 +0300 (0:00:00.201)       0:03:40.726 ********** 
Thursday 04 May 2023  19:47:13 +0300 (0:00:00.417)       0:03:41.143 ********** 
Thursday 04 May 2023  19:47:13 +0300 (0:00:00.211)       0:03:41.354 ********** 
Thursday 04 May 2023  19:47:13 +0300 (0:00:00.248)       0:03:41.603 ********** 
Thursday 04 May 2023  19:47:13 +0300 (0:00:00.165)       0:03:41.768 ********** 
Thursday 04 May 2023  19:47:14 +0300 (0:00:00.216)       0:03:41.985 ********** 
Thursday 04 May 2023  19:47:14 +0300 (0:00:00.193)       0:03:42.179 ********** 
Thursday 04 May 2023  19:47:14 +0300 (0:00:00.151)       0:03:42.330 ********** 
Thursday 04 May 2023  19:47:14 +0300 (0:00:00.169)       0:03:42.499 ********** 
Thursday 04 May 2023  19:47:14 +0300 (0:00:00.125)       0:03:42.625 ********** 
Thursday 04 May 2023  19:47:14 +0300 (0:00:00.111)       0:03:42.736 ********** 
Thursday 04 May 2023  19:47:14 +0300 (0:00:00.117)       0:03:42.854 ********** 
Thursday 04 May 2023  19:47:15 +0300 (0:00:00.150)       0:03:43.004 ********** 
Thursday 04 May 2023  19:47:15 +0300 (0:00:00.128)       0:03:43.133 ********** 
Thursday 04 May 2023  19:47:15 +0300 (0:00:00.133)       0:03:43.267 ********** 
Thursday 04 May 2023  19:47:15 +0300 (0:00:00.120)       0:03:43.387 ********** 
Thursday 04 May 2023  19:47:15 +0300 (0:00:00.231)       0:03:43.619 ********** 
Thursday 04 May 2023  19:47:15 +0300 (0:00:00.139)       0:03:43.758 ********** 
Thursday 04 May 2023  19:47:15 +0300 (0:00:00.119)       0:03:43.878 ********** 
Thursday 04 May 2023  19:47:16 +0300 (0:00:00.118)       0:03:43.996 ********** 
Thursday 04 May 2023  19:47:16 +0300 (0:00:00.125)       0:03:44.122 ********** 
Thursday 04 May 2023  19:47:16 +0300 (0:00:00.207)       0:03:44.330 ********** 
Thursday 04 May 2023  19:47:16 +0300 (0:00:00.132)       0:03:44.463 ********** 
Thursday 04 May 2023  19:47:16 +0300 (0:00:00.121)       0:03:44.585 ********** 
Thursday 04 May 2023  19:47:16 +0300 (0:00:00.130)       0:03:44.715 ********** 
Thursday 04 May 2023  19:47:16 +0300 (0:00:00.124)       0:03:44.840 ********** 
Thursday 04 May 2023  19:47:16 +0300 (0:00:00.107)       0:03:44.947 ********** 
Thursday 04 May 2023  19:47:17 +0300 (0:00:00.162)       0:03:45.110 ********** 
Thursday 04 May 2023  19:47:17 +0300 (0:00:00.113)       0:03:45.223 ********** 
Thursday 04 May 2023  19:47:17 +0300 (0:00:00.274)       0:03:45.498 ********** 
Thursday 04 May 2023  19:47:17 +0300 (0:00:00.133)       0:03:45.632 ********** 
Thursday 04 May 2023  19:47:17 +0300 (0:00:00.125)       0:03:45.757 ********** 
Thursday 04 May 2023  19:47:17 +0300 (0:00:00.164)       0:03:45.922 ********** 
Thursday 04 May 2023  19:47:18 +0300 (0:00:00.134)       0:03:46.056 ********** 
Thursday 04 May 2023  19:47:18 +0300 (0:00:00.217)       0:03:46.274 ********** 
Thursday 04 May 2023  19:47:18 +0300 (0:00:00.205)       0:03:46.479 ********** 
Thursday 04 May 2023  19:47:18 +0300 (0:00:00.232)       0:03:46.712 ********** 
Thursday 04 May 2023  19:47:18 +0300 (0:00:00.218)       0:03:46.930 ********** 
Thursday 04 May 2023  19:47:19 +0300 (0:00:00.324)       0:03:47.255 ********** 
Thursday 04 May 2023  19:47:19 +0300 (0:00:00.176)       0:03:47.431 ********** 
Thursday 04 May 2023  19:47:19 +0300 (0:00:00.142)       0:03:47.573 ********** 
Thursday 04 May 2023  19:47:19 +0300 (0:00:00.130)       0:03:47.704 ********** 
Thursday 04 May 2023  19:47:19 +0300 (0:00:00.184)       0:03:47.888 ********** 
Thursday 04 May 2023  19:47:20 +0300 (0:00:00.135)       0:03:48.024 ********** 
Thursday 04 May 2023  19:47:20 +0300 (0:00:00.166)       0:03:48.190 ********** 
Thursday 04 May 2023  19:47:20 +0300 (0:00:00.214)       0:03:48.405 ********** 
Thursday 04 May 2023  19:47:20 +0300 (0:00:00.229)       0:03:48.634 ********** 
Thursday 04 May 2023  19:47:20 +0300 (0:00:00.232)       0:03:48.866 ********** 
Thursday 04 May 2023  19:47:21 +0300 (0:00:00.321)       0:03:49.188 ********** 
Thursday 04 May 2023  19:47:21 +0300 (0:00:00.313)       0:03:49.502 ********** 
Thursday 04 May 2023  19:47:21 +0300 (0:00:00.288)       0:03:49.790 ********** 
Thursday 04 May 2023  19:47:22 +0300 (0:00:00.189)       0:03:49.980 ********** 
Thursday 04 May 2023  19:47:22 +0300 (0:00:00.259)       0:03:50.240 ********** 
Thursday 04 May 2023  19:47:22 +0300 (0:00:00.253)       0:03:50.493 ********** 
Thursday 04 May 2023  19:47:22 +0300 (0:00:00.206)       0:03:50.699 ********** 
Thursday 04 May 2023  19:47:22 +0300 (0:00:00.208)       0:03:50.907 ********** 
Thursday 04 May 2023  19:47:23 +0300 (0:00:00.189)       0:03:51.097 ********** 
Thursday 04 May 2023  19:47:23 +0300 (0:00:00.173)       0:03:51.270 ********** 
Thursday 04 May 2023  19:47:23 +0300 (0:00:00.225)       0:03:51.496 ********** 
Thursday 04 May 2023  19:47:23 +0300 (0:00:00.204)       0:03:51.701 ********** 
Thursday 04 May 2023  19:47:23 +0300 (0:00:00.166)       0:03:51.868 ********** 
Thursday 04 May 2023  19:47:24 +0300 (0:00:00.120)       0:03:51.988 ********** 
Thursday 04 May 2023  19:47:24 +0300 (0:00:00.299)       0:03:52.288 ********** 
Thursday 04 May 2023  19:47:24 +0300 (0:00:00.151)       0:03:52.439 ********** 
Thursday 04 May 2023  19:47:24 +0300 (0:00:00.219)       0:03:52.658 ********** 
Thursday 04 May 2023  19:47:24 +0300 (0:00:00.129)       0:03:52.788 ********** 
Thursday 04 May 2023  19:47:24 +0300 (0:00:00.120)       0:03:52.908 ********** 
Thursday 04 May 2023  19:47:25 +0300 (0:00:00.157)       0:03:53.066 ********** 
Thursday 04 May 2023  19:47:25 +0300 (0:00:00.220)       0:03:53.286 ********** 
Thursday 04 May 2023  19:47:25 +0300 (0:00:00.215)       0:03:53.502 ********** 
Thursday 04 May 2023  19:47:25 +0300 (0:00:00.279)       0:03:53.781 ********** 
Thursday 04 May 2023  19:47:26 +0300 (0:00:00.226)       0:03:54.008 ********** 
Thursday 04 May 2023  19:47:26 +0300 (0:00:00.181)       0:03:54.190 ********** 
Thursday 04 May 2023  19:47:26 +0300 (0:00:00.145)       0:03:54.335 ********** 
Thursday 04 May 2023  19:47:26 +0300 (0:00:00.292)       0:03:54.628 ********** 
Thursday 04 May 2023  19:47:26 +0300 (0:00:00.139)       0:03:54.768 ********** 
Thursday 04 May 2023  19:47:26 +0300 (0:00:00.160)       0:03:54.929 ********** 
Thursday 04 May 2023  19:47:27 +0300 (0:00:00.106)       0:03:55.036 ********** 
Thursday 04 May 2023  19:47:27 +0300 (0:00:00.253)       0:03:55.289 ********** 
Thursday 04 May 2023  19:47:27 +0300 (0:00:00.148)       0:03:55.438 ********** 
Thursday 04 May 2023  19:47:27 +0300 (0:00:00.114)       0:03:55.553 ********** 
Thursday 04 May 2023  19:47:27 +0300 (0:00:00.112)       0:03:55.665 ********** 
Thursday 04 May 2023  19:47:27 +0300 (0:00:00.120)       0:03:55.786 ********** 
Thursday 04 May 2023  19:47:27 +0300 (0:00:00.111)       0:03:55.897 ********** 
Thursday 04 May 2023  19:47:28 +0300 (0:00:00.113)       0:03:56.011 ********** 
Thursday 04 May 2023  19:47:28 +0300 (0:00:00.151)       0:03:56.162 ********** 
Thursday 04 May 2023  19:47:28 +0300 (0:00:00.111)       0:03:56.273 ********** 
Thursday 04 May 2023  19:47:28 +0300 (0:00:00.114)       0:03:56.387 ********** 
Thursday 04 May 2023  19:47:28 +0300 (0:00:00.111)       0:03:56.499 ********** 
Thursday 04 May 2023  19:47:28 +0300 (0:00:00.104)       0:03:56.604 ********** 
Thursday 04 May 2023  19:47:28 +0300 (0:00:00.157)       0:03:56.761 ********** 
Thursday 04 May 2023  19:47:28 +0300 (0:00:00.114)       0:03:56.876 ********** 
Thursday 04 May 2023  19:47:29 +0300 (0:00:00.117)       0:03:56.993 ********** 
Thursday 04 May 2023  19:47:29 +0300 (0:00:00.109)       0:03:57.102 ********** 
Thursday 04 May 2023  19:47:29 +0300 (0:00:00.112)       0:03:57.214 ********** 
Thursday 04 May 2023  19:47:29 +0300 (0:00:00.110)       0:03:57.325 ********** 
Thursday 04 May 2023  19:47:29 +0300 (0:00:00.114)       0:03:57.439 ********** 
Thursday 04 May 2023  19:47:29 +0300 (0:00:00.137)       0:03:57.577 ********** 
Thursday 04 May 2023  19:47:29 +0300 (0:00:00.147)       0:03:57.724 ********** 
Thursday 04 May 2023  19:47:29 +0300 (0:00:00.136)       0:03:57.861 ********** 
Thursday 04 May 2023  19:47:30 +0300 (0:00:00.129)       0:03:57.990 ********** 
Thursday 04 May 2023  19:47:30 +0300 (0:00:00.118)       0:03:58.108 ********** 
Thursday 04 May 2023  19:47:30 +0300 (0:00:00.123)       0:03:58.231 ********** 
Thursday 04 May 2023  19:47:30 +0300 (0:00:00.112)       0:03:58.344 ********** 
Thursday 04 May 2023  19:47:30 +0300 (0:00:00.112)       0:03:58.457 ********** 
Thursday 04 May 2023  19:47:30 +0300 (0:00:00.111)       0:03:58.568 ********** 
Thursday 04 May 2023  19:47:30 +0300 (0:00:00.110)       0:03:58.679 ********** 
Thursday 04 May 2023  19:47:30 +0300 (0:00:00.116)       0:03:58.796 ********** 
Thursday 04 May 2023  19:47:30 +0300 (0:00:00.117)       0:03:58.913 ********** 
Thursday 04 May 2023  19:47:31 +0300 (0:00:00.128)       0:03:59.042 ********** 
Thursday 04 May 2023  19:47:31 +0300 (0:00:00.156)       0:03:59.198 ********** 
Thursday 04 May 2023  19:47:31 +0300 (0:00:00.152)       0:03:59.351 ********** 
Thursday 04 May 2023  19:47:31 +0300 (0:00:00.107)       0:03:59.459 ********** 
Thursday 04 May 2023  19:47:31 +0300 (0:00:00.121)       0:03:59.580 ********** 
Thursday 04 May 2023  19:47:31 +0300 (0:00:00.157)       0:03:59.737 ********** 
Thursday 04 May 2023  19:47:31 +0300 (0:00:00.144)       0:03:59.882 ********** 
Thursday 04 May 2023  19:47:32 +0300 (0:00:00.154)       0:04:00.037 ********** 
Thursday 04 May 2023  19:47:32 +0300 (0:00:00.115)       0:04:00.152 ********** 
Thursday 04 May 2023  19:47:32 +0300 (0:00:00.167)       0:04:00.319 ********** 
Thursday 04 May 2023  19:47:32 +0300 (0:00:00.125)       0:04:00.445 ********** 
Thursday 04 May 2023  19:47:32 +0300 (0:00:00.114)       0:04:00.560 ********** 
Thursday 04 May 2023  19:47:32 +0300 (0:00:00.127)       0:04:00.688 ********** 
Thursday 04 May 2023  19:47:32 +0300 (0:00:00.114)       0:04:00.803 ********** 
Thursday 04 May 2023  19:47:32 +0300 (0:00:00.139)       0:04:00.942 ********** 
Thursday 04 May 2023  19:47:33 +0300 (0:00:00.124)       0:04:01.067 ********** 
Thursday 04 May 2023  19:47:33 +0300 (0:00:00.139)       0:04:01.206 ********** 
Thursday 04 May 2023  19:47:33 +0300 (0:00:00.125)       0:04:01.332 ********** 
Thursday 04 May 2023  19:47:33 +0300 (0:00:00.179)       0:04:01.512 ********** 
Thursday 04 May 2023  19:47:33 +0300 (0:00:00.128)       0:04:01.640 ********** 
Thursday 04 May 2023  19:47:33 +0300 (0:00:00.144)       0:04:01.785 ********** 
Thursday 04 May 2023  19:47:33 +0300 (0:00:00.107)       0:04:01.893 ********** 
Thursday 04 May 2023  19:47:34 +0300 (0:00:00.106)       0:04:02.000 ********** 
Thursday 04 May 2023  19:47:34 +0300 (0:00:00.203)       0:04:02.203 ********** 

TASK [container-engine/containerd-common : containerd-common | check if fedora coreos] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:47:35 +0300 (0:00:01.559)       0:04:03.763 ********** 

TASK [container-engine/containerd-common : containerd-common | set is_ostree] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:47:35 +0300 (0:00:00.183)       0:04:03.946 ********** 

TASK [container-engine/containerd-common : containerd-common | gather os specific variables] ***
ok: [control-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/container-engine/containerd/vars/../vars/ubuntu.yml)
ok: [ingress-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/container-engine/containerd/vars/../vars/ubuntu.yml)
ok: [worker-prod-02] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/container-engine/containerd/vars/../vars/ubuntu.yml)
ok: [worker-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/container-engine/containerd/vars/../vars/ubuntu.yml)
Thursday 04 May 2023  19:47:36 +0300 (0:00:00.240)       0:04:04.186 ********** 

TASK [container-engine/runc : runc | check if fedora coreos] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:47:37 +0300 (0:00:01.448)       0:04:05.635 ********** 

TASK [container-engine/runc : runc | set is_ostree] ****************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:47:37 +0300 (0:00:00.275)       0:04:05.910 ********** 

TASK [container-engine/runc : runc | Uninstall runc package managed by package manager] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:47:41 +0300 (0:00:03.100)       0:04:09.011 ********** 

TASK [container-engine/runc : runc | Download runc binary] *********************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/container-engine/runc/tasks/../../../download/tasks/download_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:47:41 +0300 (0:00:00.306)       0:04:09.317 ********** 

TASK [container-engine/runc : prep_download | Set a few facts] *****************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:47:41 +0300 (0:00:00.243)       0:04:09.561 ********** 

TASK [container-engine/runc : download_file | Starting download of file] *******
ok: [worker-prod-02] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.4/runc.amd64"
}
ok: [control-prod-01] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.4/runc.amd64"
}
ok: [ingress-prod-01] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.4/runc.amd64"
}
ok: [worker-prod-01] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.4/runc.amd64"
}
Thursday 04 May 2023  19:47:43 +0300 (0:00:01.437)       0:04:10.998 ********** 

TASK [container-engine/runc : download_file | Set pathname of cached file] *****
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:47:44 +0300 (0:00:01.389)       0:04:12.388 ********** 

TASK [container-engine/runc : download_file | Create dest directory on node] ***
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
changed: [ingress-prod-01]
Thursday 04 May 2023  19:47:46 +0300 (0:00:02.352)       0:04:14.740 ********** 
Thursday 04 May 2023  19:47:46 +0300 (0:00:00.092)       0:04:14.833 ********** 
Thursday 04 May 2023  19:47:47 +0300 (0:00:00.554)       0:04:15.388 ********** 

TASK [container-engine/runc : download_file | Validate mirrors] ****************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [ingress-prod-01] => (item=None)
ok: [ingress-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02] => (item=None)
ok: [worker-prod-02 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-01] => (item=None)
ok: [worker-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:47:51 +0300 (0:00:04.287)       0:04:19.675 ********** 

TASK [container-engine/runc : download_file | Get the list of working mirrors] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:47:52 +0300 (0:00:00.392)       0:04:20.068 ********** 

TASK [container-engine/runc : download_file | Download item] *******************
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [control-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  19:47:56 +0300 (0:00:04.315)       0:04:24.384 ********** 
Thursday 04 May 2023  19:47:56 +0300 (0:00:00.243)       0:04:24.627 ********** 
Thursday 04 May 2023  19:47:56 +0300 (0:00:00.237)       0:04:24.864 ********** 
Thursday 04 May 2023  19:47:57 +0300 (0:00:00.192)       0:04:25.056 ********** 

TASK [container-engine/runc : download_file | Extract file archives] ***********
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:47:57 +0300 (0:00:00.362)       0:04:25.419 ********** 
Thursday 04 May 2023  19:47:58 +0300 (0:00:01.490)       0:04:26.910 ********** 

TASK [container-engine/runc : Copy runc binary from download dir] **************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:48:01 +0300 (0:00:02.524)       0:04:29.434 ********** 

TASK [container-engine/runc : runc | Remove orphaned binary] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:48:02 +0300 (0:00:01.348)       0:04:30.783 ********** 

TASK [container-engine/crictl : install crictĺ] ********************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/container-engine/crictl/tasks/crictl.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:48:03 +0300 (0:00:00.220)       0:04:31.003 ********** 

TASK [container-engine/crictl : crictl | Download crictl] **********************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/container-engine/crictl/tasks/../../../download/tasks/download_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:48:03 +0300 (0:00:00.231)       0:04:31.234 ********** 

TASK [container-engine/crictl : prep_download | Set a few facts] ***************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:48:03 +0300 (0:00:00.157)       0:04:31.392 ********** 

TASK [container-engine/crictl : download_file | Starting download of file] *****
ok: [control-prod-01] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.25.0/crictl-v1.25.0-linux-amd64.tar.gz"
}
ok: [worker-prod-02] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.25.0/crictl-v1.25.0-linux-amd64.tar.gz"
}
ok: [ingress-prod-01] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.25.0/crictl-v1.25.0-linux-amd64.tar.gz"
}
ok: [worker-prod-01] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.25.0/crictl-v1.25.0-linux-amd64.tar.gz"
}
Thursday 04 May 2023  19:48:04 +0300 (0:00:01.157)       0:04:32.550 ********** 

TASK [container-engine/crictl : download_file | Set pathname of cached file] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:48:05 +0300 (0:00:00.858)       0:04:33.409 ********** 

TASK [container-engine/crictl : download_file | Create dest directory on node] ***
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  19:48:07 +0300 (0:00:02.394)       0:04:35.804 ********** 
Thursday 04 May 2023  19:48:07 +0300 (0:00:00.060)       0:04:35.864 ********** 
Thursday 04 May 2023  19:48:08 +0300 (0:00:00.468)       0:04:36.332 ********** 

TASK [container-engine/crictl : download_file | Validate mirrors] **************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [ingress-prod-01] => (item=None)
ok: [ingress-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02] => (item=None)
ok: [worker-prod-02 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-01] => (item=None)
ok: [worker-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:48:12 +0300 (0:00:04.163)       0:04:40.496 ********** 

TASK [container-engine/crictl : download_file | Get the list of working mirrors] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:48:12 +0300 (0:00:00.223)       0:04:40.719 ********** 

TASK [container-engine/crictl : download_file | Download item] *****************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:48:17 +0300 (0:00:04.445)       0:04:45.164 ********** 
Thursday 04 May 2023  19:48:17 +0300 (0:00:00.140)       0:04:45.304 ********** 
Thursday 04 May 2023  19:48:17 +0300 (0:00:00.136)       0:04:45.440 ********** 
Thursday 04 May 2023  19:48:17 +0300 (0:00:00.136)       0:04:45.577 ********** 

TASK [container-engine/crictl : download_file | Extract file archives] *********
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:48:17 +0300 (0:00:00.196)       0:04:45.773 ********** 

TASK [container-engine/crictl : extract_file | Unpacking archive] **************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:48:26 +0300 (0:00:08.826)       0:04:54.600 ********** 

TASK [container-engine/crictl : Install crictl config] *************************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:48:29 +0300 (0:00:02.602)       0:04:57.203 ********** 

TASK [container-engine/crictl : Copy crictl binary from download dir] **********
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:48:31 +0300 (0:00:02.509)       0:04:59.713 ********** 

TASK [container-engine/nerdctl : nerdctl | Download nerdctl] *******************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/container-engine/nerdctl/tasks/../../../download/tasks/download_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:48:31 +0300 (0:00:00.167)       0:04:59.880 ********** 

TASK [container-engine/nerdctl : prep_download | Set a few facts] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:48:32 +0300 (0:00:00.170)       0:05:00.050 ********** 

TASK [container-engine/nerdctl : download_file | Starting download of file] ****
ok: [control-prod-01] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.0.0/nerdctl-1.0.0-linux-amd64.tar.gz"
}
ok: [ingress-prod-01] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.0.0/nerdctl-1.0.0-linux-amd64.tar.gz"
}
ok: [worker-prod-02] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.0.0/nerdctl-1.0.0-linux-amd64.tar.gz"
}
ok: [worker-prod-01] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.0.0/nerdctl-1.0.0-linux-amd64.tar.gz"
}
Thursday 04 May 2023  19:48:32 +0300 (0:00:00.916)       0:05:00.967 ********** 

TASK [container-engine/nerdctl : download_file | Set pathname of cached file] ***
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  19:48:33 +0300 (0:00:00.912)       0:05:01.879 ********** 

TASK [container-engine/nerdctl : download_file | Create dest directory on node] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:48:36 +0300 (0:00:02.488)       0:05:04.368 ********** 
Thursday 04 May 2023  19:48:36 +0300 (0:00:00.074)       0:05:04.443 ********** 
Thursday 04 May 2023  19:48:36 +0300 (0:00:00.434)       0:05:04.877 ********** 

TASK [container-engine/nerdctl : download_file | Validate mirrors] *************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [ingress-prod-01] => (item=None)
ok: [ingress-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02] => (item=None)
ok: [worker-prod-02 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-01] => (item=None)
ok: [worker-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:48:41 +0300 (0:00:04.146)       0:05:09.024 ********** 

TASK [container-engine/nerdctl : download_file | Get the list of working mirrors] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:48:41 +0300 (0:00:00.267)       0:05:09.291 ********** 

TASK [container-engine/nerdctl : download_file | Download item] ****************
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [ingress-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  19:48:47 +0300 (0:00:06.389)       0:05:15.681 ********** 
Thursday 04 May 2023  19:48:47 +0300 (0:00:00.150)       0:05:15.831 ********** 
Thursday 04 May 2023  19:48:47 +0300 (0:00:00.142)       0:05:15.973 ********** 
Thursday 04 May 2023  19:48:48 +0300 (0:00:00.138)       0:05:16.112 ********** 

TASK [container-engine/nerdctl : download_file | Extract file archives] ********
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:48:48 +0300 (0:00:00.189)       0:05:16.301 ********** 

TASK [container-engine/nerdctl : extract_file | Unpacking archive] *************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:48:54 +0300 (0:00:06.480)       0:05:22.782 ********** 

TASK [container-engine/nerdctl : nerdctl | Copy nerdctl binary from download dir] ***
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
changed: [ingress-prod-01]
Thursday 04 May 2023  19:48:56 +0300 (0:00:01.566)       0:05:24.349 ********** 

TASK [container-engine/nerdctl : nerdctl | Create configuration dir] ***********
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:48:57 +0300 (0:00:01.215)       0:05:25.564 ********** 

TASK [container-engine/nerdctl : nerdctl | Install nerdctl configuration] ******
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [ingress-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  19:49:00 +0300 (0:00:02.483)       0:05:28.048 ********** 
Thursday 04 May 2023  19:49:00 +0300 (0:00:00.128)       0:05:28.177 ********** 

TASK [container-engine/containerd : containerd | Remove any package manager controlled containerd package] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:49:02 +0300 (0:00:02.215)       0:05:30.392 ********** 
Thursday 04 May 2023  19:49:02 +0300 (0:00:00.142)       0:05:30.534 ********** 

TASK [container-engine/containerd : containerd | Remove containerd repository] ***
ok: [control-prod-01] => (item=deb https://download.docker.com/linux/ubuntu focal stable
)
ok: [ingress-prod-01] => (item=deb https://download.docker.com/linux/ubuntu focal stable
)
ok: [worker-prod-02] => (item=deb https://download.docker.com/linux/ubuntu focal stable
)
ok: [worker-prod-01] => (item=deb https://download.docker.com/linux/ubuntu focal stable
)
Thursday 04 May 2023  19:49:04 +0300 (0:00:02.019)       0:05:32.554 ********** 

TASK [container-engine/containerd : containerd | Download containerd] **********
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/container-engine/containerd/tasks/../../../download/tasks/download_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:49:04 +0300 (0:00:00.181)       0:05:32.735 ********** 

TASK [container-engine/containerd : prep_download | Set a few facts] ***********
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:49:04 +0300 (0:00:00.150)       0:05:32.885 ********** 

TASK [container-engine/containerd : download_file | Starting download of file] ***
ok: [control-prod-01] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.6.15/containerd-1.6.15-linux-amd64.tar.gz"
}
ok: [ingress-prod-01] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.6.15/containerd-1.6.15-linux-amd64.tar.gz"
}
ok: [worker-prod-02] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.6.15/containerd-1.6.15-linux-amd64.tar.gz"
}
ok: [worker-prod-01] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.6.15/containerd-1.6.15-linux-amd64.tar.gz"
}
Thursday 04 May 2023  19:49:05 +0300 (0:00:00.881)       0:05:33.767 ********** 

TASK [container-engine/containerd : download_file | Set pathname of cached file] ***
ok: [ingress-prod-01]
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:49:06 +0300 (0:00:00.854)       0:05:34.622 ********** 

TASK [container-engine/containerd : download_file | Create dest directory on node] ***
ok: [worker-prod-02]
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  19:49:09 +0300 (0:00:02.412)       0:05:37.034 ********** 
Thursday 04 May 2023  19:49:09 +0300 (0:00:00.086)       0:05:37.121 ********** 
Thursday 04 May 2023  19:49:09 +0300 (0:00:00.567)       0:05:37.688 ********** 

TASK [container-engine/containerd : download_file | Validate mirrors] **********
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [ingress-prod-01] => (item=None)
ok: [ingress-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02] => (item=None)
ok: [worker-prod-02 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-01] => (item=None)
ok: [worker-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:49:15 +0300 (0:00:05.393)       0:05:43.082 ********** 

TASK [container-engine/containerd : download_file | Get the list of working mirrors] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:49:15 +0300 (0:00:00.504)       0:05:43.586 ********** 

TASK [container-engine/containerd : download_file | Download item] *************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:49:21 +0300 (0:00:05.590)       0:05:49.177 ********** 
Thursday 04 May 2023  19:49:21 +0300 (0:00:00.120)       0:05:49.298 ********** 
Thursday 04 May 2023  19:49:21 +0300 (0:00:00.127)       0:05:49.426 ********** 
Thursday 04 May 2023  19:49:21 +0300 (0:00:00.139)       0:05:49.565 ********** 

TASK [container-engine/containerd : download_file | Extract file archives] *****
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:49:21 +0300 (0:00:00.233)       0:05:49.799 ********** 
Thursday 04 May 2023  19:49:22 +0300 (0:00:00.951)       0:05:50.750 ********** 

TASK [container-engine/containerd : containerd | Unpack containerd archive] ****
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:49:40 +0300 (0:00:17.512)       0:06:08.263 ********** 

TASK [container-engine/containerd : containerd | Remove orphaned binary] *******
ok: [control-prod-01] => (item=containerd)
ok: [ingress-prod-01] => (item=containerd)
ok: [worker-prod-02] => (item=containerd)
ok: [worker-prod-01] => (item=containerd)
ok: [control-prod-01] => (item=containerd-shim)
ok: [ingress-prod-01] => (item=containerd-shim)
ok: [worker-prod-02] => (item=containerd-shim)
ok: [worker-prod-01] => (item=containerd-shim)
ok: [control-prod-01] => (item=containerd-shim-runc-v1)
ok: [ingress-prod-01] => (item=containerd-shim-runc-v1)
ok: [worker-prod-02] => (item=containerd-shim-runc-v1)
ok: [worker-prod-01] => (item=containerd-shim-runc-v1)
ok: [control-prod-01] => (item=containerd-shim-runc-v2)
ok: [ingress-prod-01] => (item=containerd-shim-runc-v2)
ok: [worker-prod-02] => (item=containerd-shim-runc-v2)
ok: [worker-prod-01] => (item=containerd-shim-runc-v2)
ok: [control-prod-01] => (item=ctr)
ok: [ingress-prod-01] => (item=ctr)
ok: [worker-prod-02] => (item=ctr)
ok: [worker-prod-01] => (item=ctr)
Thursday 04 May 2023  19:49:47 +0300 (0:00:06.907)       0:06:15.170 ********** 

TASK [container-engine/containerd : containerd | Generate systemd service for containerd] ***
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [ingress-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  19:49:49 +0300 (0:00:02.467)       0:06:17.638 ********** 

TASK [container-engine/containerd : containerd | Ensure containerd directories exist] ***
changed: [control-prod-01] => (item=/etc/systemd/system/containerd.service.d)
changed: [ingress-prod-01] => (item=/etc/systemd/system/containerd.service.d)
changed: [worker-prod-01] => (item=/etc/systemd/system/containerd.service.d)
changed: [worker-prod-02] => (item=/etc/systemd/system/containerd.service.d)
changed: [control-prod-01] => (item=/etc/containerd)
changed: [ingress-prod-01] => (item=/etc/containerd)
changed: [worker-prod-01] => (item=/etc/containerd)
changed: [worker-prod-02] => (item=/etc/containerd)
changed: [control-prod-01] => (item=/var/lib/containerd)
changed: [ingress-prod-01] => (item=/var/lib/containerd)
changed: [worker-prod-01] => (item=/var/lib/containerd)
changed: [worker-prod-02] => (item=/var/lib/containerd)
changed: [control-prod-01] => (item=/run/containerd)
changed: [ingress-prod-01] => (item=/run/containerd)
changed: [worker-prod-01] => (item=/run/containerd)
changed: [worker-prod-02] => (item=/run/containerd)
Thursday 04 May 2023  19:49:55 +0300 (0:00:05.806)       0:06:23.445 ********** 
Thursday 04 May 2023  19:49:55 +0300 (0:00:00.128)       0:06:23.574 ********** 

TASK [container-engine/containerd : containerd | Generate default base_runtime_spec] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:49:56 +0300 (0:00:01.382)       0:06:24.957 ********** 

TASK [container-engine/containerd : containerd | Store generated default base_runtime_spec] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:49:57 +0300 (0:00:00.158)       0:06:25.115 ********** 

TASK [container-engine/containerd : containerd | Write base_runtime_specs] *****
changed: [control-prod-01] => (item={'key': 'cri-base.json', 'value': {'ociVersion': '1.0.2-dev', 'process': {'user': {'uid': 0, 'gid': 0}, 'cwd': '/', 'capabilities': {'bounding': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'effective': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'permitted': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE']}, 'rlimits': [{'type': 'RLIMIT_NOFILE', 'hard': 65535, 'soft': 65535}], 'noNewPrivileges': True}, 'root': {'path': 'rootfs'}, 'mounts': [{'destination': '/proc', 'type': 'proc', 'source': 'proc', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/dev', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}, {'destination': '/dev/pts', 'type': 'devpts', 'source': 'devpts', 'options': ['nosuid', 'noexec', 'newinstance', 'ptmxmode=0666', 'mode=0620', 'gid=5']}, {'destination': '/dev/shm', 'type': 'tmpfs', 'source': 'shm', 'options': ['nosuid', 'noexec', 'nodev', 'mode=1777', 'size=65536k']}, {'destination': '/dev/mqueue', 'type': 'mqueue', 'source': 'mqueue', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/sys', 'type': 'sysfs', 'source': 'sysfs', 'options': ['nosuid', 'noexec', 'nodev', 'ro']}, {'destination': '/run', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}], 'linux': {'resources': {'devices': [{'allow': False, 'access': 'rwm'}]}, 'cgroupsPath': '/default', 'namespaces': [{'type': 'pid'}, {'type': 'ipc'}, {'type': 'uts'}, {'type': 'mount'}, {'type': 'network'}], 'maskedPaths': ['/proc/acpi', '/proc/asound', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/sys/firmware', '/proc/scsi'], 'readonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}}})
changed: [worker-prod-02] => (item={'key': 'cri-base.json', 'value': {'ociVersion': '1.0.2-dev', 'process': {'user': {'uid': 0, 'gid': 0}, 'cwd': '/', 'capabilities': {'bounding': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'effective': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'permitted': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE']}, 'rlimits': [{'type': 'RLIMIT_NOFILE', 'hard': 65535, 'soft': 65535}], 'noNewPrivileges': True}, 'root': {'path': 'rootfs'}, 'mounts': [{'destination': '/proc', 'type': 'proc', 'source': 'proc', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/dev', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}, {'destination': '/dev/pts', 'type': 'devpts', 'source': 'devpts', 'options': ['nosuid', 'noexec', 'newinstance', 'ptmxmode=0666', 'mode=0620', 'gid=5']}, {'destination': '/dev/shm', 'type': 'tmpfs', 'source': 'shm', 'options': ['nosuid', 'noexec', 'nodev', 'mode=1777', 'size=65536k']}, {'destination': '/dev/mqueue', 'type': 'mqueue', 'source': 'mqueue', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/sys', 'type': 'sysfs', 'source': 'sysfs', 'options': ['nosuid', 'noexec', 'nodev', 'ro']}, {'destination': '/run', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}], 'linux': {'resources': {'devices': [{'allow': False, 'access': 'rwm'}]}, 'cgroupsPath': '/default', 'namespaces': [{'type': 'pid'}, {'type': 'ipc'}, {'type': 'uts'}, {'type': 'mount'}, {'type': 'network'}], 'maskedPaths': ['/proc/acpi', '/proc/asound', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/sys/firmware', '/proc/scsi'], 'readonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}}})
changed: [worker-prod-01] => (item={'key': 'cri-base.json', 'value': {'ociVersion': '1.0.2-dev', 'process': {'user': {'uid': 0, 'gid': 0}, 'cwd': '/', 'capabilities': {'bounding': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'effective': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'permitted': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE']}, 'rlimits': [{'type': 'RLIMIT_NOFILE', 'hard': 65535, 'soft': 65535}], 'noNewPrivileges': True}, 'root': {'path': 'rootfs'}, 'mounts': [{'destination': '/proc', 'type': 'proc', 'source': 'proc', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/dev', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}, {'destination': '/dev/pts', 'type': 'devpts', 'source': 'devpts', 'options': ['nosuid', 'noexec', 'newinstance', 'ptmxmode=0666', 'mode=0620', 'gid=5']}, {'destination': '/dev/shm', 'type': 'tmpfs', 'source': 'shm', 'options': ['nosuid', 'noexec', 'nodev', 'mode=1777', 'size=65536k']}, {'destination': '/dev/mqueue', 'type': 'mqueue', 'source': 'mqueue', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/sys', 'type': 'sysfs', 'source': 'sysfs', 'options': ['nosuid', 'noexec', 'nodev', 'ro']}, {'destination': '/run', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}], 'linux': {'resources': {'devices': [{'allow': False, 'access': 'rwm'}]}, 'cgroupsPath': '/default', 'namespaces': [{'type': 'pid'}, {'type': 'ipc'}, {'type': 'uts'}, {'type': 'mount'}, {'type': 'network'}], 'maskedPaths': ['/proc/acpi', '/proc/asound', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/sys/firmware', '/proc/scsi'], 'readonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}}})
changed: [ingress-prod-01] => (item={'key': 'cri-base.json', 'value': {'ociVersion': '1.0.2-dev', 'process': {'user': {'uid': 0, 'gid': 0}, 'cwd': '/', 'capabilities': {'bounding': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'effective': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'permitted': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE']}, 'rlimits': [{'type': 'RLIMIT_NOFILE', 'hard': 65535, 'soft': 65535}], 'noNewPrivileges': True}, 'root': {'path': 'rootfs'}, 'mounts': [{'destination': '/proc', 'type': 'proc', 'source': 'proc', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/dev', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}, {'destination': '/dev/pts', 'type': 'devpts', 'source': 'devpts', 'options': ['nosuid', 'noexec', 'newinstance', 'ptmxmode=0666', 'mode=0620', 'gid=5']}, {'destination': '/dev/shm', 'type': 'tmpfs', 'source': 'shm', 'options': ['nosuid', 'noexec', 'nodev', 'mode=1777', 'size=65536k']}, {'destination': '/dev/mqueue', 'type': 'mqueue', 'source': 'mqueue', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/sys', 'type': 'sysfs', 'source': 'sysfs', 'options': ['nosuid', 'noexec', 'nodev', 'ro']}, {'destination': '/run', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}], 'linux': {'resources': {'devices': [{'allow': False, 'access': 'rwm'}]}, 'cgroupsPath': '/default', 'namespaces': [{'type': 'pid'}, {'type': 'ipc'}, {'type': 'uts'}, {'type': 'mount'}, {'type': 'network'}], 'maskedPaths': ['/proc/acpi', '/proc/asound', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/sys/firmware', '/proc/scsi'], 'readonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}}})
Thursday 04 May 2023  19:49:59 +0300 (0:00:02.634)       0:06:27.750 ********** 

TASK [container-engine/containerd : containerd | Copy containerd config file] ***
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [ingress-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  19:50:02 +0300 (0:00:02.598)       0:06:30.348 ********** 
Thursday 04 May 2023  19:50:02 +0300 (0:00:00.135)       0:06:30.484 ********** 
Thursday 04 May 2023  19:50:02 +0300 (0:00:00.114)       0:06:30.598 ********** 
Thursday 04 May 2023  19:50:02 +0300 (0:00:00.000)       0:06:30.599 ********** 
Thursday 04 May 2023  19:50:02 +0300 (0:00:00.112)       0:06:30.711 ********** 
Thursday 04 May 2023  19:50:02 +0300 (0:00:00.112)       0:06:30.824 ********** 
Thursday 04 May 2023  19:50:02 +0300 (0:00:00.120)       0:06:30.944 ********** 
Thursday 04 May 2023  19:50:03 +0300 (0:00:00.110)       0:06:31.054 ********** 

RUNNING HANDLER [container-engine/containerd : restart containerd] *************
changed: [control-prod-01]
changed: [worker-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:50:04 +0300 (0:00:01.312)       0:06:32.367 ********** 

RUNNING HANDLER [container-engine/containerd : Containerd | restart containerd] ***
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:50:07 +0300 (0:00:03.565)       0:06:35.932 ********** 

RUNNING HANDLER [container-engine/containerd : Containerd | wait for containerd] ***
changed: [control-prod-01]
changed: [worker-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:50:09 +0300 (0:00:01.364)       0:06:37.296 ********** 

TASK [container-engine/containerd : containerd | Ensure containerd is started and enabled] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:50:11 +0300 (0:00:02.288)       0:06:39.585 ********** 
Thursday 04 May 2023  19:50:11 +0300 (0:00:00.187)       0:06:39.772 ********** 
Thursday 04 May 2023  19:50:12 +0300 (0:00:00.229)       0:06:40.002 ********** 
Thursday 04 May 2023  19:50:12 +0300 (0:00:00.303)       0:06:40.306 ********** 
Thursday 04 May 2023  19:50:12 +0300 (0:00:00.145)       0:06:40.451 ********** 
Thursday 04 May 2023  19:50:12 +0300 (0:00:00.120)       0:06:40.572 ********** 
Thursday 04 May 2023  19:50:12 +0300 (0:00:00.120)       0:06:40.692 ********** 
Thursday 04 May 2023  19:50:12 +0300 (0:00:00.121)       0:06:40.813 ********** 
Thursday 04 May 2023  19:50:12 +0300 (0:00:00.110)       0:06:40.924 ********** 
Thursday 04 May 2023  19:50:13 +0300 (0:00:00.267)       0:06:41.192 ********** 
Thursday 04 May 2023  19:50:13 +0300 (0:00:00.163)       0:06:41.355 ********** 
Thursday 04 May 2023  19:50:13 +0300 (0:00:00.240)       0:06:41.596 ********** 
Thursday 04 May 2023  19:50:13 +0300 (0:00:00.175)       0:06:41.772 ********** 
Thursday 04 May 2023  19:50:13 +0300 (0:00:00.166)       0:06:41.938 ********** 
Thursday 04 May 2023  19:50:14 +0300 (0:00:00.171)       0:06:42.110 ********** 
Thursday 04 May 2023  19:50:14 +0300 (0:00:00.138)       0:06:42.249 ********** 
Thursday 04 May 2023  19:50:14 +0300 (0:00:00.110)       0:06:42.360 ********** 
Thursday 04 May 2023  19:50:14 +0300 (0:00:00.119)       0:06:42.479 ********** 
Thursday 04 May 2023  19:50:14 +0300 (0:00:00.116)       0:06:42.595 ********** 
Thursday 04 May 2023  19:50:14 +0300 (0:00:00.113)       0:06:42.709 ********** 
Thursday 04 May 2023  19:50:14 +0300 (0:00:00.142)       0:06:42.851 ********** 
Thursday 04 May 2023  19:50:15 +0300 (0:00:00.172)       0:06:43.024 ********** 
Thursday 04 May 2023  19:50:15 +0300 (0:00:00.170)       0:06:43.194 ********** 
Thursday 04 May 2023  19:50:15 +0300 (0:00:00.144)       0:06:43.339 ********** 
Thursday 04 May 2023  19:50:15 +0300 (0:00:00.143)       0:06:43.483 ********** 
Thursday 04 May 2023  19:50:15 +0300 (0:00:00.114)       0:06:43.597 ********** 
Thursday 04 May 2023  19:50:15 +0300 (0:00:00.154)       0:06:43.752 ********** 
Thursday 04 May 2023  19:50:15 +0300 (0:00:00.118)       0:06:43.871 ********** 
Thursday 04 May 2023  19:50:15 +0300 (0:00:00.010)       0:06:43.881 ********** 
Thursday 04 May 2023  19:50:16 +0300 (0:00:00.110)       0:06:43.992 ********** 
Thursday 04 May 2023  19:50:16 +0300 (0:00:00.114)       0:06:44.106 ********** 
Thursday 04 May 2023  19:50:16 +0300 (0:00:00.121)       0:06:44.228 ********** 
Thursday 04 May 2023  19:50:16 +0300 (0:00:00.134)       0:06:44.362 ********** 
Thursday 04 May 2023  19:50:16 +0300 (0:00:00.119)       0:06:44.481 ********** 
Thursday 04 May 2023  19:50:16 +0300 (0:00:00.114)       0:06:44.596 ********** 
Thursday 04 May 2023  19:50:16 +0300 (0:00:00.121)       0:06:44.717 ********** 
Thursday 04 May 2023  19:50:16 +0300 (0:00:00.124)       0:06:44.841 ********** 
Thursday 04 May 2023  19:50:16 +0300 (0:00:00.118)       0:06:44.960 ********** 
Thursday 04 May 2023  19:50:16 +0300 (0:00:00.010)       0:06:44.971 ********** 
Thursday 04 May 2023  19:50:17 +0300 (0:00:00.165)       0:06:45.136 ********** 
Thursday 04 May 2023  19:50:17 +0300 (0:00:00.119)       0:06:45.255 ********** 
Thursday 04 May 2023  19:50:17 +0300 (0:00:00.127)       0:06:45.383 ********** 
Thursday 04 May 2023  19:50:17 +0300 (0:00:00.135)       0:06:45.518 ********** 
Thursday 04 May 2023  19:50:17 +0300 (0:00:00.086)       0:06:45.605 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:50:17 +0300 (0:00:00.145)       0:06:45.750 ********** 
Thursday 04 May 2023  19:50:17 +0300 (0:00:00.048)       0:06:45.798 ********** 
Thursday 04 May 2023  19:50:17 +0300 (0:00:00.042)       0:06:45.841 ********** 
Thursday 04 May 2023  19:50:17 +0300 (0:00:00.114)       0:06:45.955 ********** 
Thursday 04 May 2023  19:50:18 +0300 (0:00:00.113)       0:06:46.069 ********** 

TASK [download : prep_download | Register docker images info] ******************
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  19:50:19 +0300 (0:00:01.350)       0:06:47.420 ********** 

TASK [download : prep_download | Create staging directory on remote node] ******
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:50:20 +0300 (0:00:01.413)       0:06:48.834 ********** 
Thursday 04 May 2023  19:50:20 +0300 (0:00:00.048)       0:06:48.882 ********** 

TASK [download : download | Get kubeadm binary and list of required images] ****
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/prep_kubeadm_images.yml for control-prod-01
Thursday 04 May 2023  19:50:21 +0300 (0:00:00.162)       0:06:49.044 ********** 
Thursday 04 May 2023  19:50:21 +0300 (0:00:00.436)       0:06:49.481 ********** 

TASK [download : prep_kubeadm_images | Download kubeadm binary] ****************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_file.yml for control-prod-01
Thursday 04 May 2023  19:50:22 +0300 (0:00:00.563)       0:06:50.044 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
Thursday 04 May 2023  19:50:22 +0300 (0:00:00.113)       0:06:50.157 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [control-prod-01] => {
    "msg": "https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubeadm"
}
Thursday 04 May 2023  19:50:22 +0300 (0:00:00.520)       0:06:50.678 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [control-prod-01]
Thursday 04 May 2023  19:50:23 +0300 (0:00:00.439)       0:06:51.118 ********** 

TASK [download : download_file | Create dest directory on node] ****************
changed: [control-prod-01]
Thursday 04 May 2023  19:50:24 +0300 (0:00:01.836)       0:06:52.954 ********** 
Thursday 04 May 2023  19:50:25 +0300 (0:00:00.050)       0:06:53.005 ********** 
Thursday 04 May 2023  19:50:25 +0300 (0:00:00.520)       0:06:53.525 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:50:27 +0300 (0:00:01.986)       0:06:55.512 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [control-prod-01]
Thursday 04 May 2023  19:50:27 +0300 (0:00:00.071)       0:06:55.583 ********** 

TASK [download : download_file | Download item] ********************************
changed: [control-prod-01]
Thursday 04 May 2023  19:50:31 +0300 (0:00:04.182)       0:06:59.766 ********** 
Thursday 04 May 2023  19:50:31 +0300 (0:00:00.055)       0:06:59.821 ********** 
Thursday 04 May 2023  19:50:31 +0300 (0:00:00.057)       0:06:59.879 ********** 
Thursday 04 May 2023  19:50:31 +0300 (0:00:00.080)       0:06:59.960 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01
Thursday 04 May 2023  19:50:32 +0300 (0:00:00.115)       0:07:00.075 ********** 
Thursday 04 May 2023  19:50:32 +0300 (0:00:00.660)       0:07:00.736 ********** 

TASK [download : prep_kubeadm_images | Create kubeadm config] ******************
changed: [control-prod-01]
Thursday 04 May 2023  19:50:35 +0300 (0:00:02.564)       0:07:03.301 ********** 

TASK [download : prep_kubeadm_images | Copy kubeadm binary from download dir to system path] ***
changed: [control-prod-01]
Thursday 04 May 2023  19:50:36 +0300 (0:00:01.536)       0:07:04.837 ********** 

TASK [download : prep_kubeadm_images | Set kubeadm binary permissions] *********
ok: [control-prod-01]
Thursday 04 May 2023  19:50:38 +0300 (0:00:01.302)       0:07:06.140 ********** 

TASK [download : prep_kubeadm_images | Generate list of required images] *******
ok: [control-prod-01]
Thursday 04 May 2023  19:50:39 +0300 (0:00:01.232)       0:07:07.373 ********** 

TASK [download : prep_kubeadm_images | Parse list of images] *******************
ok: [control-prod-01] => (item=registry.k8s.io/kube-apiserver:v1.25.6)
ok: [control-prod-01] => (item=registry.k8s.io/kube-controller-manager:v1.25.6)
ok: [control-prod-01] => (item=registry.k8s.io/kube-scheduler:v1.25.6)
ok: [control-prod-01] => (item=registry.k8s.io/kube-proxy:v1.25.6)
Thursday 04 May 2023  19:50:39 +0300 (0:00:00.140)       0:07:07.513 ********** 

TASK [download : prep_kubeadm_images | Convert list of images to dict for later use] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:50:39 +0300 (0:00:00.054)       0:07:07.568 ********** 

TASK [download : download | Download files / images] ***************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_file.yml for control-prod-01 => (item={'key': 'etcd', 'value': {'container': False, 'file': True, 'enabled': True, 'version': 'v3.5.6', 'dest': '/tmp/releases/etcd-v3.5.6-linux-amd64.tar.gz', 'repo': 'quay.io/coreos/etcd', 'tag': 'v3.5.6', 'sha256': '4db32e3bc06dd0999e2171f76a87c1cffed8369475ec7aa7abee9023635670fb', 'url': 'https://github.com/etcd-io/etcd/releases/download/v3.5.6/etcd-v3.5.6-linux-amd64.tar.gz', 'unarchive': True, 'owner': 'root', 'mode': '0755', 'groups': ['etcd']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_file.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'cni', 'value': {'enabled': True, 'file': True, 'version': 'v1.2.0', 'dest': '/tmp/releases/cni-plugins-linux-amd64-v1.2.0.tgz', 'sha256': 'f3a841324845ca6bf0d4091b4fc7f97e18a623172158b72fc3fdcdb9d42d2d37', 'url': 'https://github.com/containernetworking/plugins/releases/download/v1.2.0/cni-plugins-linux-amd64-v1.2.0.tgz', 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_file.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'kubeadm', 'value': {'enabled': True, 'file': True, 'version': 'v1.25.6', 'dest': '/tmp/releases/kubeadm-v1.25.6-amd64', 'sha256': 'd8bf16d1a808dce10d4eb9b391ddd6ee8a81e94c669441f20b1227083dbc4417', 'url': 'https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubeadm', 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_file.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'kubelet', 'value': {'enabled': True, 'file': True, 'version': 'v1.25.6', 'dest': '/tmp/releases/kubelet-v1.25.6-amd64', 'sha256': '8485ac4a60455b77a9b518c13b3aeb0d32338ab7e9894a0b5d217fea585cd2be', 'url': 'https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubelet', 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_file.yml for control-prod-01 => (item={'key': 'kubectl', 'value': {'enabled': True, 'file': True, 'version': 'v1.25.6', 'dest': '/tmp/releases/kubectl-v1.25.6-amd64', 'sha256': 'ba876aef0e9d7e2e8fedac036ec194de5ec9b6d2953e30ff82a2758c6ba32174', 'url': 'https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubectl', 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['kube_control_plane']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_file.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'crictl', 'value': {'file': True, 'enabled': True, 'version': 'v1.25.0', 'dest': '/tmp/releases/crictl-v1.25.0-linux-amd64.tar.gz', 'sha256': '86ab210c007f521ac4cdcbcf0ae3fb2e10923e65f16de83e0e1db191a07f0235', 'url': 'https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.25.0/crictl-v1.25.0-linux-amd64.tar.gz', 'unarchive': True, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_file.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'runc', 'value': {'file': True, 'enabled': True, 'version': 'v1.1.4', 'dest': '/tmp/releases/runc', 'sha256': 'db772be63147a4e747b4fe286c7c16a2edc4a8458bd3092ea46aaee77750e8ce', 'url': 'https://github.com/opencontainers/runc/releases/download/v1.1.4/runc.amd64', 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_file.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'containerd', 'value': {'enabled': True, 'file': True, 'version': '1.6.15', 'dest': '/tmp/releases/containerd-1.6.15-linux-amd64.tar.gz', 'sha256': '191bb4f6e4afc237efc5c85b5866b6fdfed731bde12cceaa6017a9c7f8aeda02', 'url': 'https://github.com/containerd/containerd/releases/download/v1.6.15/containerd-1.6.15-linux-amd64.tar.gz', 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_file.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'nerdctl', 'value': {'file': True, 'enabled': True, 'version': '1.0.0', 'dest': '/tmp/releases/nerdctl-1.0.0-linux-amd64.tar.gz', 'sha256': '3e993d714e6b88d1803a58d9ff5a00d121f0544c35efed3a3789e19d6ab36964', 'url': 'https://github.com/containerd/nerdctl/releases/download/v1.0.0/nerdctl-1.0.0-linux-amd64.tar.gz', 'unarchive': True, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_file.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'calicoctl', 'value': {'enabled': True, 'file': True, 'version': 'v3.24.5', 'dest': '/tmp/releases/calicoctl', 'sha256': '01e6c8a2371050f9edd0ade9dcde89da054e84d8e96bd4ba8cf82806c8d3e8e7', 'url': 'https://github.com/projectcalico/calico/releases/download/v3.24.5/calicoctl-linux-amd64', 'mirrors': ['https://github.com/projectcalico/calico/releases/download/v3.24.5/calicoctl-linux-amd64'], 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'calico_node', 'value': {'enabled': True, 'container': True, 'repo': 'quay.io/calico/node', 'tag': 'v3.24.5', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'calico_cni', 'value': {'enabled': True, 'container': True, 'repo': 'quay.io/calico/cni', 'tag': 'v3.24.5', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'calico_flexvol', 'value': {'enabled': True, 'container': True, 'repo': 'quay.io/calico/pod2daemon-flexvol', 'tag': 'v3.24.5', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'calico_policy', 'value': {'enabled': True, 'container': True, 'repo': 'quay.io/calico/kube-controllers', 'tag': 'v3.24.5', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_file.yml for control-prod-01 => (item={'key': 'calico_crds', 'value': {'file': True, 'enabled': True, 'version': 'v3.24.5', 'dest': '/tmp/releases/calico-v3.24.5-kdd-crds/v3.24.5.tar.gz', 'sha256': '10320b45ebcf4335703d692adacc96cdd3a27de62b4599238604bd7b0bedccc3', 'url': 'https://github.com/projectcalico/calico/archive/v3.24.5.tar.gz', 'unarchive': True, 'unarchive_extra_opts': ['--strip=3', '--wildcards', '*/libcalico-go/config/crd/'], 'owner': 'root', 'mode': '0755', 'groups': ['kube_control_plane']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'pod_infra', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/pause', 'tag': '3.8', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'coredns', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/coredns/coredns', 'tag': 'v1.9.3', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'nodelocaldns', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/dns/k8s-dns-node-cache', 'tag': '1.21.1', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for control-prod-01 => (item={'key': 'dnsautoscaler', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/cpa/cluster-proportional-autoscaler-amd64', 'tag': '1.8.5', 'sha256': '', 'groups': ['kube_control_plane']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'kubeadm_kube-apiserver', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/kube-apiserver', 'tag': 'v1.25.6', 'groups': 'k8s_cluster'}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'kubeadm_kube-controller-manager', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/kube-controller-manager', 'tag': 'v1.25.6', 'groups': 'k8s_cluster'}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'kubeadm_kube-scheduler', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/kube-scheduler', 'tag': 'v1.25.6', 'groups': 'k8s_cluster'}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for control-prod-01, ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'kubeadm_kube-proxy', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/kube-proxy', 'tag': 'v1.25.6', 'groups': 'k8s_cluster'}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'nginx', 'value': {'enabled': True, 'container': True, 'repo': 'docker.io/library/nginx', 'tag': '1.23.2-alpine', 'sha256': '', 'groups': ['kube_node']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'local_path_provisioner', 'value': {'enabled': True, 'container': True, 'repo': 'docker.io/rancher/local-path-provisioner', 'tag': 'v0.0.22', 'sha256': '', 'groups': ['kube_node']}})
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/download_container.yml for ingress-prod-01, worker-prod-01, worker-prod-02 => (item={'key': 'ingress_nginx_controller', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/ingress-nginx/controller', 'tag': 'v1.5.1', 'sha256': '', 'groups': ['kube_node']}})
Thursday 04 May 2023  19:50:43 +0300 (0:00:03.832)       0:07:11.400 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
Thursday 04 May 2023  19:50:43 +0300 (0:00:00.114)       0:07:11.514 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [control-prod-01] => {
    "msg": "https://github.com/etcd-io/etcd/releases/download/v3.5.6/etcd-v3.5.6-linux-amd64.tar.gz"
}
Thursday 04 May 2023  19:50:43 +0300 (0:00:00.090)       0:07:11.605 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [control-prod-01]
Thursday 04 May 2023  19:50:43 +0300 (0:00:00.077)       0:07:11.683 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [control-prod-01]
Thursday 04 May 2023  19:50:44 +0300 (0:00:01.262)       0:07:12.945 ********** 
Thursday 04 May 2023  19:50:45 +0300 (0:00:00.056)       0:07:13.002 ********** 
Thursday 04 May 2023  19:50:45 +0300 (0:00:00.078)       0:07:13.080 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:50:46 +0300 (0:00:01.382)       0:07:14.462 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [control-prod-01]
Thursday 04 May 2023  19:50:46 +0300 (0:00:00.097)       0:07:14.560 ********** 

TASK [download : download_file | Download item] ********************************
changed: [control-prod-01]
Thursday 04 May 2023  19:50:48 +0300 (0:00:01.644)       0:07:16.205 ********** 
Thursday 04 May 2023  19:50:48 +0300 (0:00:00.064)       0:07:16.269 ********** 
Thursday 04 May 2023  19:50:48 +0300 (0:00:00.055)       0:07:16.324 ********** 
Thursday 04 May 2023  19:50:48 +0300 (0:00:00.060)       0:07:16.385 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01
Thursday 04 May 2023  19:50:48 +0300 (0:00:00.090)       0:07:16.475 ********** 

TASK [download : extract_file | Unpacking archive] *****************************
changed: [control-prod-01]
Thursday 04 May 2023  19:50:52 +0300 (0:00:04.094)       0:07:20.570 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:50:52 +0300 (0:00:00.147)       0:07:20.717 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [control-prod-01] => {
    "msg": "https://github.com/containernetworking/plugins/releases/download/v1.2.0/cni-plugins-linux-amd64-v1.2.0.tgz"
}
ok: [ingress-prod-01] => {
    "msg": "https://github.com/containernetworking/plugins/releases/download/v1.2.0/cni-plugins-linux-amd64-v1.2.0.tgz"
}
ok: [worker-prod-02] => {
    "msg": "https://github.com/containernetworking/plugins/releases/download/v1.2.0/cni-plugins-linux-amd64-v1.2.0.tgz"
}
ok: [worker-prod-01] => {
    "msg": "https://github.com/containernetworking/plugins/releases/download/v1.2.0/cni-plugins-linux-amd64-v1.2.0.tgz"
}
Thursday 04 May 2023  19:50:52 +0300 (0:00:00.147)       0:07:20.865 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:50:53 +0300 (0:00:00.142)       0:07:21.007 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:50:54 +0300 (0:00:01.729)       0:07:22.737 ********** 
Thursday 04 May 2023  19:50:54 +0300 (0:00:00.067)       0:07:22.805 ********** 
Thursday 04 May 2023  19:50:54 +0300 (0:00:00.091)       0:07:22.897 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [ingress-prod-01] => (item=None)
ok: [ingress-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02] => (item=None)
ok: [worker-prod-02 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-01] => (item=None)
ok: [worker-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:50:56 +0300 (0:00:01.833)       0:07:24.731 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:50:57 +0300 (0:00:00.262)       0:07:24.993 ********** 

TASK [download : download_file | Download item] ********************************
changed: [ingress-prod-01]
changed: [control-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:50:59 +0300 (0:00:02.332)       0:07:27.325 ********** 
Thursday 04 May 2023  19:50:59 +0300 (0:00:00.122)       0:07:27.447 ********** 
Thursday 04 May 2023  19:50:59 +0300 (0:00:00.118)       0:07:27.565 ********** 
Thursday 04 May 2023  19:50:59 +0300 (0:00:00.106)       0:07:27.672 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:50:59 +0300 (0:00:00.203)       0:07:27.875 ********** 
Thursday 04 May 2023  19:51:00 +0300 (0:00:00.138)       0:07:28.014 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:00 +0300 (0:00:00.131)       0:07:28.146 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [control-prod-01] => {
    "msg": "https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubeadm"
}
ok: [ingress-prod-01] => {
    "msg": "https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubeadm"
}
ok: [worker-prod-02] => {
    "msg": "https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubeadm"
}
ok: [worker-prod-01] => {
    "msg": "https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubeadm"
}
Thursday 04 May 2023  19:51:00 +0300 (0:00:00.147)       0:07:28.293 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:00 +0300 (0:00:00.155)       0:07:28.448 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:02 +0300 (0:00:01.610)       0:07:30.058 ********** 
Thursday 04 May 2023  19:51:02 +0300 (0:00:00.050)       0:07:30.108 ********** 
Thursday 04 May 2023  19:51:02 +0300 (0:00:00.080)       0:07:30.189 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [ingress-prod-01] => (item=None)
ok: [ingress-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02] => (item=None)
ok: [worker-prod-02 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-01] => (item=None)
ok: [worker-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:51:03 +0300 (0:00:01.645)       0:07:31.834 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:04 +0300 (0:00:00.328)       0:07:32.162 ********** 

TASK [download : download_file | Download item] ********************************
ok: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:51:06 +0300 (0:00:02.640)       0:07:34.803 ********** 
Thursday 04 May 2023  19:51:06 +0300 (0:00:00.105)       0:07:34.908 ********** 
Thursday 04 May 2023  19:51:07 +0300 (0:00:00.117)       0:07:35.026 ********** 
Thursday 04 May 2023  19:51:07 +0300 (0:00:00.116)       0:07:35.142 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:51:07 +0300 (0:00:00.208)       0:07:35.351 ********** 
Thursday 04 May 2023  19:51:07 +0300 (0:00:00.136)       0:07:35.487 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:07 +0300 (0:00:00.189)       0:07:35.676 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [control-prod-01] => {
    "msg": "https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubelet"
}
ok: [ingress-prod-01] => {
    "msg": "https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubelet"
}
ok: [worker-prod-02] => {
    "msg": "https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubelet"
}
ok: [worker-prod-01] => {
    "msg": "https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubelet"
}
Thursday 04 May 2023  19:51:07 +0300 (0:00:00.277)       0:07:35.954 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:08 +0300 (0:00:00.256)       0:07:36.210 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:09 +0300 (0:00:01.448)       0:07:37.659 ********** 
Thursday 04 May 2023  19:51:09 +0300 (0:00:00.065)       0:07:37.724 ********** 
Thursday 04 May 2023  19:51:09 +0300 (0:00:00.060)       0:07:37.785 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [ingress-prod-01] => (item=None)
ok: [ingress-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02] => (item=None)
ok: [worker-prod-02 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-01] => (item=None)
ok: [worker-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:51:11 +0300 (0:00:01.665)       0:07:39.450 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:11 +0300 (0:00:00.225)       0:07:39.675 ********** 

TASK [download : download_file | Download item] ********************************
changed: [worker-prod-02]
changed: [worker-prod-01]
changed: [ingress-prod-01]
changed: [control-prod-01]
Thursday 04 May 2023  19:51:18 +0300 (0:00:06.586)       0:07:46.262 ********** 
Thursday 04 May 2023  19:51:18 +0300 (0:00:00.111)       0:07:46.374 ********** 
Thursday 04 May 2023  19:51:18 +0300 (0:00:00.109)       0:07:46.483 ********** 
Thursday 04 May 2023  19:51:18 +0300 (0:00:00.115)       0:07:46.599 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:51:18 +0300 (0:00:00.190)       0:07:46.789 ********** 
Thursday 04 May 2023  19:51:18 +0300 (0:00:00.161)       0:07:46.951 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
Thursday 04 May 2023  19:51:19 +0300 (0:00:00.085)       0:07:47.037 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [control-prod-01] => {
    "msg": "https://storage.googleapis.com/kubernetes-release/release/v1.25.6/bin/linux/amd64/kubectl"
}
Thursday 04 May 2023  19:51:19 +0300 (0:00:00.082)       0:07:47.119 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [control-prod-01]
Thursday 04 May 2023  19:51:19 +0300 (0:00:00.082)       0:07:47.202 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [control-prod-01]
Thursday 04 May 2023  19:51:20 +0300 (0:00:01.200)       0:07:48.402 ********** 
Thursday 04 May 2023  19:51:20 +0300 (0:00:00.050)       0:07:48.453 ********** 
Thursday 04 May 2023  19:51:20 +0300 (0:00:00.058)       0:07:48.511 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:51:21 +0300 (0:00:01.242)       0:07:49.754 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [control-prod-01]
Thursday 04 May 2023  19:51:21 +0300 (0:00:00.073)       0:07:49.828 ********** 

TASK [download : download_file | Download item] ********************************
changed: [control-prod-01]
Thursday 04 May 2023  19:51:25 +0300 (0:00:03.320)       0:07:53.148 ********** 
Thursday 04 May 2023  19:51:25 +0300 (0:00:00.058)       0:07:53.207 ********** 
Thursday 04 May 2023  19:51:25 +0300 (0:00:00.056)       0:07:53.264 ********** 
Thursday 04 May 2023  19:51:25 +0300 (0:00:00.060)       0:07:53.324 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01
Thursday 04 May 2023  19:51:25 +0300 (0:00:00.089)       0:07:53.414 ********** 
Thursday 04 May 2023  19:51:25 +0300 (0:00:00.064)       0:07:53.479 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:25 +0300 (0:00:00.141)       0:07:53.620 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [control-prod-01] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.25.0/crictl-v1.25.0-linux-amd64.tar.gz"
}
ok: [ingress-prod-01] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.25.0/crictl-v1.25.0-linux-amd64.tar.gz"
}
ok: [worker-prod-02] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.25.0/crictl-v1.25.0-linux-amd64.tar.gz"
}
ok: [worker-prod-01] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.25.0/crictl-v1.25.0-linux-amd64.tar.gz"
}
Thursday 04 May 2023  19:51:25 +0300 (0:00:00.136)       0:07:53.757 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:25 +0300 (0:00:00.154)       0:07:53.911 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:27 +0300 (0:00:01.418)       0:07:55.330 ********** 
Thursday 04 May 2023  19:51:27 +0300 (0:00:00.058)       0:07:55.389 ********** 
Thursday 04 May 2023  19:51:27 +0300 (0:00:00.066)       0:07:55.455 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [ingress-prod-01] => (item=None)
ok: [ingress-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02] => (item=None)
ok: [worker-prod-01] => (item=None)
ok: [worker-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:51:29 +0300 (0:00:01.981)       0:07:57.437 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:29 +0300 (0:00:00.357)       0:07:57.794 ********** 

TASK [download : download_file | Download item] ********************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:31 +0300 (0:00:01.233)       0:07:59.028 ********** 
Thursday 04 May 2023  19:51:31 +0300 (0:00:00.130)       0:07:59.159 ********** 
Thursday 04 May 2023  19:51:31 +0300 (0:00:00.113)       0:07:59.272 ********** 
Thursday 04 May 2023  19:51:31 +0300 (0:00:00.120)       0:07:59.393 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:51:31 +0300 (0:00:00.259)       0:07:59.652 ********** 

TASK [download : extract_file | Unpacking archive] *****************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:36 +0300 (0:00:04.938)       0:08:04.591 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:36 +0300 (0:00:00.143)       0:08:04.735 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [control-prod-01] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.4/runc.amd64"
}
ok: [ingress-prod-01] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.4/runc.amd64"
}
ok: [worker-prod-02] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.4/runc.amd64"
}
ok: [worker-prod-01] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.4/runc.amd64"
}
Thursday 04 May 2023  19:51:37 +0300 (0:00:00.247)       0:08:04.982 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:37 +0300 (0:00:00.209)       0:08:05.192 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:51:38 +0300 (0:00:01.734)       0:08:06.927 ********** 
Thursday 04 May 2023  19:51:39 +0300 (0:00:00.078)       0:08:07.005 ********** 
Thursday 04 May 2023  19:51:39 +0300 (0:00:00.073)       0:08:07.079 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [ingress-prod-01] => (item=None)
ok: [ingress-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02] => (item=None)
ok: [worker-prod-02 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-01] => (item=None)
ok: [worker-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:51:41 +0300 (0:00:01.996)       0:08:09.075 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:41 +0300 (0:00:00.324)       0:08:09.400 ********** 

TASK [download : download_file | Download item] ********************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:42 +0300 (0:00:01.052)       0:08:10.452 ********** 
Thursday 04 May 2023  19:51:42 +0300 (0:00:00.140)       0:08:10.593 ********** 
Thursday 04 May 2023  19:51:42 +0300 (0:00:00.115)       0:08:10.709 ********** 
Thursday 04 May 2023  19:51:42 +0300 (0:00:00.113)       0:08:10.823 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:51:43 +0300 (0:00:00.202)       0:08:11.026 ********** 
Thursday 04 May 2023  19:51:43 +0300 (0:00:00.196)       0:08:11.222 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:43 +0300 (0:00:00.150)       0:08:11.373 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [control-prod-01] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.6.15/containerd-1.6.15-linux-amd64.tar.gz"
}
ok: [ingress-prod-01] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.6.15/containerd-1.6.15-linux-amd64.tar.gz"
}
ok: [worker-prod-02] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.6.15/containerd-1.6.15-linux-amd64.tar.gz"
}
ok: [worker-prod-01] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.6.15/containerd-1.6.15-linux-amd64.tar.gz"
}
Thursday 04 May 2023  19:51:43 +0300 (0:00:00.205)       0:08:11.578 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:43 +0300 (0:00:00.153)       0:08:11.731 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:45 +0300 (0:00:01.364)       0:08:13.096 ********** 
Thursday 04 May 2023  19:51:45 +0300 (0:00:00.082)       0:08:13.179 ********** 
Thursday 04 May 2023  19:51:45 +0300 (0:00:00.069)       0:08:13.249 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [ingress-prod-01] => (item=None)
ok: [ingress-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-01] => (item=None)
ok: [worker-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02] => (item=None)
ok: [worker-prod-02 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:51:47 +0300 (0:00:01.829)       0:08:15.078 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:47 +0300 (0:00:00.216)       0:08:15.295 ********** 

TASK [download : download_file | Download item] ********************************
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
ok: [ingress-prod-01]
Thursday 04 May 2023  19:51:48 +0300 (0:00:01.107)       0:08:16.402 ********** 
Thursday 04 May 2023  19:51:48 +0300 (0:00:00.116)       0:08:16.519 ********** 
Thursday 04 May 2023  19:51:48 +0300 (0:00:00.238)       0:08:16.757 ********** 
Thursday 04 May 2023  19:51:48 +0300 (0:00:00.107)       0:08:16.865 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:51:49 +0300 (0:00:00.192)       0:08:17.057 ********** 
Thursday 04 May 2023  19:51:49 +0300 (0:00:00.139)       0:08:17.197 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:49 +0300 (0:00:00.185)       0:08:17.383 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [control-prod-01] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.0.0/nerdctl-1.0.0-linux-amd64.tar.gz"
}
ok: [ingress-prod-01] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.0.0/nerdctl-1.0.0-linux-amd64.tar.gz"
}
ok: [worker-prod-02] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.0.0/nerdctl-1.0.0-linux-amd64.tar.gz"
}
ok: [worker-prod-01] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.0.0/nerdctl-1.0.0-linux-amd64.tar.gz"
}
Thursday 04 May 2023  19:51:49 +0300 (0:00:00.147)       0:08:17.530 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:49 +0300 (0:00:00.168)       0:08:17.698 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:51 +0300 (0:00:01.508)       0:08:19.207 ********** 
Thursday 04 May 2023  19:51:51 +0300 (0:00:00.104)       0:08:19.311 ********** 
Thursday 04 May 2023  19:51:51 +0300 (0:00:00.069)       0:08:19.380 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [ingress-prod-01] => (item=None)
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [ingress-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02] => (item=None)
ok: [worker-prod-02 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-01] => (item=None)
ok: [worker-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:51:53 +0300 (0:00:02.062)       0:08:21.443 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:53 +0300 (0:00:00.243)       0:08:21.687 ********** 

TASK [download : download_file | Download item] ********************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:54 +0300 (0:00:00.951)       0:08:22.639 ********** 
Thursday 04 May 2023  19:51:54 +0300 (0:00:00.131)       0:08:22.771 ********** 
Thursday 04 May 2023  19:51:54 +0300 (0:00:00.113)       0:08:22.885 ********** 
Thursday 04 May 2023  19:51:55 +0300 (0:00:00.116)       0:08:23.001 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:51:55 +0300 (0:00:00.190)       0:08:23.192 ********** 

TASK [download : extract_file | Unpacking archive] *****************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:51:58 +0300 (0:00:02.997)       0:08:26.190 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:58 +0300 (0:00:00.144)       0:08:26.334 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [control-prod-01] => {
    "msg": "https://github.com/projectcalico/calico/releases/download/v3.24.5/calicoctl-linux-amd64"
}
ok: [ingress-prod-01] => {
    "msg": "https://github.com/projectcalico/calico/releases/download/v3.24.5/calicoctl-linux-amd64"
}
ok: [worker-prod-02] => {
    "msg": "https://github.com/projectcalico/calico/releases/download/v3.24.5/calicoctl-linux-amd64"
}
ok: [worker-prod-01] => {
    "msg": "https://github.com/projectcalico/calico/releases/download/v3.24.5/calicoctl-linux-amd64"
}
Thursday 04 May 2023  19:51:58 +0300 (0:00:00.149)       0:08:26.484 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:51:58 +0300 (0:00:00.142)       0:08:26.626 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:52:00 +0300 (0:00:01.374)       0:08:28.001 ********** 
Thursday 04 May 2023  19:52:00 +0300 (0:00:00.065)       0:08:28.066 ********** 
Thursday 04 May 2023  19:52:00 +0300 (0:00:00.061)       0:08:28.128 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [ingress-prod-01] => (item=None)
ok: [ingress-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-02] => (item=None)
ok: [worker-prod-02 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
ok: [worker-prod-01] => (item=None)
ok: [worker-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:52:02 +0300 (0:00:02.054)       0:08:30.183 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:02 +0300 (0:00:00.412)       0:08:30.595 ********** 

TASK [download : download_file | Download item] ********************************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:52:06 +0300 (0:00:04.214)       0:08:34.809 ********** 
Thursday 04 May 2023  19:52:07 +0300 (0:00:00.243)       0:08:35.053 ********** 
Thursday 04 May 2023  19:52:07 +0300 (0:00:00.226)       0:08:35.279 ********** 
Thursday 04 May 2023  19:52:07 +0300 (0:00:00.235)       0:08:35.514 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:52:07 +0300 (0:00:00.378)       0:08:35.893 ********** 
Thursday 04 May 2023  19:52:08 +0300 (0:00:00.235)       0:08:36.129 ********** 

TASK [download : set default values for flag variables] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:08 +0300 (0:00:00.250)       0:08:36.379 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [control-prod-01] => {
    "msg": "quay.io/calico/node"
}
ok: [ingress-prod-01] => {
    "msg": "quay.io/calico/node"
}
ok: [worker-prod-02] => {
    "msg": "quay.io/calico/node"
}
ok: [worker-prod-01] => {
    "msg": "quay.io/calico/node"
}
Thursday 04 May 2023  19:52:08 +0300 (0:00:00.416)       0:08:36.796 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:09 +0300 (0:00:00.225)       0:08:37.021 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:09 +0300 (0:00:00.232)       0:08:37.254 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:09 +0300 (0:00:00.213)       0:08:37.467 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:09 +0300 (0:00:00.220)       0:08:37.688 ********** 
Thursday 04 May 2023  19:52:09 +0300 (0:00:00.161)       0:08:37.850 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:10 +0300 (0:00:00.230)       0:08:38.080 ********** 
Thursday 04 May 2023  19:52:10 +0300 (0:00:00.166)       0:08:38.247 ********** 
Thursday 04 May 2023  19:52:10 +0300 (0:00:00.240)       0:08:38.487 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:10 +0300 (0:00:00.408)       0:08:38.896 ********** 
Thursday 04 May 2023  19:52:11 +0300 (0:00:00.339)       0:08:39.236 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:52:11 +0300 (0:00:00.537)       0:08:39.774 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:13 +0300 (0:00:01.894)       0:08:41.668 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:13 +0300 (0:00:00.244)       0:08:41.912 ********** 
Thursday 04 May 2023  19:52:14 +0300 (0:00:00.192)       0:08:42.105 ********** 

TASK [download : debug] ********************************************************
ok: [control-prod-01] => {
    "msg": "Pull quay.io/calico/node:v3.24.5 required is: True"
}
ok: [ingress-prod-01] => {
    "msg": "Pull quay.io/calico/node:v3.24.5 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull quay.io/calico/node:v3.24.5 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull quay.io/calico/node:v3.24.5 required is: True"
}
Thursday 04 May 2023  19:52:14 +0300 (0:00:00.307)       0:08:42.413 ********** 
Thursday 04 May 2023  19:52:14 +0300 (0:00:00.268)       0:08:42.682 ********** 
Thursday 04 May 2023  19:52:14 +0300 (0:00:00.176)       0:08:42.858 ********** 
Thursday 04 May 2023  19:52:15 +0300 (0:00:00.249)       0:08:43.107 ********** 

TASK [download : download_container | Download image if required] **************
changed: [ingress-prod-01]
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:52:34 +0300 (0:00:19.734)       0:09:02.842 ********** 
Thursday 04 May 2023  19:52:34 +0300 (0:00:00.047)       0:09:02.889 ********** 
Thursday 04 May 2023  19:52:35 +0300 (0:00:00.207)       0:09:03.097 ********** 
Thursday 04 May 2023  19:52:35 +0300 (0:00:00.219)       0:09:03.317 ********** 
Thursday 04 May 2023  19:52:35 +0300 (0:00:00.227)       0:09:03.544 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:52:37 +0300 (0:00:01.635)       0:09:05.180 ********** 

TASK [download : set default values for flag variables] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:37 +0300 (0:00:00.158)       0:09:05.338 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [control-prod-01] => {
    "msg": "quay.io/calico/cni"
}
ok: [ingress-prod-01] => {
    "msg": "quay.io/calico/cni"
}
ok: [worker-prod-02] => {
    "msg": "quay.io/calico/cni"
}
ok: [worker-prod-01] => {
    "msg": "quay.io/calico/cni"
}
Thursday 04 May 2023  19:52:37 +0300 (0:00:00.156)       0:09:05.495 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:37 +0300 (0:00:00.174)       0:09:05.669 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:37 +0300 (0:00:00.150)       0:09:05.820 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:38 +0300 (0:00:00.157)       0:09:05.977 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:38 +0300 (0:00:00.235)       0:09:06.213 ********** 
Thursday 04 May 2023  19:52:38 +0300 (0:00:00.139)       0:09:06.353 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:38 +0300 (0:00:00.169)       0:09:06.523 ********** 
Thursday 04 May 2023  19:52:38 +0300 (0:00:00.127)       0:09:06.650 ********** 
Thursday 04 May 2023  19:52:38 +0300 (0:00:00.126)       0:09:06.777 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:38 +0300 (0:00:00.167)       0:09:06.944 ********** 
Thursday 04 May 2023  19:52:39 +0300 (0:00:00.121)       0:09:07.066 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:52:39 +0300 (0:00:00.227)       0:09:07.294 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:40 +0300 (0:00:01.657)       0:09:08.951 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:41 +0300 (0:00:00.152)       0:09:09.104 ********** 
Thursday 04 May 2023  19:52:41 +0300 (0:00:00.129)       0:09:09.234 ********** 

TASK [download : debug] ********************************************************
ok: [control-prod-01] => {
    "msg": "Pull quay.io/calico/cni:v3.24.5 required is: True"
}
ok: [ingress-prod-01] => {
    "msg": "Pull quay.io/calico/cni:v3.24.5 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull quay.io/calico/cni:v3.24.5 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull quay.io/calico/cni:v3.24.5 required is: True"
}
Thursday 04 May 2023  19:52:41 +0300 (0:00:00.261)       0:09:09.496 ********** 
Thursday 04 May 2023  19:52:41 +0300 (0:00:00.148)       0:09:09.645 ********** 
Thursday 04 May 2023  19:52:41 +0300 (0:00:00.170)       0:09:09.816 ********** 
Thursday 04 May 2023  19:52:41 +0300 (0:00:00.150)       0:09:09.966 ********** 

TASK [download : download_container | Download image if required] **************
changed: [ingress-prod-01]
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:52:54 +0300 (0:00:12.477)       0:09:22.444 ********** 
Thursday 04 May 2023  19:52:54 +0300 (0:00:00.060)       0:09:22.504 ********** 
Thursday 04 May 2023  19:52:54 +0300 (0:00:00.126)       0:09:22.630 ********** 
Thursday 04 May 2023  19:52:54 +0300 (0:00:00.131)       0:09:22.762 ********** 
Thursday 04 May 2023  19:52:54 +0300 (0:00:00.117)       0:09:22.879 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
ok: [ingress-prod-01]
Thursday 04 May 2023  19:52:56 +0300 (0:00:01.438)       0:09:24.318 ********** 

TASK [download : set default values for flag variables] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:56 +0300 (0:00:00.230)       0:09:24.548 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [control-prod-01] => {
    "msg": "quay.io/calico/pod2daemon-flexvol"
}
ok: [ingress-prod-01] => {
    "msg": "quay.io/calico/pod2daemon-flexvol"
}
ok: [worker-prod-02] => {
    "msg": "quay.io/calico/pod2daemon-flexvol"
}
ok: [worker-prod-01] => {
    "msg": "quay.io/calico/pod2daemon-flexvol"
}
Thursday 04 May 2023  19:52:56 +0300 (0:00:00.205)       0:09:24.753 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:57 +0300 (0:00:00.224)       0:09:24.978 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:57 +0300 (0:00:00.282)       0:09:25.261 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:57 +0300 (0:00:00.190)       0:09:25.452 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:57 +0300 (0:00:00.171)       0:09:25.624 ********** 
Thursday 04 May 2023  19:52:57 +0300 (0:00:00.171)       0:09:25.795 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:58 +0300 (0:00:00.229)       0:09:26.024 ********** 
Thursday 04 May 2023  19:52:58 +0300 (0:00:00.141)       0:09:26.166 ********** 
Thursday 04 May 2023  19:52:58 +0300 (0:00:00.125)       0:09:26.291 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:52:58 +0300 (0:00:00.163)       0:09:26.455 ********** 
Thursday 04 May 2023  19:52:58 +0300 (0:00:00.119)       0:09:26.574 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:52:58 +0300 (0:00:00.308)       0:09:26.883 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:00 +0300 (0:00:01.604)       0:09:28.487 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:00 +0300 (0:00:00.175)       0:09:28.662 ********** 
Thursday 04 May 2023  19:53:00 +0300 (0:00:00.136)       0:09:28.799 ********** 

TASK [download : debug] ********************************************************
ok: [control-prod-01] => {
    "msg": "Pull quay.io/calico/pod2daemon-flexvol:v3.24.5 required is: True"
}
ok: [ingress-prod-01] => {
    "msg": "Pull quay.io/calico/pod2daemon-flexvol:v3.24.5 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull quay.io/calico/pod2daemon-flexvol:v3.24.5 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull quay.io/calico/pod2daemon-flexvol:v3.24.5 required is: True"
}
Thursday 04 May 2023  19:53:00 +0300 (0:00:00.168)       0:09:28.967 ********** 
Thursday 04 May 2023  19:53:01 +0300 (0:00:00.151)       0:09:29.119 ********** 
Thursday 04 May 2023  19:53:01 +0300 (0:00:00.111)       0:09:29.230 ********** 
Thursday 04 May 2023  19:53:01 +0300 (0:00:00.158)       0:09:29.389 ********** 

TASK [download : download_container | Download image if required] **************
changed: [worker-prod-01]
changed: [worker-prod-02]
changed: [ingress-prod-01]
changed: [control-prod-01]
Thursday 04 May 2023  19:53:08 +0300 (0:00:06.883)       0:09:36.272 ********** 
Thursday 04 May 2023  19:53:08 +0300 (0:00:00.113)       0:09:36.386 ********** 
Thursday 04 May 2023  19:53:08 +0300 (0:00:00.172)       0:09:36.559 ********** 
Thursday 04 May 2023  19:53:08 +0300 (0:00:00.157)       0:09:36.716 ********** 
Thursday 04 May 2023  19:53:08 +0300 (0:00:00.201)       0:09:36.918 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:10 +0300 (0:00:01.479)       0:09:38.398 ********** 

TASK [download : set default values for flag variables] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:10 +0300 (0:00:00.174)       0:09:38.573 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [control-prod-01] => {
    "msg": "quay.io/calico/kube-controllers"
}
ok: [ingress-prod-01] => {
    "msg": "quay.io/calico/kube-controllers"
}
ok: [worker-prod-02] => {
    "msg": "quay.io/calico/kube-controllers"
}
ok: [worker-prod-01] => {
    "msg": "quay.io/calico/kube-controllers"
}
Thursday 04 May 2023  19:53:10 +0300 (0:00:00.161)       0:09:38.734 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:11 +0300 (0:00:00.263)       0:09:38.998 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:11 +0300 (0:00:00.195)       0:09:39.194 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:11 +0300 (0:00:00.184)       0:09:39.379 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:11 +0300 (0:00:00.161)       0:09:39.540 ********** 
Thursday 04 May 2023  19:53:11 +0300 (0:00:00.152)       0:09:39.692 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:11 +0300 (0:00:00.168)       0:09:39.861 ********** 
Thursday 04 May 2023  19:53:12 +0300 (0:00:00.172)       0:09:40.033 ********** 
Thursday 04 May 2023  19:53:12 +0300 (0:00:00.120)       0:09:40.154 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:12 +0300 (0:00:00.173)       0:09:40.328 ********** 
Thursday 04 May 2023  19:53:12 +0300 (0:00:00.122)       0:09:40.450 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:53:12 +0300 (0:00:00.224)       0:09:40.675 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:14 +0300 (0:00:01.492)       0:09:42.167 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:14 +0300 (0:00:00.173)       0:09:42.341 ********** 
Thursday 04 May 2023  19:53:14 +0300 (0:00:00.177)       0:09:42.518 ********** 

TASK [download : debug] ********************************************************
ok: [control-prod-01] => {
    "msg": "Pull quay.io/calico/kube-controllers:v3.24.5 required is: True"
}
ok: [ingress-prod-01] => {
    "msg": "Pull quay.io/calico/kube-controllers:v3.24.5 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull quay.io/calico/kube-controllers:v3.24.5 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull quay.io/calico/kube-controllers:v3.24.5 required is: True"
}
Thursday 04 May 2023  19:53:14 +0300 (0:00:00.211)       0:09:42.730 ********** 
Thursday 04 May 2023  19:53:14 +0300 (0:00:00.145)       0:09:42.876 ********** 
Thursday 04 May 2023  19:53:15 +0300 (0:00:00.134)       0:09:43.010 ********** 
Thursday 04 May 2023  19:53:15 +0300 (0:00:00.153)       0:09:43.163 ********** 

TASK [download : download_container | Download image if required] **************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:53:22 +0300 (0:00:07.359)       0:09:50.522 ********** 
Thursday 04 May 2023  19:53:22 +0300 (0:00:00.070)       0:09:50.593 ********** 
Thursday 04 May 2023  19:53:22 +0300 (0:00:00.196)       0:09:50.790 ********** 
Thursday 04 May 2023  19:53:22 +0300 (0:00:00.160)       0:09:50.950 ********** 
Thursday 04 May 2023  19:53:23 +0300 (0:00:00.139)       0:09:51.090 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:24 +0300 (0:00:01.339)       0:09:52.430 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [control-prod-01]
Thursday 04 May 2023  19:53:24 +0300 (0:00:00.099)       0:09:52.529 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [control-prod-01] => {
    "msg": "https://github.com/projectcalico/calico/archive/v3.24.5.tar.gz"
}
Thursday 04 May 2023  19:53:24 +0300 (0:00:00.105)       0:09:52.635 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [control-prod-01]
Thursday 04 May 2023  19:53:24 +0300 (0:00:00.129)       0:09:52.764 ********** 

TASK [download : download_file | Create dest directory on node] ****************
changed: [control-prod-01]
Thursday 04 May 2023  19:53:25 +0300 (0:00:01.102)       0:09:53.867 ********** 
Thursday 04 May 2023  19:53:25 +0300 (0:00:00.054)       0:09:53.921 ********** 
Thursday 04 May 2023  19:53:26 +0300 (0:00:00.055)       0:09:53.977 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [control-prod-01] => (item=None)
ok: [control-prod-01 -> {{ download_delegate if download_force_cache else inventory_hostname }}]
Thursday 04 May 2023  19:53:27 +0300 (0:00:01.769)       0:09:55.746 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [control-prod-01]
Thursday 04 May 2023  19:53:27 +0300 (0:00:00.087)       0:09:55.833 ********** 

TASK [download : download_file | Download item] ********************************
changed: [control-prod-01]
Thursday 04 May 2023  19:53:30 +0300 (0:00:02.508)       0:09:58.342 ********** 
Thursday 04 May 2023  19:53:30 +0300 (0:00:00.057)       0:09:58.400 ********** 
Thursday 04 May 2023  19:53:30 +0300 (0:00:00.060)       0:09:58.460 ********** 
Thursday 04 May 2023  19:53:30 +0300 (0:00:00.056)       0:09:58.516 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/extract_file.yml for control-prod-01
Thursday 04 May 2023  19:53:30 +0300 (0:00:00.088)       0:09:58.604 ********** 

TASK [download : extract_file | Unpacking archive] *****************************
changed: [control-prod-01]
Thursday 04 May 2023  19:53:34 +0300 (0:00:04.208)       0:10:02.812 ********** 

TASK [download : set default values for flag variables] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:34 +0300 (0:00:00.147)       0:10:02.960 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [control-prod-01] => {
    "msg": "registry.k8s.io/pause"
}
ok: [ingress-prod-01] => {
    "msg": "registry.k8s.io/pause"
}
ok: [worker-prod-02] => {
    "msg": "registry.k8s.io/pause"
}
ok: [worker-prod-01] => {
    "msg": "registry.k8s.io/pause"
}
Thursday 04 May 2023  19:53:35 +0300 (0:00:00.140)       0:10:03.101 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:35 +0300 (0:00:00.151)       0:10:03.252 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:35 +0300 (0:00:00.189)       0:10:03.442 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:35 +0300 (0:00:00.257)       0:10:03.700 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:35 +0300 (0:00:00.166)       0:10:03.866 ********** 
Thursday 04 May 2023  19:53:36 +0300 (0:00:00.114)       0:10:03.981 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:36 +0300 (0:00:00.158)       0:10:04.139 ********** 
Thursday 04 May 2023  19:53:36 +0300 (0:00:00.115)       0:10:04.255 ********** 
Thursday 04 May 2023  19:53:36 +0300 (0:00:00.124)       0:10:04.379 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:36 +0300 (0:00:00.149)       0:10:04.529 ********** 
Thursday 04 May 2023  19:53:36 +0300 (0:00:00.104)       0:10:04.633 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:53:36 +0300 (0:00:00.250)       0:10:04.883 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:39 +0300 (0:00:02.701)       0:10:07.585 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:39 +0300 (0:00:00.147)       0:10:07.732 ********** 
Thursday 04 May 2023  19:53:39 +0300 (0:00:00.113)       0:10:07.846 ********** 

TASK [download : debug] ********************************************************
ok: [control-prod-01] => {
    "msg": "Pull registry.k8s.io/pause:3.8 required is: True"
}
ok: [ingress-prod-01] => {
    "msg": "Pull registry.k8s.io/pause:3.8 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull registry.k8s.io/pause:3.8 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull registry.k8s.io/pause:3.8 required is: True"
}
Thursday 04 May 2023  19:53:40 +0300 (0:00:00.149)       0:10:07.996 ********** 
Thursday 04 May 2023  19:53:40 +0300 (0:00:00.116)       0:10:08.112 ********** 
Thursday 04 May 2023  19:53:40 +0300 (0:00:00.107)       0:10:08.220 ********** 
Thursday 04 May 2023  19:53:40 +0300 (0:00:00.143)       0:10:08.364 ********** 

TASK [download : download_container | Download image if required] **************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:53:43 +0300 (0:00:02.925)       0:10:11.290 ********** 
Thursday 04 May 2023  19:53:43 +0300 (0:00:00.053)       0:10:11.343 ********** 
Thursday 04 May 2023  19:53:43 +0300 (0:00:00.133)       0:10:11.477 ********** 
Thursday 04 May 2023  19:53:43 +0300 (0:00:00.138)       0:10:11.615 ********** 
Thursday 04 May 2023  19:53:43 +0300 (0:00:00.256)       0:10:11.871 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:45 +0300 (0:00:01.467)       0:10:13.339 ********** 

TASK [download : set default values for flag variables] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:45 +0300 (0:00:00.145)       0:10:13.484 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [control-prod-01] => {
    "msg": "registry.k8s.io/coredns/coredns"
}
ok: [ingress-prod-01] => {
    "msg": "registry.k8s.io/coredns/coredns"
}
ok: [worker-prod-02] => {
    "msg": "registry.k8s.io/coredns/coredns"
}
ok: [worker-prod-01] => {
    "msg": "registry.k8s.io/coredns/coredns"
}
Thursday 04 May 2023  19:53:45 +0300 (0:00:00.139)       0:10:13.624 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:45 +0300 (0:00:00.148)       0:10:13.772 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:45 +0300 (0:00:00.142)       0:10:13.915 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:46 +0300 (0:00:00.140)       0:10:14.056 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:46 +0300 (0:00:00.135)       0:10:14.191 ********** 
Thursday 04 May 2023  19:53:46 +0300 (0:00:00.115)       0:10:14.306 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:46 +0300 (0:00:00.177)       0:10:14.484 ********** 
Thursday 04 May 2023  19:53:46 +0300 (0:00:00.130)       0:10:14.614 ********** 
Thursday 04 May 2023  19:53:46 +0300 (0:00:00.152)       0:10:14.766 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:46 +0300 (0:00:00.176)       0:10:14.943 ********** 
Thursday 04 May 2023  19:53:47 +0300 (0:00:00.113)       0:10:15.057 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:53:47 +0300 (0:00:00.208)       0:10:15.266 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:49 +0300 (0:00:01.860)       0:10:17.126 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:49 +0300 (0:00:00.154)       0:10:17.280 ********** 
Thursday 04 May 2023  19:53:49 +0300 (0:00:00.120)       0:10:17.401 ********** 

TASK [download : debug] ********************************************************
ok: [control-prod-01] => {
    "msg": "Pull registry.k8s.io/coredns/coredns:v1.9.3 required is: True"
}
ok: [ingress-prod-01] => {
    "msg": "Pull registry.k8s.io/coredns/coredns:v1.9.3 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull registry.k8s.io/coredns/coredns:v1.9.3 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull registry.k8s.io/coredns/coredns:v1.9.3 required is: True"
}
Thursday 04 May 2023  19:53:49 +0300 (0:00:00.157)       0:10:17.558 ********** 
Thursday 04 May 2023  19:53:49 +0300 (0:00:00.118)       0:10:17.676 ********** 
Thursday 04 May 2023  19:53:49 +0300 (0:00:00.114)       0:10:17.791 ********** 
Thursday 04 May 2023  19:53:49 +0300 (0:00:00.129)       0:10:17.920 ********** 

TASK [download : download_container | Download image if required] **************
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [ingress-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  19:53:57 +0300 (0:00:07.794)       0:10:25.715 ********** 
Thursday 04 May 2023  19:53:57 +0300 (0:00:00.062)       0:10:25.777 ********** 
Thursday 04 May 2023  19:53:57 +0300 (0:00:00.126)       0:10:25.904 ********** 
Thursday 04 May 2023  19:53:58 +0300 (0:00:00.118)       0:10:26.022 ********** 
Thursday 04 May 2023  19:53:58 +0300 (0:00:00.128)       0:10:26.150 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
ok: [ingress-prod-01]
Thursday 04 May 2023  19:53:59 +0300 (0:00:01.244)       0:10:27.395 ********** 

TASK [download : set default values for flag variables] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:59 +0300 (0:00:00.152)       0:10:27.548 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [control-prod-01] => {
    "msg": "registry.k8s.io/dns/k8s-dns-node-cache"
}
ok: [ingress-prod-01] => {
    "msg": "registry.k8s.io/dns/k8s-dns-node-cache"
}
ok: [worker-prod-02] => {
    "msg": "registry.k8s.io/dns/k8s-dns-node-cache"
}
ok: [worker-prod-01] => {
    "msg": "registry.k8s.io/dns/k8s-dns-node-cache"
}
Thursday 04 May 2023  19:53:59 +0300 (0:00:00.153)       0:10:27.701 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:53:59 +0300 (0:00:00.140)       0:10:27.842 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:00 +0300 (0:00:00.143)       0:10:27.985 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:00 +0300 (0:00:00.139)       0:10:28.124 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:00 +0300 (0:00:00.146)       0:10:28.270 ********** 
Thursday 04 May 2023  19:54:00 +0300 (0:00:00.118)       0:10:28.389 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:00 +0300 (0:00:00.145)       0:10:28.535 ********** 
Thursday 04 May 2023  19:54:00 +0300 (0:00:00.114)       0:10:28.649 ********** 
Thursday 04 May 2023  19:54:00 +0300 (0:00:00.108)       0:10:28.758 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:00 +0300 (0:00:00.154)       0:10:28.913 ********** 
Thursday 04 May 2023  19:54:01 +0300 (0:00:00.123)       0:10:29.036 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:54:01 +0300 (0:00:00.215)       0:10:29.251 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:03 +0300 (0:00:01.785)       0:10:31.037 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:03 +0300 (0:00:00.189)       0:10:31.227 ********** 
Thursday 04 May 2023  19:54:03 +0300 (0:00:00.121)       0:10:31.348 ********** 

TASK [download : debug] ********************************************************
ok: [control-prod-01] => {
    "msg": "Pull registry.k8s.io/dns/k8s-dns-node-cache:1.21.1 required is: True"
}
ok: [ingress-prod-01] => {
    "msg": "Pull registry.k8s.io/dns/k8s-dns-node-cache:1.21.1 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull registry.k8s.io/dns/k8s-dns-node-cache:1.21.1 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull registry.k8s.io/dns/k8s-dns-node-cache:1.21.1 required is: True"
}
Thursday 04 May 2023  19:54:03 +0300 (0:00:00.218)       0:10:31.566 ********** 
Thursday 04 May 2023  19:54:03 +0300 (0:00:00.125)       0:10:31.692 ********** 
Thursday 04 May 2023  19:54:03 +0300 (0:00:00.115)       0:10:31.807 ********** 
Thursday 04 May 2023  19:54:03 +0300 (0:00:00.127)       0:10:31.935 ********** 

TASK [download : download_container | Download image if required] **************
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
changed: [control-prod-01]
Thursday 04 May 2023  19:54:12 +0300 (0:00:08.982)       0:10:40.917 ********** 
Thursday 04 May 2023  19:54:12 +0300 (0:00:00.044)       0:10:40.961 ********** 
Thursday 04 May 2023  19:54:13 +0300 (0:00:00.185)       0:10:41.147 ********** 
Thursday 04 May 2023  19:54:13 +0300 (0:00:00.185)       0:10:41.332 ********** 
Thursday 04 May 2023  19:54:13 +0300 (0:00:00.252)       0:10:41.584 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
ok: [ingress-prod-01]
Thursday 04 May 2023  19:54:14 +0300 (0:00:01.346)       0:10:42.931 ********** 

TASK [download : set default values for flag variables] ************************
ok: [control-prod-01]
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.074)       0:10:43.006 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [control-prod-01] => {
    "msg": "registry.k8s.io/cpa/cluster-proportional-autoscaler-amd64"
}
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.060)       0:10:43.067 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.065)       0:10:43.133 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.059)       0:10:43.192 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [control-prod-01]
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.069)       0:10:43.262 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [control-prod-01]
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.059)       0:10:43.321 ********** 
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.063)       0:10:43.385 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [control-prod-01]
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.069)       0:10:43.455 ********** 
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.056)       0:10:43.511 ********** 
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.057)       0:10:43.569 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [control-prod-01]
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.072)       0:10:43.641 ********** 
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.065)       0:10:43.707 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for control-prod-01
Thursday 04 May 2023  19:54:15 +0300 (0:00:00.100)       0:10:43.808 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:54:17 +0300 (0:00:01.687)       0:10:45.495 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:54:17 +0300 (0:00:00.082)       0:10:45.578 ********** 
Thursday 04 May 2023  19:54:17 +0300 (0:00:00.053)       0:10:45.631 ********** 

TASK [download : debug] ********************************************************
ok: [control-prod-01] => {
    "msg": "Pull registry.k8s.io/cpa/cluster-proportional-autoscaler-amd64:1.8.5 required is: True"
}
Thursday 04 May 2023  19:54:17 +0300 (0:00:00.073)       0:10:45.705 ********** 
Thursday 04 May 2023  19:54:17 +0300 (0:00:00.063)       0:10:45.769 ********** 
Thursday 04 May 2023  19:54:17 +0300 (0:00:00.057)       0:10:45.826 ********** 
Thursday 04 May 2023  19:54:17 +0300 (0:00:00.070)       0:10:45.897 ********** 

TASK [download : download_container | Download image if required] **************
changed: [control-prod-01]
Thursday 04 May 2023  19:54:21 +0300 (0:00:03.997)       0:10:49.894 ********** 
Thursday 04 May 2023  19:54:22 +0300 (0:00:00.087)       0:10:49.981 ********** 
Thursday 04 May 2023  19:54:22 +0300 (0:00:00.081)       0:10:50.063 ********** 
Thursday 04 May 2023  19:54:22 +0300 (0:00:00.076)       0:10:50.139 ********** 
Thursday 04 May 2023  19:54:22 +0300 (0:00:00.070)       0:10:50.209 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [control-prod-01]
Thursday 04 May 2023  19:54:23 +0300 (0:00:01.255)       0:10:51.465 ********** 

TASK [download : set default values for flag variables] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:23 +0300 (0:00:00.211)       0:10:51.676 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [control-prod-01] => {
    "msg": "registry.k8s.io/kube-apiserver"
}
ok: [ingress-prod-01] => {
    "msg": "registry.k8s.io/kube-apiserver"
}
ok: [worker-prod-02] => {
    "msg": "registry.k8s.io/kube-apiserver"
}
ok: [worker-prod-01] => {
    "msg": "registry.k8s.io/kube-apiserver"
}
Thursday 04 May 2023  19:54:23 +0300 (0:00:00.145)       0:10:51.822 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:23 +0300 (0:00:00.144)       0:10:51.967 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:24 +0300 (0:00:00.190)       0:10:52.157 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:24 +0300 (0:00:00.167)       0:10:52.325 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:24 +0300 (0:00:00.165)       0:10:52.490 ********** 
Thursday 04 May 2023  19:54:24 +0300 (0:00:00.207)       0:10:52.697 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:24 +0300 (0:00:00.259)       0:10:52.957 ********** 
Thursday 04 May 2023  19:54:25 +0300 (0:00:00.124)       0:10:53.081 ********** 
Thursday 04 May 2023  19:54:25 +0300 (0:00:00.120)       0:10:53.202 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:25 +0300 (0:00:00.158)       0:10:53.360 ********** 
Thursday 04 May 2023  19:54:25 +0300 (0:00:00.116)       0:10:53.476 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:54:25 +0300 (0:00:00.219)       0:10:53.696 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:27 +0300 (0:00:01.913)       0:10:55.610 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:27 +0300 (0:00:00.201)       0:10:55.811 ********** 
Thursday 04 May 2023  19:54:27 +0300 (0:00:00.111)       0:10:55.922 ********** 

TASK [download : debug] ********************************************************
ok: [control-prod-01] => {
    "msg": "Pull registry.k8s.io/kube-apiserver:v1.25.6 required is: True"
}
ok: [ingress-prod-01] => {
    "msg": "Pull registry.k8s.io/kube-apiserver:v1.25.6 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull registry.k8s.io/kube-apiserver:v1.25.6 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull registry.k8s.io/kube-apiserver:v1.25.6 required is: True"
}
Thursday 04 May 2023  19:54:28 +0300 (0:00:00.167)       0:10:56.089 ********** 
Thursday 04 May 2023  19:54:28 +0300 (0:00:00.127)       0:10:56.217 ********** 
Thursday 04 May 2023  19:54:28 +0300 (0:00:00.113)       0:10:56.331 ********** 
Thursday 04 May 2023  19:54:28 +0300 (0:00:00.130)       0:10:56.462 ********** 

TASK [download : download_container | Download image if required] **************
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
changed: [control-prod-01]
Thursday 04 May 2023  19:54:40 +0300 (0:00:11.907)       0:11:08.370 ********** 
Thursday 04 May 2023  19:54:40 +0300 (0:00:00.045)       0:11:08.416 ********** 
Thursday 04 May 2023  19:54:40 +0300 (0:00:00.256)       0:11:08.672 ********** 
Thursday 04 May 2023  19:54:40 +0300 (0:00:00.149)       0:11:08.822 ********** 
Thursday 04 May 2023  19:54:40 +0300 (0:00:00.144)       0:11:08.966 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:42 +0300 (0:00:01.439)       0:11:10.406 ********** 

TASK [download : set default values for flag variables] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:42 +0300 (0:00:00.168)       0:11:10.574 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [control-prod-01] => {
    "msg": "registry.k8s.io/kube-controller-manager"
}
ok: [ingress-prod-01] => {
    "msg": "registry.k8s.io/kube-controller-manager"
}
ok: [worker-prod-02] => {
    "msg": "registry.k8s.io/kube-controller-manager"
}
ok: [worker-prod-01] => {
    "msg": "registry.k8s.io/kube-controller-manager"
}
Thursday 04 May 2023  19:54:42 +0300 (0:00:00.148)       0:11:10.723 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:42 +0300 (0:00:00.155)       0:11:10.878 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:43 +0300 (0:00:00.145)       0:11:11.023 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:43 +0300 (0:00:00.158)       0:11:11.181 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:43 +0300 (0:00:00.144)       0:11:11.326 ********** 
Thursday 04 May 2023  19:54:43 +0300 (0:00:00.127)       0:11:11.453 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:43 +0300 (0:00:00.202)       0:11:11.656 ********** 
Thursday 04 May 2023  19:54:43 +0300 (0:00:00.143)       0:11:11.800 ********** 
Thursday 04 May 2023  19:54:43 +0300 (0:00:00.129)       0:11:11.930 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:44 +0300 (0:00:00.201)       0:11:12.131 ********** 
Thursday 04 May 2023  19:54:44 +0300 (0:00:00.136)       0:11:12.267 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:54:44 +0300 (0:00:00.211)       0:11:12.479 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:46 +0300 (0:00:01.910)       0:11:14.390 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:46 +0300 (0:00:00.162)       0:11:14.552 ********** 
Thursday 04 May 2023  19:54:46 +0300 (0:00:00.118)       0:11:14.671 ********** 

TASK [download : debug] ********************************************************
ok: [control-prod-01] => {
    "msg": "Pull registry.k8s.io/kube-controller-manager:v1.25.6 required is: True"
}
ok: [ingress-prod-01] => {
    "msg": "Pull registry.k8s.io/kube-controller-manager:v1.25.6 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull registry.k8s.io/kube-controller-manager:v1.25.6 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull registry.k8s.io/kube-controller-manager:v1.25.6 required is: True"
}
Thursday 04 May 2023  19:54:46 +0300 (0:00:00.171)       0:11:14.843 ********** 
Thursday 04 May 2023  19:54:46 +0300 (0:00:00.126)       0:11:14.969 ********** 
Thursday 04 May 2023  19:54:47 +0300 (0:00:00.124)       0:11:15.093 ********** 
Thursday 04 May 2023  19:54:47 +0300 (0:00:00.129)       0:11:15.222 ********** 

TASK [download : download_container | Download image if required] **************
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [ingress-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  19:54:53 +0300 (0:00:06.010)       0:11:21.233 ********** 
Thursday 04 May 2023  19:54:53 +0300 (0:00:00.047)       0:11:21.281 ********** 
Thursday 04 May 2023  19:54:53 +0300 (0:00:00.116)       0:11:21.397 ********** 
Thursday 04 May 2023  19:54:53 +0300 (0:00:00.179)       0:11:21.576 ********** 
Thursday 04 May 2023  19:54:53 +0300 (0:00:00.115)       0:11:21.692 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:55 +0300 (0:00:01.573)       0:11:23.266 ********** 

TASK [download : set default values for flag variables] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:55 +0300 (0:00:00.169)       0:11:23.436 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [control-prod-01] => {
    "msg": "registry.k8s.io/kube-scheduler"
}
ok: [ingress-prod-01] => {
    "msg": "registry.k8s.io/kube-scheduler"
}
ok: [worker-prod-02] => {
    "msg": "registry.k8s.io/kube-scheduler"
}
ok: [worker-prod-01] => {
    "msg": "registry.k8s.io/kube-scheduler"
}
Thursday 04 May 2023  19:54:55 +0300 (0:00:00.140)       0:11:23.576 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:55 +0300 (0:00:00.137)       0:11:23.714 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:55 +0300 (0:00:00.148)       0:11:23.862 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:56 +0300 (0:00:00.132)       0:11:23.995 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:56 +0300 (0:00:00.145)       0:11:24.140 ********** 
Thursday 04 May 2023  19:54:56 +0300 (0:00:00.107)       0:11:24.247 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:56 +0300 (0:00:00.144)       0:11:24.392 ********** 
Thursday 04 May 2023  19:54:56 +0300 (0:00:00.112)       0:11:24.504 ********** 
Thursday 04 May 2023  19:54:56 +0300 (0:00:00.121)       0:11:24.625 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:56 +0300 (0:00:00.183)       0:11:24.809 ********** 
Thursday 04 May 2023  19:54:56 +0300 (0:00:00.143)       0:11:24.953 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:54:57 +0300 (0:00:00.370)       0:11:25.323 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:59 +0300 (0:00:01.990)       0:11:27.313 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:54:59 +0300 (0:00:00.179)       0:11:27.493 ********** 
Thursday 04 May 2023  19:54:59 +0300 (0:00:00.120)       0:11:27.613 ********** 

TASK [download : debug] ********************************************************
ok: [control-prod-01] => {
    "msg": "Pull registry.k8s.io/kube-scheduler:v1.25.6 required is: True"
}
ok: [ingress-prod-01] => {
    "msg": "Pull registry.k8s.io/kube-scheduler:v1.25.6 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull registry.k8s.io/kube-scheduler:v1.25.6 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull registry.k8s.io/kube-scheduler:v1.25.6 required is: True"
}
Thursday 04 May 2023  19:54:59 +0300 (0:00:00.148)       0:11:27.762 ********** 
Thursday 04 May 2023  19:54:59 +0300 (0:00:00.127)       0:11:27.890 ********** 
Thursday 04 May 2023  19:55:00 +0300 (0:00:00.113)       0:11:28.003 ********** 
Thursday 04 May 2023  19:55:00 +0300 (0:00:00.121)       0:11:28.125 ********** 

TASK [download : download_container | Download image if required] **************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:55:05 +0300 (0:00:05.088)       0:11:33.214 ********** 
Thursday 04 May 2023  19:55:05 +0300 (0:00:00.065)       0:11:33.279 ********** 
Thursday 04 May 2023  19:55:05 +0300 (0:00:00.187)       0:11:33.467 ********** 
Thursday 04 May 2023  19:55:05 +0300 (0:00:00.203)       0:11:33.671 ********** 
Thursday 04 May 2023  19:55:05 +0300 (0:00:00.209)       0:11:33.880 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:07 +0300 (0:00:01.627)       0:11:35.508 ********** 

TASK [download : set default values for flag variables] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:07 +0300 (0:00:00.182)       0:11:35.690 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [control-prod-01] => {
    "msg": "registry.k8s.io/kube-proxy"
}
ok: [ingress-prod-01] => {
    "msg": "registry.k8s.io/kube-proxy"
}
ok: [worker-prod-02] => {
    "msg": "registry.k8s.io/kube-proxy"
}
ok: [worker-prod-01] => {
    "msg": "registry.k8s.io/kube-proxy"
}
Thursday 04 May 2023  19:55:07 +0300 (0:00:00.162)       0:11:35.853 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:08 +0300 (0:00:00.192)       0:11:36.045 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:08 +0300 (0:00:00.217)       0:11:36.262 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:08 +0300 (0:00:00.167)       0:11:36.430 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:08 +0300 (0:00:00.199)       0:11:36.630 ********** 
Thursday 04 May 2023  19:55:08 +0300 (0:00:00.121)       0:11:36.751 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:08 +0300 (0:00:00.147)       0:11:36.899 ********** 
Thursday 04 May 2023  19:55:09 +0300 (0:00:00.113)       0:11:37.012 ********** 
Thursday 04 May 2023  19:55:09 +0300 (0:00:00.111)       0:11:37.124 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:09 +0300 (0:00:00.189)       0:11:37.313 ********** 
Thursday 04 May 2023  19:55:09 +0300 (0:00:00.131)       0:11:37.444 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:55:09 +0300 (0:00:00.217)       0:11:37.662 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:13 +0300 (0:00:03.383)       0:11:41.046 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:13 +0300 (0:00:00.146)       0:11:41.193 ********** 
Thursday 04 May 2023  19:55:13 +0300 (0:00:00.131)       0:11:41.324 ********** 

TASK [download : debug] ********************************************************
ok: [control-prod-01] => {
    "msg": "Pull registry.k8s.io/kube-proxy:v1.25.6 required is: True"
}
ok: [ingress-prod-01] => {
    "msg": "Pull registry.k8s.io/kube-proxy:v1.25.6 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull registry.k8s.io/kube-proxy:v1.25.6 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull registry.k8s.io/kube-proxy:v1.25.6 required is: True"
}
Thursday 04 May 2023  19:55:13 +0300 (0:00:00.316)       0:11:41.640 ********** 
Thursday 04 May 2023  19:55:13 +0300 (0:00:00.207)       0:11:41.848 ********** 
Thursday 04 May 2023  19:55:14 +0300 (0:00:00.192)       0:11:42.040 ********** 
Thursday 04 May 2023  19:55:14 +0300 (0:00:00.263)       0:11:42.303 ********** 

TASK [download : download_container | Download image if required] **************
changed: [worker-prod-02]
changed: [ingress-prod-01]
changed: [control-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  19:55:21 +0300 (0:00:07.425)       0:11:49.729 ********** 
Thursday 04 May 2023  19:55:21 +0300 (0:00:00.053)       0:11:49.783 ********** 
Thursday 04 May 2023  19:55:21 +0300 (0:00:00.127)       0:11:49.910 ********** 
Thursday 04 May 2023  19:55:22 +0300 (0:00:00.144)       0:11:50.054 ********** 
Thursday 04 May 2023  19:55:22 +0300 (0:00:00.115)       0:11:50.169 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:23 +0300 (0:00:01.679)       0:11:51.849 ********** 

TASK [download : set default values for flag variables] ************************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:23 +0300 (0:00:00.120)       0:11:51.970 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [ingress-prod-01] => {
    "msg": "docker.io/library/nginx"
}
ok: [worker-prod-02] => {
    "msg": "docker.io/library/nginx"
}
ok: [worker-prod-01] => {
    "msg": "docker.io/library/nginx"
}
Thursday 04 May 2023  19:55:24 +0300 (0:00:00.171)       0:11:52.142 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:24 +0300 (0:00:00.146)       0:11:52.289 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:24 +0300 (0:00:00.142)       0:11:52.431 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:24 +0300 (0:00:00.151)       0:11:52.582 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:24 +0300 (0:00:00.147)       0:11:52.730 ********** 
Thursday 04 May 2023  19:55:24 +0300 (0:00:00.115)       0:11:52.845 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:24 +0300 (0:00:00.123)       0:11:52.968 ********** 
Thursday 04 May 2023  19:55:25 +0300 (0:00:00.096)       0:11:53.064 ********** 
Thursday 04 May 2023  19:55:25 +0300 (0:00:00.103)       0:11:53.168 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:25 +0300 (0:00:00.131)       0:11:53.299 ********** 
Thursday 04 May 2023  19:55:25 +0300 (0:00:00.103)       0:11:53.403 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:55:25 +0300 (0:00:00.179)       0:11:53.582 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [worker-prod-02]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:27 +0300 (0:00:02.055)       0:11:55.638 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:27 +0300 (0:00:00.120)       0:11:55.759 ********** 
Thursday 04 May 2023  19:55:27 +0300 (0:00:00.104)       0:11:55.864 ********** 

TASK [download : debug] ********************************************************
ok: [ingress-prod-01] => {
    "msg": "Pull docker.io/library/nginx:1.23.2-alpine required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull docker.io/library/nginx:1.23.2-alpine required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull docker.io/library/nginx:1.23.2-alpine required is: True"
}
Thursday 04 May 2023  19:55:28 +0300 (0:00:00.123)       0:11:55.988 ********** 
Thursday 04 May 2023  19:55:28 +0300 (0:00:00.107)       0:11:56.096 ********** 
Thursday 04 May 2023  19:55:28 +0300 (0:00:00.222)       0:11:56.318 ********** 
Thursday 04 May 2023  19:55:28 +0300 (0:00:00.121)       0:11:56.440 ********** 

TASK [download : download_container | Download image if required] **************
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:55:39 +0300 (0:00:10.826)       0:12:07.266 ********** 
Thursday 04 May 2023  19:55:39 +0300 (0:00:00.054)       0:12:07.321 ********** 
Thursday 04 May 2023  19:55:39 +0300 (0:00:00.097)       0:12:07.418 ********** 
Thursday 04 May 2023  19:55:39 +0300 (0:00:00.101)       0:12:07.520 ********** 
Thursday 04 May 2023  19:55:39 +0300 (0:00:00.093)       0:12:07.614 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:41 +0300 (0:00:01.397)       0:12:09.011 ********** 

TASK [download : set default values for flag variables] ************************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:41 +0300 (0:00:00.118)       0:12:09.129 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [ingress-prod-01] => {
    "msg": "docker.io/rancher/local-path-provisioner"
}
ok: [worker-prod-02] => {
    "msg": "docker.io/rancher/local-path-provisioner"
}
ok: [worker-prod-01] => {
    "msg": "docker.io/rancher/local-path-provisioner"
}
Thursday 04 May 2023  19:55:41 +0300 (0:00:00.145)       0:12:09.275 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:41 +0300 (0:00:00.136)       0:12:09.411 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:41 +0300 (0:00:00.123)       0:12:09.535 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:41 +0300 (0:00:00.139)       0:12:09.675 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:41 +0300 (0:00:00.144)       0:12:09.820 ********** 
Thursday 04 May 2023  19:55:41 +0300 (0:00:00.098)       0:12:09.918 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:42 +0300 (0:00:00.154)       0:12:10.073 ********** 
Thursday 04 May 2023  19:55:42 +0300 (0:00:00.099)       0:12:10.173 ********** 
Thursday 04 May 2023  19:55:42 +0300 (0:00:00.108)       0:12:10.281 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:42 +0300 (0:00:00.129)       0:12:10.410 ********** 
Thursday 04 May 2023  19:55:42 +0300 (0:00:00.122)       0:12:10.533 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:55:42 +0300 (0:00:00.183)       0:12:10.716 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:44 +0300 (0:00:02.176)       0:12:12.893 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:45 +0300 (0:00:00.124)       0:12:13.018 ********** 
Thursday 04 May 2023  19:55:45 +0300 (0:00:00.103)       0:12:13.121 ********** 

TASK [download : debug] ********************************************************
ok: [ingress-prod-01] => {
    "msg": "Pull docker.io/rancher/local-path-provisioner:v0.0.22 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull docker.io/rancher/local-path-provisioner:v0.0.22 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull docker.io/rancher/local-path-provisioner:v0.0.22 required is: True"
}
Thursday 04 May 2023  19:55:45 +0300 (0:00:00.125)       0:12:13.246 ********** 
Thursday 04 May 2023  19:55:45 +0300 (0:00:00.112)       0:12:13.358 ********** 
Thursday 04 May 2023  19:55:45 +0300 (0:00:00.094)       0:12:13.453 ********** 
Thursday 04 May 2023  19:55:45 +0300 (0:00:00.110)       0:12:13.563 ********** 

TASK [download : download_container | Download image if required] **************
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:55:50 +0300 (0:00:05.030)       0:12:18.594 ********** 
Thursday 04 May 2023  19:55:50 +0300 (0:00:00.053)       0:12:18.648 ********** 
Thursday 04 May 2023  19:55:50 +0300 (0:00:00.108)       0:12:18.756 ********** 
Thursday 04 May 2023  19:55:50 +0300 (0:00:00.105)       0:12:18.862 ********** 
Thursday 04 May 2023  19:55:51 +0300 (0:00:00.116)       0:12:18.978 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [worker-prod-02]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:52 +0300 (0:00:01.339)       0:12:20.318 ********** 

TASK [download : set default values for flag variables] ************************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:52 +0300 (0:00:00.170)       0:12:20.489 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [ingress-prod-01] => {
    "msg": "registry.k8s.io/ingress-nginx/controller"
}
ok: [worker-prod-02] => {
    "msg": "registry.k8s.io/ingress-nginx/controller"
}
ok: [worker-prod-01] => {
    "msg": "registry.k8s.io/ingress-nginx/controller"
}
Thursday 04 May 2023  19:55:52 +0300 (0:00:00.122)       0:12:20.611 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:52 +0300 (0:00:00.132)       0:12:20.744 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:52 +0300 (0:00:00.130)       0:12:20.874 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:53 +0300 (0:00:00.110)       0:12:20.985 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:53 +0300 (0:00:00.120)       0:12:21.106 ********** 
Thursday 04 May 2023  19:55:53 +0300 (0:00:00.097)       0:12:21.203 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:53 +0300 (0:00:00.117)       0:12:21.321 ********** 
Thursday 04 May 2023  19:55:53 +0300 (0:00:00.107)       0:12:21.429 ********** 
Thursday 04 May 2023  19:55:53 +0300 (0:00:00.141)       0:12:21.570 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:53 +0300 (0:00:00.195)       0:12:21.765 ********** 
Thursday 04 May 2023  19:55:53 +0300 (0:00:00.141)       0:12:21.907 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/download/tasks/check_pull_required.yml for ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  19:55:54 +0300 (0:00:00.399)       0:12:22.306 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:56 +0300 (0:00:02.207)       0:12:24.514 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:55:56 +0300 (0:00:00.127)       0:12:24.642 ********** 
Thursday 04 May 2023  19:55:56 +0300 (0:00:00.114)       0:12:24.757 ********** 

TASK [download : debug] ********************************************************
ok: [ingress-prod-01] => {
    "msg": "Pull registry.k8s.io/ingress-nginx/controller:v1.5.1 required is: True"
}
ok: [worker-prod-02] => {
    "msg": "Pull registry.k8s.io/ingress-nginx/controller:v1.5.1 required is: True"
}
ok: [worker-prod-01] => {
    "msg": "Pull registry.k8s.io/ingress-nginx/controller:v1.5.1 required is: True"
}
Thursday 04 May 2023  19:55:56 +0300 (0:00:00.185)       0:12:24.942 ********** 
Thursday 04 May 2023  19:55:57 +0300 (0:00:00.191)       0:12:25.134 ********** 
Thursday 04 May 2023  19:55:57 +0300 (0:00:00.155)       0:12:25.290 ********** 
Thursday 04 May 2023  19:55:57 +0300 (0:00:00.133)       0:12:25.423 ********** 

TASK [download : download_container | Download image if required] **************
changed: [worker-prod-02]
changed: [ingress-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  19:56:46 +0300 (0:00:49.224)       0:13:14.648 ********** 
Thursday 04 May 2023  19:56:46 +0300 (0:00:00.055)       0:13:14.703 ********** 
Thursday 04 May 2023  19:56:46 +0300 (0:00:00.119)       0:13:14.823 ********** 
Thursday 04 May 2023  19:56:46 +0300 (0:00:00.092)       0:13:14.916 ********** 
Thursday 04 May 2023  19:56:47 +0300 (0:00:00.108)       0:13:15.024 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]

PLAY [etcd:kube_control_plane] *************************************************
Thursday 04 May 2023  19:56:49 +0300 (0:00:02.004)       0:13:17.029 ********** 
Thursday 04 May 2023  19:56:49 +0300 (0:00:00.046)       0:13:17.075 ********** 
Thursday 04 May 2023  19:56:49 +0300 (0:00:00.041)       0:13:17.116 ********** 
Thursday 04 May 2023  19:56:49 +0300 (0:00:00.041)       0:13:17.158 ********** 
Thursday 04 May 2023  19:56:49 +0300 (0:00:00.041)       0:13:17.199 ********** 
Thursday 04 May 2023  19:56:49 +0300 (0:00:00.036)       0:13:17.236 ********** 
Thursday 04 May 2023  19:56:49 +0300 (0:00:00.038)       0:13:17.275 ********** 
Thursday 04 May 2023  19:56:49 +0300 (0:00:00.039)       0:13:17.314 ********** 
Thursday 04 May 2023  19:56:49 +0300 (0:00:00.039)       0:13:17.353 ********** 
Thursday 04 May 2023  19:56:49 +0300 (0:00:00.036)       0:13:17.390 ********** 
Thursday 04 May 2023  19:56:50 +0300 (0:00:00.970)       0:13:18.361 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [control-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Thursday 04 May 2023  19:56:50 +0300 (0:00:00.145)       0:13:18.506 ********** 
Thursday 04 May 2023  19:56:50 +0300 (0:00:00.096)       0:13:18.603 ********** 
Thursday 04 May 2023  19:56:50 +0300 (0:00:00.062)       0:13:18.666 ********** 
Thursday 04 May 2023  19:56:50 +0300 (0:00:00.110)       0:13:18.777 ********** 
Thursday 04 May 2023  19:56:50 +0300 (0:00:00.050)       0:13:18.827 ********** 
Thursday 04 May 2023  19:56:50 +0300 (0:00:00.044)       0:13:18.872 ********** 
Thursday 04 May 2023  19:56:50 +0300 (0:00:00.051)       0:13:18.924 ********** 

TASK [adduser : User | Create User Group] **************************************
changed: [control-prod-01]
Thursday 04 May 2023  19:56:53 +0300 (0:00:02.713)       0:13:21.637 ********** 

TASK [adduser : User | Create User] ********************************************
changed: [control-prod-01]
Thursday 04 May 2023  19:56:54 +0300 (0:00:01.333)       0:13:22.971 ********** 

TASK [adduser : User | Create User Group] **************************************
ok: [control-prod-01]
Thursday 04 May 2023  19:56:56 +0300 (0:00:01.247)       0:13:24.218 ********** 

TASK [adduser : User | Create User] ********************************************
ok: [control-prod-01]
Thursday 04 May 2023  19:56:57 +0300 (0:00:01.240)       0:13:25.459 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/etcd/tasks/check_certs.yml for control-prod-01
Thursday 04 May 2023  19:56:57 +0300 (0:00:00.066)       0:13:25.526 ********** 

TASK [etcd : Check_certs | Register certs that have already been generated on first etcd node] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:56:57 +0300 (0:00:00.398)       0:13:25.924 ********** 

TASK [etcd : Check_certs | Set default value for 'sync_certs', 'gen_certs' and 'etcd_secret_changed' to false] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:56:58 +0300 (0:00:00.055)       0:13:25.980 ********** 

TASK [etcd : Check certs | Register ca and etcd admin/member certs on etcd hosts] ***
ok: [control-prod-01] => (item=ca.pem)
ok: [control-prod-01] => (item=member-control-prod-01.pem)
ok: [control-prod-01] => (item=member-control-prod-01-key.pem)
ok: [control-prod-01] => (item=admin-control-prod-01.pem)
ok: [control-prod-01] => (item=admin-control-prod-01-key.pem)
Thursday 04 May 2023  19:57:04 +0300 (0:00:06.255)       0:13:32.235 ********** 

TASK [etcd : Check certs | Register ca and etcd node certs on kubernetes hosts] ***
ok: [control-prod-01] => (item=ca.pem)
ok: [control-prod-01] => (item=node-control-prod-01.pem)
ok: [control-prod-01] => (item=node-control-prod-01-key.pem)
Thursday 04 May 2023  19:57:07 +0300 (0:00:03.671)       0:13:35.907 ********** 

TASK [etcd : Check_certs | Set 'gen_certs' to true if expected certificates are not on the first etcd node(1/2)] ***
ok: [control-prod-01] => (item=/etc/ssl/etcd/ssl/ca.pem)
ok: [control-prod-01] => (item=/etc/ssl/etcd/ssl/admin-control-prod-01.pem)
ok: [control-prod-01] => (item=/etc/ssl/etcd/ssl/admin-control-prod-01-key.pem)
ok: [control-prod-01] => (item=/etc/ssl/etcd/ssl/member-control-prod-01.pem)
ok: [control-prod-01] => (item=/etc/ssl/etcd/ssl/member-control-prod-01-key.pem)
ok: [control-prod-01] => (item=/etc/ssl/etcd/ssl/node-control-prod-01.pem)
ok: [control-prod-01] => (item=/etc/ssl/etcd/ssl/node-control-prod-01-key.pem)
Thursday 04 May 2023  19:57:08 +0300 (0:00:00.130)       0:13:36.037 ********** 
Thursday 04 May 2023  19:57:08 +0300 (0:00:00.147)       0:13:36.185 ********** 

TASK [etcd : Check_certs | Set 'gen_master_certs' object to track whether member and admin certs exist on first etcd node] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:57:08 +0300 (0:00:00.052)       0:13:36.237 ********** 

TASK [etcd : Check_certs | Set 'gen_node_certs' object to track whether node certs exist on first etcd node] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:57:08 +0300 (0:00:00.052)       0:13:36.290 ********** 

TASK [etcd : Check_certs | Set 'etcd_member_requires_sync' to true if ca or member/admin cert and key don't exist on etcd member or checksum doesn't match] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:57:08 +0300 (0:00:00.071)       0:13:36.362 ********** 
Thursday 04 May 2023  19:57:08 +0300 (0:00:00.036)       0:13:36.399 ********** 

TASK [etcd : Check_certs | Set 'sync_certs' to true] ***************************
ok: [control-prod-01]
Thursday 04 May 2023  19:57:08 +0300 (0:00:00.050)       0:13:36.449 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/etcd/tasks/gen_certs_script.yml for control-prod-01
Thursday 04 May 2023  19:57:08 +0300 (0:00:00.064)       0:13:36.514 ********** 

TASK [etcd : Gen_certs | create etcd cert dir] *********************************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:09 +0300 (0:00:01.289)       0:13:37.804 ********** 

TASK [etcd : Gen_certs | create etcd script dir (on control-prod-01)] **********
changed: [control-prod-01]
Thursday 04 May 2023  19:57:11 +0300 (0:00:01.295)       0:13:39.099 ********** 

TASK [etcd : Gen_certs | write openssl config] *********************************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:12 +0300 (0:00:01.583)       0:13:40.683 ********** 

TASK [etcd : Gen_certs | copy certs generation script] *************************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:15 +0300 (0:00:02.418)       0:13:43.101 ********** 

TASK [etcd : Gen_certs | run cert generation script for etcd and kube control plane nodes] ***
changed: [control-prod-01]
Thursday 04 May 2023  19:57:16 +0300 (0:00:01.093)       0:13:44.195 ********** 
Thursday 04 May 2023  19:57:16 +0300 (0:00:00.066)       0:13:44.262 ********** 
Thursday 04 May 2023  19:57:16 +0300 (0:00:00.172)       0:13:44.434 ********** 
Thursday 04 May 2023  19:57:16 +0300 (0:00:00.160)       0:13:44.595 ********** 
Thursday 04 May 2023  19:57:16 +0300 (0:00:00.104)       0:13:44.700 ********** 
Thursday 04 May 2023  19:57:16 +0300 (0:00:00.125)       0:13:44.825 ********** 
Thursday 04 May 2023  19:57:16 +0300 (0:00:00.040)       0:13:44.866 ********** 
Thursday 04 May 2023  19:57:16 +0300 (0:00:00.041)       0:13:44.907 ********** 

TASK [etcd : Gen_certs | check certificate permissions] ************************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:18 +0300 (0:00:01.229)       0:13:46.136 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/etcd/tasks/upd_ca_trust.yml for control-prod-01
Thursday 04 May 2023  19:57:18 +0300 (0:00:00.085)       0:13:46.222 ********** 

TASK [etcd : Gen_certs | target ca-certificate store file] *********************
ok: [control-prod-01]
Thursday 04 May 2023  19:57:18 +0300 (0:00:00.053)       0:13:46.276 ********** 

TASK [etcd : Gen_certs | add CA to trusted CA dir] *****************************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:19 +0300 (0:00:01.263)       0:13:47.540 ********** 

TASK [etcd : Gen_certs | update ca-certificates (Debian/Ubuntu/SUSE/Flatcar)] ***
changed: [control-prod-01]
Thursday 04 May 2023  19:57:21 +0300 (0:00:02.188)       0:13:49.728 ********** 
Thursday 04 May 2023  19:57:21 +0300 (0:00:00.050)       0:13:49.779 ********** 
Thursday 04 May 2023  19:57:22 +0300 (0:00:00.271)       0:13:50.050 ********** 
Thursday 04 May 2023  19:57:22 +0300 (0:00:00.059)       0:13:50.109 ********** 
Thursday 04 May 2023  19:57:22 +0300 (0:00:00.052)       0:13:50.162 ********** 
Thursday 04 May 2023  19:57:22 +0300 (0:00:00.056)       0:13:50.218 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/etcd/tasks/install_host.yml for control-prod-01
Thursday 04 May 2023  19:57:22 +0300 (0:00:00.097)       0:13:50.316 ********** 

TASK [etcd : Get currently-deployed etcd version] ******************************
fatal: [control-prod-01]: FAILED! => {"changed": false, "cmd": "/usr/local/bin/etcd --version", "msg": "[Errno 2] No such file or directory: b'/usr/local/bin/etcd'", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
...ignoring
Thursday 04 May 2023  19:57:23 +0300 (0:00:01.241)       0:13:51.557 ********** 

TASK [etcd : Restart etcd if necessary] ****************************************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:24 +0300 (0:00:01.217)       0:13:52.774 ********** 
Thursday 04 May 2023  19:57:24 +0300 (0:00:00.058)       0:13:52.833 ********** 

TASK [etcd : install | Copy etcd and etcdctl binary from download dir] *********
changed: [control-prod-01] => (item=etcd)
changed: [control-prod-01] => (item=etcdctl)
Thursday 04 May 2023  19:57:29 +0300 (0:00:04.645)       0:13:57.479 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/etcd/tasks/configure.yml for control-prod-01
Thursday 04 May 2023  19:57:29 +0300 (0:00:00.112)       0:13:57.591 ********** 

TASK [etcd : Configure | Check if etcd cluster is healthy] *********************
ok: [control-prod-01]
Thursday 04 May 2023  19:57:35 +0300 (0:00:06.304)       0:14:03.896 ********** 
Thursday 04 May 2023  19:57:35 +0300 (0:00:00.038)       0:14:03.934 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/etcd/tasks/refresh_config.yml for control-prod-01
Thursday 04 May 2023  19:57:36 +0300 (0:00:00.057)       0:14:03.992 ********** 

TASK [etcd : Refresh config | Create etcd config file] *************************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:38 +0300 (0:00:02.577)       0:14:06.570 ********** 
Thursday 04 May 2023  19:57:38 +0300 (0:00:00.077)       0:14:06.647 ********** 

TASK [etcd : Configure | Copy etcd.service systemd file] ***********************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:41 +0300 (0:00:02.427)       0:14:09.075 ********** 
Thursday 04 May 2023  19:57:41 +0300 (0:00:00.059)       0:14:09.134 ********** 

TASK [etcd : Configure | reload systemd] ***************************************
ok: [control-prod-01]
Thursday 04 May 2023  19:57:43 +0300 (0:00:02.266)       0:14:11.401 ********** 

TASK [etcd : Configure | Ensure etcd is running] *******************************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:46 +0300 (0:00:02.593)       0:14:13.995 ********** 
Thursday 04 May 2023  19:57:46 +0300 (0:00:00.039)       0:14:14.035 ********** 

TASK [etcd : Configure | Wait for etcd cluster to be healthy] ******************
ok: [control-prod-01]
Thursday 04 May 2023  19:57:47 +0300 (0:00:01.329)       0:14:15.364 ********** 
Thursday 04 May 2023  19:57:47 +0300 (0:00:00.042)       0:14:15.407 ********** 

TASK [etcd : Configure | Check if member is in etcd cluster] *******************
ok: [control-prod-01]
Thursday 04 May 2023  19:57:48 +0300 (0:00:01.292)       0:14:16.699 ********** 
Thursday 04 May 2023  19:57:48 +0300 (0:00:00.042)       0:14:16.742 ********** 
Thursday 04 May 2023  19:57:48 +0300 (0:00:00.046)       0:14:16.788 ********** 
Thursday 04 May 2023  19:57:48 +0300 (0:00:00.039)       0:14:16.827 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/etcd/tasks/refresh_config.yml for control-prod-01
Thursday 04 May 2023  19:57:48 +0300 (0:00:00.068)       0:14:16.895 ********** 

TASK [etcd : Refresh config | Create etcd config file] *************************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:51 +0300 (0:00:02.508)       0:14:19.404 ********** 
Thursday 04 May 2023  19:57:51 +0300 (0:00:00.049)       0:14:19.454 ********** 
Thursday 04 May 2023  19:57:51 +0300 (0:00:00.044)       0:14:19.498 ********** 
Thursday 04 May 2023  19:57:51 +0300 (0:00:00.040)       0:14:19.538 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/etcd/tasks/refresh_config.yml for control-prod-01
Thursday 04 May 2023  19:57:51 +0300 (0:00:00.061)       0:14:19.600 ********** 

TASK [etcd : Refresh config | Create etcd config file] *************************
ok: [control-prod-01]
Thursday 04 May 2023  19:57:53 +0300 (0:00:02.172)       0:14:21.773 ********** 
Thursday 04 May 2023  19:57:53 +0300 (0:00:00.080)       0:14:21.854 ********** 

RUNNING HANDLER [etcd : restart etcd] ******************************************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:55 +0300 (0:00:01.566)       0:14:23.420 ********** 

RUNNING HANDLER [etcd : Backup etcd data] **************************************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:56 +0300 (0:00:01.229)       0:14:24.650 ********** 

RUNNING HANDLER [etcd : Refresh Time Fact] *************************************
ok: [control-prod-01]
Thursday 04 May 2023  19:57:58 +0300 (0:00:01.952)       0:14:26.603 ********** 

RUNNING HANDLER [etcd : Set Backup Directory] **********************************
ok: [control-prod-01]
Thursday 04 May 2023  19:57:58 +0300 (0:00:00.061)       0:14:26.664 ********** 

RUNNING HANDLER [etcd : Create Backup Directory] *******************************
changed: [control-prod-01]
Thursday 04 May 2023  19:57:59 +0300 (0:00:01.191)       0:14:27.856 ********** 

RUNNING HANDLER [etcd : Stat etcd v2 data directory] ***************************
ok: [control-prod-01]
Thursday 04 May 2023  19:58:01 +0300 (0:00:01.199)       0:14:29.056 ********** 

RUNNING HANDLER [etcd : Backup etcd v2 data] ***********************************
changed: [control-prod-01]
Thursday 04 May 2023  19:58:02 +0300 (0:00:01.305)       0:14:30.362 ********** 

RUNNING HANDLER [etcd : Backup etcd v3 data] ***********************************
changed: [control-prod-01]
Thursday 04 May 2023  19:58:03 +0300 (0:00:01.226)       0:14:31.589 ********** 

RUNNING HANDLER [etcd : etcd | reload systemd] *********************************
ok: [control-prod-01]
Thursday 04 May 2023  19:58:05 +0300 (0:00:01.607)       0:14:33.196 ********** 

RUNNING HANDLER [etcd : reload etcd] *******************************************
changed: [control-prod-01]
Thursday 04 May 2023  19:58:12 +0300 (0:00:07.461)       0:14:40.658 ********** 

RUNNING HANDLER [etcd : wait for etcd up] **************************************
ok: [control-prod-01]
Thursday 04 May 2023  19:58:14 +0300 (0:00:01.414)       0:14:42.073 ********** 

RUNNING HANDLER [etcd : Cleanup etcd backups] **********************************
changed: [control-prod-01]
Thursday 04 May 2023  19:58:15 +0300 (0:00:01.258)       0:14:43.331 ********** 
Thursday 04 May 2023  19:58:15 +0300 (0:00:00.086)       0:14:43.418 ********** 

RUNNING HANDLER [etcd : set etcd_secret_changed] *******************************
ok: [control-prod-01]

PLAY [k8s_cluster] *************************************************************
Thursday 04 May 2023  19:58:15 +0300 (0:00:00.099)       0:14:43.517 ********** 
Thursday 04 May 2023  19:58:15 +0300 (0:00:00.105)       0:14:43.622 ********** 
Thursday 04 May 2023  19:58:15 +0300 (0:00:00.043)       0:14:43.666 ********** 
Thursday 04 May 2023  19:58:15 +0300 (0:00:00.037)       0:14:43.704 ********** 
Thursday 04 May 2023  19:58:15 +0300 (0:00:00.123)       0:14:43.827 ********** 
Thursday 04 May 2023  19:58:15 +0300 (0:00:00.106)       0:14:43.934 ********** 
Thursday 04 May 2023  19:58:16 +0300 (0:00:00.122)       0:14:44.056 ********** 
Thursday 04 May 2023  19:58:16 +0300 (0:00:00.126)       0:14:44.183 ********** 
Thursday 04 May 2023  19:58:16 +0300 (0:00:00.040)       0:14:44.223 ********** 
Thursday 04 May 2023  19:58:16 +0300 (0:00:00.137)       0:14:44.361 ********** 
Thursday 04 May 2023  19:58:18 +0300 (0:00:01.783)       0:14:46.145 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [control-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [ingress-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [worker-prod-02] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [worker-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Thursday 04 May 2023  19:58:18 +0300 (0:00:00.365)       0:14:46.510 ********** 
Thursday 04 May 2023  19:58:18 +0300 (0:00:00.067)       0:14:46.577 ********** 
Thursday 04 May 2023  19:58:18 +0300 (0:00:00.038)       0:14:46.616 ********** 
Thursday 04 May 2023  19:58:18 +0300 (0:00:00.123)       0:14:46.739 ********** 
Thursday 04 May 2023  19:58:18 +0300 (0:00:00.036)       0:14:46.776 ********** 
Thursday 04 May 2023  19:58:18 +0300 (0:00:00.106)       0:14:46.883 ********** 
Thursday 04 May 2023  19:58:19 +0300 (0:00:00.150)       0:14:47.034 ********** 
Thursday 04 May 2023  19:58:19 +0300 (0:00:00.113)       0:14:47.147 ********** 
Thursday 04 May 2023  19:58:19 +0300 (0:00:00.150)       0:14:47.298 ********** 
Thursday 04 May 2023  19:58:19 +0300 (0:00:00.125)       0:14:47.423 ********** 
Thursday 04 May 2023  19:58:19 +0300 (0:00:00.149)       0:14:47.572 ********** 
Thursday 04 May 2023  19:58:19 +0300 (0:00:00.126)       0:14:47.699 ********** 
Thursday 04 May 2023  19:58:19 +0300 (0:00:00.109)       0:14:47.808 ********** 
Thursday 04 May 2023  19:58:19 +0300 (0:00:00.137)       0:14:47.946 ********** 
Thursday 04 May 2023  19:58:20 +0300 (0:00:00.117)       0:14:48.063 ********** 
Thursday 04 May 2023  19:58:20 +0300 (0:00:00.124)       0:14:48.187 ********** 
Thursday 04 May 2023  19:58:20 +0300 (0:00:00.115)       0:14:48.302 ********** 
Thursday 04 May 2023  19:58:20 +0300 (0:00:00.115)       0:14:48.417 ********** 
Thursday 04 May 2023  19:58:20 +0300 (0:00:00.145)       0:14:48.563 ********** 
Thursday 04 May 2023  19:58:20 +0300 (0:00:00.122)       0:14:48.685 ********** 
Thursday 04 May 2023  19:58:20 +0300 (0:00:00.130)       0:14:48.815 ********** 
Thursday 04 May 2023  19:58:20 +0300 (0:00:00.129)       0:14:48.945 ********** 

PLAY [k8s_cluster] *************************************************************
Thursday 04 May 2023  19:58:21 +0300 (0:00:00.213)       0:14:49.159 ********** 
Thursday 04 May 2023  19:58:21 +0300 (0:00:00.113)       0:14:49.272 ********** 
Thursday 04 May 2023  19:58:21 +0300 (0:00:00.040)       0:14:49.313 ********** 
Thursday 04 May 2023  19:58:21 +0300 (0:00:00.043)       0:14:49.356 ********** 
Thursday 04 May 2023  19:58:21 +0300 (0:00:00.109)       0:14:49.466 ********** 
Thursday 04 May 2023  19:58:21 +0300 (0:00:00.112)       0:14:49.578 ********** 
Thursday 04 May 2023  19:58:21 +0300 (0:00:00.160)       0:14:49.739 ********** 
Thursday 04 May 2023  19:58:21 +0300 (0:00:00.114)       0:14:49.853 ********** 
Thursday 04 May 2023  19:58:21 +0300 (0:00:00.037)       0:14:49.890 ********** 
Thursday 04 May 2023  19:58:22 +0300 (0:00:00.157)       0:14:50.048 ********** 
Thursday 04 May 2023  19:58:23 +0300 (0:00:01.877)       0:14:51.926 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [control-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [ingress-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [worker-prod-02] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [worker-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Thursday 04 May 2023  19:58:24 +0300 (0:00:00.226)       0:14:52.152 ********** 
Thursday 04 May 2023  19:58:24 +0300 (0:00:00.083)       0:14:52.235 ********** 
Thursday 04 May 2023  19:58:24 +0300 (0:00:00.055)       0:14:52.291 ********** 
Thursday 04 May 2023  19:58:24 +0300 (0:00:00.110)       0:14:52.401 ********** 
Thursday 04 May 2023  19:58:24 +0300 (0:00:00.038)       0:14:52.440 ********** 
Thursday 04 May 2023  19:58:24 +0300 (0:00:00.112)       0:14:52.552 ********** 
Thursday 04 May 2023  19:58:24 +0300 (0:00:00.233)       0:14:52.785 ********** 
Thursday 04 May 2023  19:58:24 +0300 (0:00:00.102)       0:14:52.888 ********** 
Thursday 04 May 2023  19:58:25 +0300 (0:00:00.113)       0:14:53.002 ********** 
Thursday 04 May 2023  19:58:25 +0300 (0:00:00.100)       0:14:53.102 ********** 
Thursday 04 May 2023  19:58:25 +0300 (0:00:00.097)       0:14:53.200 ********** 

TASK [kubernetes/node : set kubelet_cgroup_driver_detected fact for containerd] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:58:25 +0300 (0:00:00.138)       0:14:53.338 ********** 

TASK [kubernetes/node : set kubelet_cgroup_driver] *****************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:58:25 +0300 (0:00:00.135)       0:14:53.473 ********** 
Thursday 04 May 2023  19:58:25 +0300 (0:00:00.125)       0:14:53.599 ********** 
Thursday 04 May 2023  19:58:25 +0300 (0:00:00.114)       0:14:53.713 ********** 

TASK [kubernetes/node : os specific vars] **************************************
ok: [control-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml)
ok: [ingress-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml)
ok: [worker-prod-02] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml)
ok: [worker-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml)
Thursday 04 May 2023  19:58:25 +0300 (0:00:00.154)       0:14:53.867 ********** 

TASK [kubernetes/node : Pre-upgrade | check if kubelet container exists] *******
ok: [control-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
ok: [ingress-prod-01]
Thursday 04 May 2023  19:58:32 +0300 (0:00:06.883)       0:15:00.750 ********** 
Thursday 04 May 2023  19:58:32 +0300 (0:00:00.147)       0:15:00.898 ********** 
Thursday 04 May 2023  19:58:33 +0300 (0:00:00.103)       0:15:01.002 ********** 
Thursday 04 May 2023  19:58:33 +0300 (0:00:00.109)       0:15:01.112 ********** 

TASK [kubernetes/node : Ensure /var/lib/cni exists] ****************************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:58:34 +0300 (0:00:01.436)       0:15:02.548 ********** 

TASK [kubernetes/node : install | Copy kubeadm binary from download dir] *******
changed: [worker-prod-02]
changed: [worker-prod-01]
changed: [ingress-prod-01]
Thursday 04 May 2023  19:58:37 +0300 (0:00:03.134)       0:15:05.683 ********** 

TASK [kubernetes/node : install | Copy kubelet binary from download dir] *******
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [ingress-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  19:58:40 +0300 (0:00:03.162)       0:15:08.846 ********** 
Thursday 04 May 2023  19:58:41 +0300 (0:00:00.130)       0:15:08.977 ********** 
Thursday 04 May 2023  19:58:41 +0300 (0:00:00.117)       0:15:09.094 ********** 

TASK [kubernetes/node : haproxy | Cleanup potentially deployed haproxy] ********
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:58:42 +0300 (0:00:01.336)       0:15:10.431 ********** 

TASK [kubernetes/node : nginx-proxy | Make nginx directory] ********************
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:58:43 +0300 (0:00:01.372)       0:15:11.803 ********** 

TASK [kubernetes/node : nginx-proxy | Write nginx-proxy configuration] *********
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:58:46 +0300 (0:00:02.738)       0:15:14.542 ********** 

TASK [kubernetes/node : nginx-proxy | Get checksum from config] ****************
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:58:47 +0300 (0:00:01.228)       0:15:15.770 ********** 

TASK [kubernetes/node : nginx-proxy | Write static pod] ************************
changed: [worker-prod-01]
changed: [worker-prod-02]
changed: [ingress-prod-01]
Thursday 04 May 2023  19:58:50 +0300 (0:00:02.494)       0:15:18.265 ********** 
Thursday 04 May 2023  19:58:50 +0300 (0:00:00.141)       0:15:18.406 ********** 
Thursday 04 May 2023  19:58:50 +0300 (0:00:00.141)       0:15:18.548 ********** 
Thursday 04 May 2023  19:58:50 +0300 (0:00:00.110)       0:15:18.659 ********** 
Thursday 04 May 2023  19:58:50 +0300 (0:00:00.113)       0:15:18.772 ********** 
Thursday 04 May 2023  19:58:50 +0300 (0:00:00.190)       0:15:18.963 ********** 

TASK [kubernetes/node : Ensure nodePort range is reserved] *********************
changed: [control-prod-01]
changed: [worker-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:58:52 +0300 (0:00:01.411)       0:15:20.375 ********** 

TASK [kubernetes/node : Verify if br_netfilter module exists] ******************
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
ok: [ingress-prod-01]
Thursday 04 May 2023  19:58:53 +0300 (0:00:01.535)       0:15:21.910 ********** 

TASK [kubernetes/node : Verify br_netfilter module path exists] ****************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  19:58:55 +0300 (0:00:01.345)       0:15:23.256 ********** 

TASK [kubernetes/node : Enable br_netfilter module] ****************************
changed: [control-prod-01]
changed: [worker-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:58:56 +0300 (0:00:01.338)       0:15:24.594 ********** 

TASK [kubernetes/node : Persist br_netfilter module] ***************************
changed: [control-prod-01]
changed: [worker-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:58:58 +0300 (0:00:02.327)       0:15:26.921 ********** 

TASK [kubernetes/node : Check if bridge-nf-call-iptables key exists] ***********
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:59:00 +0300 (0:00:01.367)       0:15:28.289 ********** 

TASK [kubernetes/node : Enable bridge-nf-call tables] **************************
changed: [control-prod-01] => (item=net.bridge.bridge-nf-call-iptables)
changed: [ingress-prod-01] => (item=net.bridge.bridge-nf-call-iptables)
changed: [worker-prod-02] => (item=net.bridge.bridge-nf-call-iptables)
changed: [worker-prod-01] => (item=net.bridge.bridge-nf-call-iptables)
changed: [control-prod-01] => (item=net.bridge.bridge-nf-call-arptables)
changed: [ingress-prod-01] => (item=net.bridge.bridge-nf-call-arptables)
changed: [worker-prod-02] => (item=net.bridge.bridge-nf-call-arptables)
changed: [worker-prod-01] => (item=net.bridge.bridge-nf-call-arptables)
changed: [control-prod-01] => (item=net.bridge.bridge-nf-call-ip6tables)
changed: [ingress-prod-01] => (item=net.bridge.bridge-nf-call-ip6tables)
changed: [worker-prod-01] => (item=net.bridge.bridge-nf-call-ip6tables)
changed: [worker-prod-02] => (item=net.bridge.bridge-nf-call-ip6tables)
Thursday 04 May 2023  19:59:04 +0300 (0:00:03.948)       0:15:32.237 ********** 

TASK [kubernetes/node : Modprobe Kernel Module for IPVS] ***********************
changed: [control-prod-01] => (item=ip_vs)
changed: [ingress-prod-01] => (item=ip_vs)
changed: [worker-prod-02] => (item=ip_vs)
changed: [worker-prod-01] => (item=ip_vs)
changed: [control-prod-01] => (item=ip_vs_rr)
changed: [ingress-prod-01] => (item=ip_vs_rr)
changed: [worker-prod-02] => (item=ip_vs_rr)
changed: [worker-prod-01] => (item=ip_vs_rr)
changed: [control-prod-01] => (item=ip_vs_wrr)
changed: [ingress-prod-01] => (item=ip_vs_wrr)
changed: [worker-prod-02] => (item=ip_vs_wrr)
changed: [worker-prod-01] => (item=ip_vs_wrr)
changed: [control-prod-01] => (item=ip_vs_sh)
changed: [ingress-prod-01] => (item=ip_vs_sh)
changed: [worker-prod-02] => (item=ip_vs_sh)
changed: [worker-prod-01] => (item=ip_vs_sh)
Thursday 04 May 2023  19:59:10 +0300 (0:00:06.004)       0:15:38.241 ********** 

TASK [kubernetes/node : Modprobe nf_conntrack_ipv4] ****************************
fatal: [control-prod-01]: FAILED! => {"changed": false, "msg": "modprobe: FATAL: Module nf_conntrack_ipv4 not found in directory /lib/modules/5.4.0-147-generic\n", "name": "nf_conntrack_ipv4", "params": "", "rc": 1, "state": "present", "stderr": "modprobe: FATAL: Module nf_conntrack_ipv4 not found in directory /lib/modules/5.4.0-147-generic\n", "stderr_lines": ["modprobe: FATAL: Module nf_conntrack_ipv4 not found in directory /lib/modules/5.4.0-147-generic"], "stdout": "", "stdout_lines": []}
...ignoring
fatal: [ingress-prod-01]: FAILED! => {"changed": false, "msg": "modprobe: FATAL: Module nf_conntrack_ipv4 not found in directory /lib/modules/5.4.0-147-generic\n", "name": "nf_conntrack_ipv4", "params": "", "rc": 1, "state": "present", "stderr": "modprobe: FATAL: Module nf_conntrack_ipv4 not found in directory /lib/modules/5.4.0-147-generic\n", "stderr_lines": ["modprobe: FATAL: Module nf_conntrack_ipv4 not found in directory /lib/modules/5.4.0-147-generic"], "stdout": "", "stdout_lines": []}
...ignoring
fatal: [worker-prod-02]: FAILED! => {"changed": false, "msg": "modprobe: FATAL: Module nf_conntrack_ipv4 not found in directory /lib/modules/5.4.0-147-generic\n", "name": "nf_conntrack_ipv4", "params": "", "rc": 1, "state": "present", "stderr": "modprobe: FATAL: Module nf_conntrack_ipv4 not found in directory /lib/modules/5.4.0-147-generic\n", "stderr_lines": ["modprobe: FATAL: Module nf_conntrack_ipv4 not found in directory /lib/modules/5.4.0-147-generic"], "stdout": "", "stdout_lines": []}
...ignoring
fatal: [worker-prod-01]: FAILED! => {"changed": false, "msg": "modprobe: FATAL: Module nf_conntrack_ipv4 not found in directory /lib/modules/5.4.0-147-generic\n", "name": "nf_conntrack_ipv4", "params": "", "rc": 1, "state": "present", "stderr": "modprobe: FATAL: Module nf_conntrack_ipv4 not found in directory /lib/modules/5.4.0-147-generic\n", "stderr_lines": ["modprobe: FATAL: Module nf_conntrack_ipv4 not found in directory /lib/modules/5.4.0-147-generic"], "stdout": "", "stdout_lines": []}
...ignoring
Thursday 04 May 2023  19:59:12 +0300 (0:00:01.918)       0:15:40.160 ********** 

TASK [kubernetes/node : Persist ip_vs modules] *********************************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:59:14 +0300 (0:00:02.541)       0:15:42.701 ********** 
Thursday 04 May 2023  19:59:14 +0300 (0:00:00.159)       0:15:42.860 ********** 
Thursday 04 May 2023  19:59:15 +0300 (0:00:00.119)       0:15:42.980 ********** 
Thursday 04 May 2023  19:59:15 +0300 (0:00:00.111)       0:15:43.092 ********** 
Thursday 04 May 2023  19:59:15 +0300 (0:00:00.101)       0:15:43.194 ********** 

TASK [kubernetes/node : Set kubelet api version to v1beta1] ********************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:59:15 +0300 (0:00:00.115)       0:15:43.309 ********** 

TASK [kubernetes/node : Write kubelet environment config file (kubeadm)] *******
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:59:18 +0300 (0:00:02.717)       0:15:46.026 ********** 

TASK [kubernetes/node : Write kubelet config file] *****************************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  19:59:20 +0300 (0:00:02.804)       0:15:48.831 ********** 

TASK [kubernetes/node : Write kubelet systemd init file] ***********************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:59:23 +0300 (0:00:02.924)       0:15:51.755 ********** 
Thursday 04 May 2023  19:59:23 +0300 (0:00:00.000)       0:15:51.755 ********** 

RUNNING HANDLER [kubernetes/node : Node | restart kubelet] *********************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:59:25 +0300 (0:00:01.563)       0:15:53.319 ********** 

RUNNING HANDLER [kubernetes/node : Kubelet | reload systemd] *******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  19:59:28 +0300 (0:00:02.916)       0:15:56.236 ********** 

RUNNING HANDLER [kubernetes/node : Kubelet | restart kubelet] ******************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:59:30 +0300 (0:00:02.015)       0:15:58.251 ********** 

TASK [kubernetes/node : Enable kubelet] ****************************************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  19:59:33 +0300 (0:00:03.042)       0:16:01.294 ********** 

RUNNING HANDLER [kubernetes/node : Kubelet | restart kubelet] ******************
changed: [ingress-prod-01]
changed: [control-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]

PLAY [kube_control_plane] ******************************************************
Thursday 04 May 2023  19:59:35 +0300 (0:00:02.472)       0:16:03.767 ********** 
Thursday 04 May 2023  19:59:35 +0300 (0:00:00.040)       0:16:03.807 ********** 
Thursday 04 May 2023  19:59:35 +0300 (0:00:00.042)       0:16:03.849 ********** 
Thursday 04 May 2023  19:59:35 +0300 (0:00:00.035)       0:16:03.885 ********** 
Thursday 04 May 2023  19:59:35 +0300 (0:00:00.041)       0:16:03.926 ********** 
Thursday 04 May 2023  19:59:35 +0300 (0:00:00.039)       0:16:03.966 ********** 
Thursday 04 May 2023  19:59:36 +0300 (0:00:00.043)       0:16:04.010 ********** 
Thursday 04 May 2023  19:59:36 +0300 (0:00:00.037)       0:16:04.048 ********** 
Thursday 04 May 2023  19:59:36 +0300 (0:00:00.039)       0:16:04.087 ********** 
Thursday 04 May 2023  19:59:36 +0300 (0:00:00.035)       0:16:04.122 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.955)       0:16:05.078 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [control-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.092)       0:16:05.170 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.062)       0:16:05.232 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.048)       0:16:05.280 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.052)       0:16:05.332 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.038)       0:16:05.371 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.044)       0:16:05.415 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.061)       0:16:05.476 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.036)       0:16:05.513 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.036)       0:16:05.549 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.032)       0:16:05.582 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.134)       0:16:05.716 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.040)       0:16:05.757 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.050)       0:16:05.807 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.049)       0:16:05.857 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.050)       0:16:05.907 ********** 
Thursday 04 May 2023  19:59:37 +0300 (0:00:00.062)       0:16:05.970 ********** 
Thursday 04 May 2023  19:59:38 +0300 (0:00:00.048)       0:16:06.018 ********** 
Thursday 04 May 2023  19:59:38 +0300 (0:00:00.034)       0:16:06.052 ********** 
Thursday 04 May 2023  19:59:38 +0300 (0:00:00.040)       0:16:06.093 ********** 
Thursday 04 May 2023  19:59:38 +0300 (0:00:00.031)       0:16:06.125 ********** 
Thursday 04 May 2023  19:59:38 +0300 (0:00:00.042)       0:16:06.167 ********** 

TASK [kubernetes/control-plane : Pre-upgrade | Delete master manifests if etcd secrets changed] ***
ok: [control-prod-01] => (item=kube-apiserver)
ok: [control-prod-01] => (item=kube-controller-manager)
ok: [control-prod-01] => (item=kube-scheduler)
Thursday 04 May 2023  19:59:41 +0300 (0:00:03.378)       0:16:09.545 ********** 
Thursday 04 May 2023  19:59:41 +0300 (0:00:00.060)       0:16:09.606 ********** 
Thursday 04 May 2023  19:59:41 +0300 (0:00:00.064)       0:16:09.670 ********** 
Thursday 04 May 2023  19:59:41 +0300 (0:00:00.085)       0:16:09.755 ********** 

TASK [kubernetes/control-plane : Create kube-scheduler config] *****************
changed: [control-prod-01]
Thursday 04 May 2023  19:59:44 +0300 (0:00:02.426)       0:16:12.182 ********** 
Thursday 04 May 2023  19:59:44 +0300 (0:00:00.078)       0:16:12.260 ********** 
Thursday 04 May 2023  19:59:44 +0300 (0:00:00.069)       0:16:12.329 ********** 
Thursday 04 May 2023  19:59:44 +0300 (0:00:00.049)       0:16:12.379 ********** 
Thursday 04 May 2023  19:59:44 +0300 (0:00:00.058)       0:16:12.438 ********** 
Thursday 04 May 2023  19:59:44 +0300 (0:00:00.045)       0:16:12.483 ********** 
Thursday 04 May 2023  19:59:44 +0300 (0:00:00.043)       0:16:12.526 ********** 

TASK [kubernetes/control-plane : Install | Copy kubectl binary from download dir] ***
changed: [control-prod-01]
Thursday 04 May 2023  19:59:46 +0300 (0:00:01.593)       0:16:14.120 ********** 

TASK [kubernetes/control-plane : Install kubectl bash completion] **************
changed: [control-prod-01]
Thursday 04 May 2023  19:59:47 +0300 (0:00:01.347)       0:16:15.467 ********** 

TASK [kubernetes/control-plane : Set kubectl bash completion file permissions] ***
changed: [control-prod-01]
Thursday 04 May 2023  19:59:48 +0300 (0:00:01.240)       0:16:16.708 ********** 
Thursday 04 May 2023  19:59:48 +0300 (0:00:00.060)       0:16:16.768 ********** 

TASK [kubernetes/control-plane : Check which kube-control nodes are already members of the cluster] ***
fatal: [control-prod-01]: FAILED! => {"changed": false, "cmd": ["/usr/local/bin/kubectl", "get", "nodes", "--selector=node-role.kubernetes.io/control-plane", "-o", "json"], "delta": "0:00:00.077282", "end": "2023-05-04 16:59:49.833674", "msg": "non-zero return code", "rc": 1, "start": "2023-05-04 16:59:49.756392", "stderr": "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "stderr_lines": ["The connection to the server localhost:8080 was refused - did you specify the right host or port?"], "stdout": "", "stdout_lines": []}
...ignoring
Thursday 04 May 2023  19:59:50 +0300 (0:00:01.212)       0:16:17.981 ********** 
Thursday 04 May 2023  19:59:50 +0300 (0:00:00.051)       0:16:18.032 ********** 

TASK [kubernetes/control-plane : Set fact first_kube_control_plane] ************
ok: [control-prod-01]
Thursday 04 May 2023  19:59:50 +0300 (0:00:00.054)       0:16:18.087 ********** 
Thursday 04 May 2023  19:59:50 +0300 (0:00:00.048)       0:16:18.135 ********** 

TASK [kubernetes/control-plane : kubeadm | Check if kubeadm has already run] ***
ok: [control-prod-01]
Thursday 04 May 2023  19:59:51 +0300 (0:00:01.291)       0:16:19.427 ********** 
Thursday 04 May 2023  19:59:51 +0300 (0:00:00.099)       0:16:19.527 ********** 
Thursday 04 May 2023  19:59:51 +0300 (0:00:00.066)       0:16:19.593 ********** 

TASK [kubernetes/control-plane : kubeadm | aggregate all SANs] *****************
ok: [control-prod-01]
Thursday 04 May 2023  19:59:51 +0300 (0:00:00.212)       0:16:19.805 ********** 
Thursday 04 May 2023  19:59:51 +0300 (0:00:00.044)       0:16:19.849 ********** 
Thursday 04 May 2023  19:59:51 +0300 (0:00:00.035)       0:16:19.884 ********** 
Thursday 04 May 2023  19:59:51 +0300 (0:00:00.044)       0:16:19.929 ********** 
Thursday 04 May 2023  19:59:52 +0300 (0:00:00.071)       0:16:20.000 ********** 

TASK [kubernetes/control-plane : Set kubeadm api version to v1beta3] ***********
ok: [control-prod-01]
Thursday 04 May 2023  19:59:52 +0300 (0:00:00.043)       0:16:20.043 ********** 

TASK [kubernetes/control-plane : kubeadm | Create kubeadm config] **************
changed: [control-prod-01]
Thursday 04 May 2023  19:59:54 +0300 (0:00:02.556)       0:16:22.600 ********** 
Thursday 04 May 2023  19:59:54 +0300 (0:00:00.070)       0:16:22.671 ********** 
Thursday 04 May 2023  19:59:54 +0300 (0:00:00.047)       0:16:22.718 ********** 
Thursday 04 May 2023  19:59:54 +0300 (0:00:00.036)       0:16:22.755 ********** 
Thursday 04 May 2023  19:59:54 +0300 (0:00:00.033)       0:16:22.788 ********** 
Thursday 04 May 2023  19:59:54 +0300 (0:00:00.043)       0:16:22.832 ********** 
Thursday 04 May 2023  19:59:54 +0300 (0:00:00.033)       0:16:22.866 ********** 
Thursday 04 May 2023  19:59:54 +0300 (0:00:00.034)       0:16:22.900 ********** 
Thursday 04 May 2023  19:59:54 +0300 (0:00:00.038)       0:16:22.938 ********** 

TASK [kubernetes/control-plane : kubeadm | Initialize first master] ************
changed: [control-prod-01]
Thursday 04 May 2023  20:00:26 +0300 (0:00:31.436)       0:16:54.375 ********** 
Thursday 04 May 2023  20:00:27 +0300 (0:00:00.677)       0:16:55.053 ********** 
Thursday 04 May 2023  20:00:27 +0300 (0:00:00.054)       0:16:55.107 ********** 

TASK [kubernetes/control-plane : Create kubeadm token for joining nodes with 24h expiration (default)] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:00:27 +0300 (0:00:00.699)       0:16:55.806 ********** 

TASK [kubernetes/control-plane : Set kubeadm_token] ****************************
ok: [control-prod-01]
Thursday 04 May 2023  20:00:27 +0300 (0:00:00.048)       0:16:55.855 ********** 
Thursday 04 May 2023  20:00:27 +0300 (0:00:00.037)       0:16:55.893 ********** 

TASK [kubernetes/control-plane : kubeadm | Join other masters] *****************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/control-plane/tasks/kubeadm-secondary.yml for control-prod-01
Thursday 04 May 2023  20:00:27 +0300 (0:00:00.060)       0:16:55.953 ********** 

TASK [kubernetes/control-plane : Set kubeadm_discovery_address] ****************
ok: [control-prod-01]
Thursday 04 May 2023  20:00:28 +0300 (0:00:00.117)       0:16:56.071 ********** 

TASK [kubernetes/control-plane : Upload certificates so they are fresh and not expired] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:00:29 +0300 (0:00:01.364)       0:16:57.436 ********** 

TASK [kubernetes/control-plane : Parse certificate key if not set] *************
ok: [control-prod-01]
Thursday 04 May 2023  20:00:29 +0300 (0:00:00.119)       0:16:57.555 ********** 
Thursday 04 May 2023  20:00:29 +0300 (0:00:00.040)       0:16:57.596 ********** 

TASK [kubernetes/control-plane : Wait for k8s apiserver] ***********************
ok: [control-prod-01]
Thursday 04 May 2023  20:00:31 +0300 (0:00:01.547)       0:16:59.143 ********** 

TASK [kubernetes/control-plane : check already run] ****************************
ok: [control-prod-01] => {
    "msg": false
}
Thursday 04 May 2023  20:00:31 +0300 (0:00:00.094)       0:16:59.238 ********** 
Thursday 04 May 2023  20:00:31 +0300 (0:00:00.099)       0:16:59.337 ********** 
Thursday 04 May 2023  20:00:31 +0300 (0:00:00.080)       0:16:59.420 ********** 
Thursday 04 May 2023  20:00:31 +0300 (0:00:00.105)       0:16:59.525 ********** 
Thursday 04 May 2023  20:00:31 +0300 (0:00:00.087)       0:16:59.613 ********** 
Thursday 04 May 2023  20:00:31 +0300 (0:00:00.122)       0:16:59.735 ********** 

TASK [kubernetes/control-plane : Include kubeadm secondary server apiserver fixes] ***
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/control-plane/tasks/kubeadm-fix-apiserver.yml for control-prod-01
Thursday 04 May 2023  20:00:31 +0300 (0:00:00.145)       0:16:59.880 ********** 

TASK [kubernetes/control-plane : Update server field in component kubeconfigs] ***
changed: [control-prod-01] => (item=admin.conf)
changed: [control-prod-01] => (item=controller-manager.conf)
changed: [control-prod-01] => (item=kubelet.conf)
changed: [control-prod-01] => (item=scheduler.conf)
Thursday 04 May 2023  20:00:36 +0300 (0:00:04.981)       0:17:04.862 ********** 

TASK [kubernetes/control-plane : Update etcd-servers for apiserver] ************
ok: [control-prod-01]
Thursday 04 May 2023  20:00:38 +0300 (0:00:01.214)       0:17:06.076 ********** 

TASK [kubernetes/control-plane : Include kubelet client cert rotation fixes] ***
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/control-plane/tasks/kubelet-fix-client-cert-rotation.yml for control-prod-01
Thursday 04 May 2023  20:00:38 +0300 (0:00:00.108)       0:17:06.185 ********** 

TASK [kubernetes/control-plane : Fixup kubelet client cert rotation 1/2] *******
ok: [control-prod-01]
Thursday 04 May 2023  20:00:39 +0300 (0:00:01.418)       0:17:07.603 ********** 

TASK [kubernetes/control-plane : Fixup kubelet client cert rotation 2/2] *******
ok: [control-prod-01]
Thursday 04 May 2023  20:00:40 +0300 (0:00:01.270)       0:17:08.873 ********** 

TASK [kubernetes/control-plane : Install script to renew K8S control plane certificates] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:00:43 +0300 (0:00:02.761)       0:17:11.634 ********** 
Thursday 04 May 2023  20:00:43 +0300 (0:00:00.080)       0:17:11.715 ********** 
Thursday 04 May 2023  20:00:43 +0300 (0:00:00.083)       0:17:11.799 ********** 

TASK [kubernetes/client : Set external kube-apiserver endpoint] ****************
ok: [control-prod-01]
Thursday 04 May 2023  20:00:43 +0300 (0:00:00.066)       0:17:11.865 ********** 

TASK [kubernetes/client : Create kube config dir for current/ansible become user] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:00:45 +0300 (0:00:01.295)       0:17:13.161 ********** 

TASK [kubernetes/client : Copy admin kubeconfig to current/ansible become user home] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:00:46 +0300 (0:00:01.320)       0:17:14.482 ********** 

TASK [kubernetes/client : Create kube artifacts dir] ***************************
changed: [control-prod-01 -> localhost]
Thursday 04 May 2023  20:00:46 +0300 (0:00:00.303)       0:17:14.786 ********** 

TASK [kubernetes/client : Wait for k8s apiserver] ******************************
ok: [control-prod-01]
Thursday 04 May 2023  20:00:48 +0300 (0:00:01.245)       0:17:16.031 ********** 

TASK [kubernetes/client : Get admin kubeconfig from remote host] ***************
ok: [control-prod-01]
Thursday 04 May 2023  20:00:49 +0300 (0:00:01.120)       0:17:17.151 ********** 

TASK [kubernetes/client : Convert kubeconfig to YAML] **************************
ok: [control-prod-01]
Thursday 04 May 2023  20:00:49 +0300 (0:00:00.068)       0:17:17.220 ********** 

TASK [kubernetes/client : Override username in kubeconfig] *********************
ok: [control-prod-01]
Thursday 04 May 2023  20:00:49 +0300 (0:00:00.080)       0:17:17.301 ********** 

TASK [kubernetes/client : Write admin kubeconfig on ansible host] **************
changed: [control-prod-01 -> localhost]
Thursday 04 May 2023  20:00:50 +0300 (0:00:00.885)       0:17:18.186 ********** 
Thursday 04 May 2023  20:00:50 +0300 (0:00:00.068)       0:17:18.254 ********** 
Thursday 04 May 2023  20:00:50 +0300 (0:00:00.050)       0:17:18.305 ********** 

TASK [kubernetes-apps/cluster_roles : Kubernetes Apps | Wait for kube-apiserver] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:00:51 +0300 (0:00:01.429)       0:17:19.734 ********** 

TASK [kubernetes-apps/cluster_roles : Kubernetes Apps | Add ClusterRoleBinding to admit nodes] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:00:54 +0300 (0:00:02.250)       0:17:21.985 ********** 

TASK [kubernetes-apps/cluster_roles : Apply workaround to allow all nodes with cert O=system:nodes to register] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:00:56 +0300 (0:00:02.807)       0:17:24.792 ********** 

TASK [kubernetes-apps/cluster_roles : Kubernetes Apps | Remove old webhook ClusterRole] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:00:58 +0300 (0:00:01.233)       0:17:26.026 ********** 

TASK [kubernetes-apps/cluster_roles : Kubernetes Apps | Remove old webhook ClusterRoleBinding] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:00:59 +0300 (0:00:01.248)       0:17:27.275 ********** 
Thursday 04 May 2023  20:00:59 +0300 (0:00:00.089)       0:17:27.364 ********** 

TASK [kubernetes-apps/cluster_roles : PriorityClass | Copy k8s-cluster-critical-pc.yml file] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:01:01 +0300 (0:00:02.218)       0:17:29.583 ********** 

TASK [kubernetes-apps/cluster_roles : PriorityClass | Create k8s-cluster-critical] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:01:03 +0300 (0:00:01.703)       0:17:31.287 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | restart kubelet] **********
changed: [control-prod-01]
Thursday 04 May 2023  20:01:04 +0300 (0:00:01.242)       0:17:32.529 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | wait for master static pods] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:01:05 +0300 (0:00:01.321)       0:17:33.851 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | Restart kube-scheduler] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:01:06 +0300 (0:00:01.114)       0:17:34.966 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | Restart kube-controller-manager] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:01:08 +0300 (0:00:01.282)       0:17:36.248 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | reload systemd] ***********
ok: [control-prod-01]
Thursday 04 May 2023  20:01:09 +0300 (0:00:01.718)       0:17:37.967 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | reload kubelet] ***********
changed: [control-prod-01]
Thursday 04 May 2023  20:01:11 +0300 (0:00:01.463)       0:17:39.430 ********** 
Thursday 04 May 2023  20:01:11 +0300 (0:00:00.042)       0:17:39.473 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | Remove scheduler container containerd/crio] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:01:13 +0300 (0:00:02.413)       0:17:41.886 ********** 
Thursday 04 May 2023  20:01:14 +0300 (0:00:00.114)       0:17:42.000 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | Remove controller manager container containerd/crio] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:01:16 +0300 (0:00:02.531)       0:17:44.532 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | wait for kube-scheduler] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:01:18 +0300 (0:00:01.724)       0:17:46.256 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | wait for kube-controller-manager] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:01:19 +0300 (0:00:01.539)       0:17:47.796 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | wait for the apiserver to be running] ***
ok: [control-prod-01]

PLAY [k8s_cluster] *************************************************************
Thursday 04 May 2023  20:01:21 +0300 (0:00:01.725)       0:17:49.521 ********** 
Thursday 04 May 2023  20:01:21 +0300 (0:00:00.112)       0:17:49.633 ********** 
Thursday 04 May 2023  20:01:21 +0300 (0:00:00.076)       0:17:49.710 ********** 
Thursday 04 May 2023  20:01:21 +0300 (0:00:00.041)       0:17:49.752 ********** 
Thursday 04 May 2023  20:01:21 +0300 (0:00:00.133)       0:17:49.885 ********** 
Thursday 04 May 2023  20:01:22 +0300 (0:00:00.157)       0:17:50.043 ********** 
Thursday 04 May 2023  20:01:22 +0300 (0:00:00.152)       0:17:50.196 ********** 
Thursday 04 May 2023  20:01:22 +0300 (0:00:00.164)       0:17:50.360 ********** 
Thursday 04 May 2023  20:01:22 +0300 (0:00:00.049)       0:17:50.409 ********** 
Thursday 04 May 2023  20:01:22 +0300 (0:00:00.139)       0:17:50.549 ********** 
Thursday 04 May 2023  20:01:24 +0300 (0:00:01.678)       0:17:52.228 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [control-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [ingress-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [worker-prod-02] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [worker-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Thursday 04 May 2023  20:01:24 +0300 (0:00:00.178)       0:17:52.406 ********** 
Thursday 04 May 2023  20:01:24 +0300 (0:00:00.060)       0:17:52.466 ********** 
Thursday 04 May 2023  20:01:24 +0300 (0:00:00.040)       0:17:52.507 ********** 
Thursday 04 May 2023  20:01:24 +0300 (0:00:00.113)       0:17:52.620 ********** 
Thursday 04 May 2023  20:01:24 +0300 (0:00:00.038)       0:17:52.659 ********** 
Thursday 04 May 2023  20:01:24 +0300 (0:00:00.108)       0:17:52.768 ********** 
Thursday 04 May 2023  20:01:24 +0300 (0:00:00.155)       0:17:52.923 ********** 

TASK [kubernetes/kubeadm : Set kubeadm_discovery_address] **********************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:01:25 +0300 (0:00:00.225)       0:17:53.149 ********** 

TASK [kubernetes/kubeadm : Check if kubelet.conf exists] ***********************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  20:01:27 +0300 (0:00:02.406)       0:17:55.555 ********** 

TASK [kubernetes/kubeadm : Check if kubeadm CA cert is accessible] *************
ok: [control-prod-01]
Thursday 04 May 2023  20:01:28 +0300 (0:00:00.592)       0:17:56.147 ********** 

TASK [kubernetes/kubeadm : Calculate kubeadm CA cert hash] *********************
ok: [control-prod-01]
Thursday 04 May 2023  20:01:28 +0300 (0:00:00.533)       0:17:56.681 ********** 

TASK [kubernetes/kubeadm : Create kubeadm token for joining nodes with 24h expiration (default)] ***
ok: [ingress-prod-01 -> control-prod-01(192.168.2.28)]
ok: [worker-prod-01 -> control-prod-01(192.168.2.28)]
ok: [worker-prod-02 -> control-prod-01(192.168.2.28)]
Thursday 04 May 2023  20:01:29 +0300 (0:00:01.076)       0:17:57.757 ********** 

TASK [kubernetes/kubeadm : Set kubeadm_token to generated token] ***************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:01:29 +0300 (0:00:00.154)       0:17:57.912 ********** 

TASK [kubernetes/kubeadm : Set kubeadm api version to v1beta3] *****************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:01:30 +0300 (0:00:00.128)       0:17:58.040 ********** 

TASK [kubernetes/kubeadm : Create kubeadm client config] ***********************
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  20:01:32 +0300 (0:00:02.802)       0:18:00.843 ********** 
Thursday 04 May 2023  20:01:32 +0300 (0:00:00.118)       0:18:00.961 ********** 
Thursday 04 May 2023  20:01:33 +0300 (0:00:00.112)       0:18:01.073 ********** 

TASK [kubernetes/kubeadm : Join to cluster] ************************************
changed: [worker-prod-02]
changed: [worker-prod-01]
changed: [ingress-prod-01]
Thursday 04 May 2023  20:02:02 +0300 (0:00:29.653)       0:18:30.727 ********** 
Thursday 04 May 2023  20:02:02 +0300 (0:00:00.166)       0:18:30.894 ********** 

TASK [kubernetes/kubeadm : Update server field in kubelet kubeconfig] **********
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  20:02:04 +0300 (0:00:01.709)       0:18:32.604 ********** 

TASK [kubernetes/kubeadm : Update server field in kube-proxy kubeconfig] *******
changed: [control-prod-01]
Thursday 04 May 2023  20:02:05 +0300 (0:00:00.936)       0:18:33.541 ********** 

TASK [kubernetes/kubeadm : Set ca.crt file permission] *************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  20:02:07 +0300 (0:00:01.554)       0:18:35.096 ********** 

TASK [kubernetes/kubeadm : Restart all kube-proxy pods to ensure that they load the new configmap] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:02:08 +0300 (0:00:01.332)       0:18:36.428 ********** 
Thursday 04 May 2023  20:02:08 +0300 (0:00:00.150)       0:18:36.578 ********** 

TASK [kubernetes/node-label : Kubernetes Apps | Wait for kube-apiserver] *******
ok: [control-prod-01]
Thursday 04 May 2023  20:02:10 +0300 (0:00:01.468)       0:18:38.047 ********** 

TASK [kubernetes/node-label : Set role node label to empty list] ***************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:02:10 +0300 (0:00:00.165)       0:18:38.213 ********** 
Thursday 04 May 2023  20:02:10 +0300 (0:00:00.097)       0:18:38.310 ********** 

TASK [kubernetes/node-label : Set inventory node label to empty list] **********
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:02:10 +0300 (0:00:00.146)       0:18:38.457 ********** 

TASK [kubernetes/node-label : Populate inventory node label] *******************
ok: [ingress-prod-01] => (item={'key': 'node-role.kubernetes.io/ingress', 'value': 'true'})
Thursday 04 May 2023  20:02:10 +0300 (0:00:00.113)       0:18:38.570 ********** 

TASK [kubernetes/node-label : debug] *******************************************
ok: [control-prod-01] => {
    "role_node_labels": []
}
ok: [ingress-prod-01] => {
    "role_node_labels": []
}
ok: [worker-prod-02] => {
    "role_node_labels": []
}
ok: [worker-prod-01] => {
    "role_node_labels": []
}
Thursday 04 May 2023  20:02:10 +0300 (0:00:00.121)       0:18:38.692 ********** 

TASK [kubernetes/node-label : debug] *******************************************
ok: [control-prod-01] => {
    "inventory_node_labels": []
}
ok: [ingress-prod-01] => {
    "inventory_node_labels": [
        "node-role.kubernetes.io/ingress=true"
    ]
}
ok: [worker-prod-02] => {
    "inventory_node_labels": []
}
ok: [worker-prod-01] => {
    "inventory_node_labels": []
}
Thursday 04 May 2023  20:02:10 +0300 (0:00:00.133)       0:18:38.826 ********** 

TASK [kubernetes/node-label : Set label to node] *******************************
ok: [ingress-prod-01 -> control-prod-01(192.168.2.28)] => (item=node-role.kubernetes.io/ingress=true)
Thursday 04 May 2023  20:02:11 +0300 (0:00:00.707)       0:18:39.533 ********** 

TASK [network_plugin/cni : CNI | make sure /opt/cni/bin exists] ****************
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  20:02:13 +0300 (0:00:01.980)       0:18:41.513 ********** 

TASK [network_plugin/cni : CNI | Copy cni plugins] *****************************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  20:02:21 +0300 (0:00:08.236)       0:18:49.750 ********** 
Thursday 04 May 2023  20:02:21 +0300 (0:00:00.139)       0:18:49.889 ********** 
Thursday 04 May 2023  20:02:22 +0300 (0:00:00.147)       0:18:50.036 ********** 
Thursday 04 May 2023  20:02:22 +0300 (0:00:00.119)       0:18:50.156 ********** 
Thursday 04 May 2023  20:02:22 +0300 (0:00:00.110)       0:18:50.266 ********** 
Thursday 04 May 2023  20:02:22 +0300 (0:00:00.112)       0:18:50.379 ********** 
Thursday 04 May 2023  20:02:22 +0300 (0:00:00.137)       0:18:50.516 ********** 
Thursday 04 May 2023  20:02:22 +0300 (0:00:00.118)       0:18:50.634 ********** 
Thursday 04 May 2023  20:02:22 +0300 (0:00:00.162)       0:18:50.796 ********** 
Thursday 04 May 2023  20:02:22 +0300 (0:00:00.127)       0:18:50.923 ********** 
Thursday 04 May 2023  20:02:23 +0300 (0:00:00.143)       0:18:51.067 ********** 

TASK [network_plugin/calico : Slurp CNI config] ********************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  20:02:24 +0300 (0:00:01.397)       0:18:52.464 ********** 
Thursday 04 May 2023  20:02:24 +0300 (0:00:00.115)       0:18:52.580 ********** 
Thursday 04 May 2023  20:02:24 +0300 (0:00:00.118)       0:18:52.698 ********** 
Thursday 04 May 2023  20:02:24 +0300 (0:00:00.146)       0:18:52.845 ********** 

TASK [network_plugin/calico : Calico | Gather os specific variables] ***********
ok: [control-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/network_plugin/calico/vars/../vars/debian.yml)
ok: [ingress-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/network_plugin/calico/vars/../vars/debian.yml)
ok: [worker-prod-02] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/network_plugin/calico/vars/../vars/debian.yml)
ok: [worker-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/network_plugin/calico/vars/../vars/debian.yml)
Thursday 04 May 2023  20:02:25 +0300 (0:00:00.161)       0:18:53.006 ********** 
Thursday 04 May 2023  20:02:25 +0300 (0:00:00.110)       0:18:53.117 ********** 

TASK [network_plugin/calico : include_tasks] ***********************************
included: /home/rpot/projects/devops-netology/degree-project/kubespray/roles/network_plugin/calico/tasks/install.yml for control-prod-01, ingress-prod-01, worker-prod-02, worker-prod-01
Thursday 04 May 2023  20:02:25 +0300 (0:00:00.193)       0:18:53.310 ********** 
Thursday 04 May 2023  20:02:25 +0300 (0:00:00.122)       0:18:53.433 ********** 

TASK [network_plugin/calico : Calico | Copy calicoctl binary from download dir] ***
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
changed: [ingress-prod-01]
Thursday 04 May 2023  20:02:28 +0300 (0:00:02.543)       0:18:55.976 ********** 

TASK [network_plugin/calico : Calico | Write Calico cni config] ****************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  20:02:30 +0300 (0:00:02.724)       0:18:58.701 ********** 
Thursday 04 May 2023  20:02:30 +0300 (0:00:00.112)       0:18:58.813 ********** 
Thursday 04 May 2023  20:02:30 +0300 (0:00:00.141)       0:18:58.954 ********** 
Thursday 04 May 2023  20:02:31 +0300 (0:00:00.100)       0:18:59.055 ********** 
Thursday 04 May 2023  20:02:31 +0300 (0:00:00.113)       0:18:59.169 ********** 

TASK [network_plugin/calico : Calico | Install calicoctl wrapper script] *******
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  20:02:33 +0300 (0:00:02.759)       0:19:01.928 ********** 
Thursday 04 May 2023  20:02:34 +0300 (0:00:00.049)       0:19:01.978 ********** 

TASK [network_plugin/calico : Calico | Check if calico network pool has already been configured] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:02:35 +0300 (0:00:01.410)       0:19:03.389 ********** 
Thursday 04 May 2023  20:02:35 +0300 (0:00:00.105)       0:19:03.494 ********** 
Thursday 04 May 2023  20:02:35 +0300 (0:00:00.112)       0:19:03.607 ********** 
Thursday 04 May 2023  20:02:35 +0300 (0:00:00.114)       0:19:03.722 ********** 

TASK [network_plugin/calico : Calico | Check if extra directory is needed] *****
ok: [control-prod-01]
Thursday 04 May 2023  20:02:37 +0300 (0:00:01.290)       0:19:05.012 ********** 
Thursday 04 May 2023  20:02:37 +0300 (0:00:00.100)       0:19:05.113 ********** 

TASK [network_plugin/calico : Calico | Set kdd path when calico > v3.22.2] *****
ok: [control-prod-01]
Thursday 04 May 2023  20:02:37 +0300 (0:00:00.122)       0:19:05.236 ********** 

TASK [network_plugin/calico : Calico | Create calico manifests for kdd] ********
changed: [control-prod-01]
Thursday 04 May 2023  20:02:38 +0300 (0:00:01.421)       0:19:06.657 ********** 

TASK [network_plugin/calico : Calico | Create Calico Kubernetes datastore resources] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:02:41 +0300 (0:00:02.500)       0:19:09.158 ********** 

TASK [network_plugin/calico : Calico | Get existing FelixConfiguration] ********
fatal: [control-prod-01]: FAILED! => {"changed": false, "cmd": ["/usr/local/bin/calicoctl.sh", "get", "felixconfig", "default", "-o", "json"], "delta": "0:00:00.122596", "end": "2023-05-04 17:02:42.389801", "msg": "non-zero return code", "rc": 1, "start": "2023-05-04 17:02:42.267205", "stderr": "resource does not exist: FelixConfiguration(default) with error: felixconfigurations.crd.projectcalico.org \"default\" not found", "stderr_lines": ["resource does not exist: FelixConfiguration(default) with error: felixconfigurations.crd.projectcalico.org \"default\" not found"], "stdout": "null", "stdout_lines": ["null"]}
...ignoring
Thursday 04 May 2023  20:02:42 +0300 (0:00:01.501)       0:19:10.660 ********** 

TASK [network_plugin/calico : Calico | Set kubespray FelixConfiguration] *******
ok: [control-prod-01]
Thursday 04 May 2023  20:02:42 +0300 (0:00:00.121)       0:19:10.782 ********** 
Thursday 04 May 2023  20:02:42 +0300 (0:00:00.111)       0:19:10.893 ********** 

TASK [network_plugin/calico : Calico | Configure calico FelixConfiguration] ****
ok: [control-prod-01]
Thursday 04 May 2023  20:02:44 +0300 (0:00:01.391)       0:19:12.285 ********** 

TASK [network_plugin/calico : Calico | Get existing calico network pool] *******
fatal: [control-prod-01]: FAILED! => {"changed": false, "cmd": ["/usr/local/bin/calicoctl.sh", "get", "ippool", "default-pool", "-o", "json"], "delta": "0:00:00.102501", "end": "2023-05-04 17:02:45.415588", "msg": "non-zero return code", "rc": 1, "start": "2023-05-04 17:02:45.313087", "stderr": "resource does not exist: IPPool(default-pool) with error: ippools.crd.projectcalico.org \"default-pool\" not found", "stderr_lines": ["resource does not exist: IPPool(default-pool) with error: ippools.crd.projectcalico.org \"default-pool\" not found"], "stdout": "null", "stdout_lines": ["null"]}
...ignoring
Thursday 04 May 2023  20:02:45 +0300 (0:00:01.350)       0:19:13.636 ********** 

TASK [network_plugin/calico : Calico | Set kubespray calico network pool] ******
ok: [control-prod-01]
Thursday 04 May 2023  20:02:45 +0300 (0:00:00.118)       0:19:13.755 ********** 
Thursday 04 May 2023  20:02:45 +0300 (0:00:00.110)       0:19:13.865 ********** 

TASK [network_plugin/calico : Calico | Configure calico network pool] **********
ok: [control-prod-01]
Thursday 04 May 2023  20:02:47 +0300 (0:00:02.008)       0:19:15.874 ********** 
Thursday 04 May 2023  20:02:48 +0300 (0:00:00.115)       0:19:15.989 ********** 
Thursday 04 May 2023  20:02:48 +0300 (0:00:00.111)       0:19:16.100 ********** 
Thursday 04 May 2023  20:02:48 +0300 (0:00:00.113)       0:19:16.214 ********** 
Thursday 04 May 2023  20:02:48 +0300 (0:00:00.108)       0:19:16.322 ********** 
Thursday 04 May 2023  20:02:48 +0300 (0:00:00.031)       0:19:16.353 ********** 
Thursday 04 May 2023  20:02:48 +0300 (0:00:00.038)       0:19:16.392 ********** 
Thursday 04 May 2023  20:02:48 +0300 (0:00:00.037)       0:19:16.429 ********** 

TASK [network_plugin/calico : Calico | Get existing BGP Configuration] *********
fatal: [control-prod-01]: FAILED! => {"changed": false, "cmd": ["/usr/local/bin/calicoctl.sh", "get", "bgpconfig", "default", "-o", "json"], "delta": "0:00:00.070339", "end": "2023-05-04 17:02:49.486139", "msg": "non-zero return code", "rc": 1, "start": "2023-05-04 17:02:49.415800", "stderr": "resource does not exist: BGPConfiguration(default) with error: bgpconfigurations.crd.projectcalico.org \"default\" not found", "stderr_lines": ["resource does not exist: BGPConfiguration(default) with error: bgpconfigurations.crd.projectcalico.org \"default\" not found"], "stdout": "null", "stdout_lines": ["null"]}
...ignoring
Thursday 04 May 2023  20:02:49 +0300 (0:00:01.300)       0:19:17.730 ********** 

TASK [network_plugin/calico : Calico | Set kubespray BGP Configuration] ********
ok: [control-prod-01]
Thursday 04 May 2023  20:02:49 +0300 (0:00:00.118)       0:19:17.848 ********** 
Thursday 04 May 2023  20:02:49 +0300 (0:00:00.101)       0:19:17.950 ********** 

TASK [network_plugin/calico : Calico | Set up BGP Configuration] ***************
ok: [control-prod-01]
Thursday 04 May 2023  20:02:51 +0300 (0:00:01.301)       0:19:19.252 ********** 

TASK [network_plugin/calico : Calico | Create calico manifests] ****************
changed: [control-prod-01] => (item={'name': 'calico-config', 'file': 'calico-config.yml', 'type': 'cm'})
changed: [control-prod-01] => (item={'name': 'calico-node', 'file': 'calico-node.yml', 'type': 'ds'})
changed: [control-prod-01] => (item={'name': 'calico', 'file': 'calico-node-sa.yml', 'type': 'sa'})
changed: [control-prod-01] => (item={'name': 'calico', 'file': 'calico-cr.yml', 'type': 'clusterrole'})
changed: [control-prod-01] => (item={'name': 'calico', 'file': 'calico-crb.yml', 'type': 'clusterrolebinding'})
changed: [control-prod-01] => (item={'name': 'kubernetes-services-endpoint', 'file': 'kubernetes-services-endpoint.yml', 'type': 'cm'})
Thursday 04 May 2023  20:03:05 +0300 (0:00:14.442)       0:19:33.694 ********** 
Thursday 04 May 2023  20:03:05 +0300 (0:00:00.107)       0:19:33.802 ********** 
Thursday 04 May 2023  20:03:05 +0300 (0:00:00.104)       0:19:33.906 ********** 
Thursday 04 May 2023  20:03:06 +0300 (0:00:00.116)       0:19:34.023 ********** 
Thursday 04 May 2023  20:03:06 +0300 (0:00:00.108)       0:19:34.132 ********** 

TASK [network_plugin/calico : Start Calico resources] **************************
ok: [control-prod-01] => (item=calico-config.yml)
ok: [control-prod-01] => (item=calico-node.yml)
ok: [control-prod-01] => (item=calico-node-sa.yml)
ok: [control-prod-01] => (item=calico-cr.yml)
ok: [control-prod-01] => (item=calico-crb.yml)
ok: [control-prod-01] => (item=kubernetes-services-endpoint.yml)
Thursday 04 May 2023  20:03:18 +0300 (0:00:11.929)       0:19:46.061 ********** 
Thursday 04 May 2023  20:03:18 +0300 (0:00:00.112)       0:19:46.174 ********** 

TASK [network_plugin/calico : Wait for calico kubeconfig to be created] ********
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:03:30 +0300 (0:00:12.598)       0:19:58.773 ********** 

TASK [network_plugin/calico : Calico | Create Calico ipam manifests] ***********
changed: [control-prod-01] => (item={'name': 'calico', 'file': 'calico-ipamconfig.yml', 'type': 'ipam'})
Thursday 04 May 2023  20:03:33 +0300 (0:00:02.677)       0:20:01.451 ********** 

TASK [network_plugin/calico : Calico | Create ipamconfig resources] ************
ok: [control-prod-01]
Thursday 04 May 2023  20:03:35 +0300 (0:00:01.940)       0:20:03.391 ********** 
Thursday 04 May 2023  20:03:35 +0300 (0:00:00.117)       0:20:03.509 ********** 
Thursday 04 May 2023  20:03:35 +0300 (0:00:00.160)       0:20:03.670 ********** 
Thursday 04 May 2023  20:03:35 +0300 (0:00:00.110)       0:20:03.780 ********** 
Thursday 04 May 2023  20:03:35 +0300 (0:00:00.161)       0:20:03.942 ********** 
Thursday 04 May 2023  20:03:36 +0300 (0:00:00.103)       0:20:04.045 ********** 
Thursday 04 May 2023  20:03:36 +0300 (0:00:00.135)       0:20:04.180 ********** 
Thursday 04 May 2023  20:03:36 +0300 (0:00:00.106)       0:20:04.287 ********** 
Thursday 04 May 2023  20:03:36 +0300 (0:00:00.105)       0:20:04.392 ********** 
Thursday 04 May 2023  20:03:36 +0300 (0:00:00.134)       0:20:04.527 ********** 
Thursday 04 May 2023  20:03:36 +0300 (0:00:00.102)       0:20:04.629 ********** 
Thursday 04 May 2023  20:03:36 +0300 (0:00:00.106)       0:20:04.736 ********** 
Thursday 04 May 2023  20:03:36 +0300 (0:00:00.150)       0:20:04.887 ********** 
Thursday 04 May 2023  20:03:36 +0300 (0:00:00.042)       0:20:04.929 ********** 
Thursday 04 May 2023  20:03:37 +0300 (0:00:00.233)       0:20:05.162 ********** 
Thursday 04 May 2023  20:03:37 +0300 (0:00:00.115)       0:20:05.278 ********** 
Thursday 04 May 2023  20:03:37 +0300 (0:00:00.147)       0:20:05.425 ********** 
Thursday 04 May 2023  20:03:37 +0300 (0:00:00.146)       0:20:05.572 ********** 
Thursday 04 May 2023  20:03:37 +0300 (0:00:00.105)       0:20:05.677 ********** 
Thursday 04 May 2023  20:03:37 +0300 (0:00:00.100)       0:20:05.777 ********** 
Thursday 04 May 2023  20:03:37 +0300 (0:00:00.099)       0:20:05.877 ********** 
Thursday 04 May 2023  20:03:38 +0300 (0:00:00.108)       0:20:05.985 ********** 
Thursday 04 May 2023  20:03:38 +0300 (0:00:00.134)       0:20:06.120 ********** 
Thursday 04 May 2023  20:03:38 +0300 (0:00:00.096)       0:20:06.217 ********** 
Thursday 04 May 2023  20:03:38 +0300 (0:00:00.150)       0:20:06.367 ********** 
Thursday 04 May 2023  20:03:38 +0300 (0:00:00.101)       0:20:06.468 ********** 
Thursday 04 May 2023  20:03:38 +0300 (0:00:00.123)       0:20:06.592 ********** 
Thursday 04 May 2023  20:03:38 +0300 (0:00:00.129)       0:20:06.721 ********** 
Thursday 04 May 2023  20:03:38 +0300 (0:00:00.097)       0:20:06.819 ********** 
Thursday 04 May 2023  20:03:38 +0300 (0:00:00.102)       0:20:06.922 ********** 
Thursday 04 May 2023  20:03:39 +0300 (0:00:00.145)       0:20:07.067 ********** 
Thursday 04 May 2023  20:03:39 +0300 (0:00:00.208)       0:20:07.276 ********** 
Thursday 04 May 2023  20:03:39 +0300 (0:00:00.163)       0:20:07.439 ********** 
Thursday 04 May 2023  20:03:39 +0300 (0:00:00.115)       0:20:07.554 ********** 
Thursday 04 May 2023  20:03:39 +0300 (0:00:00.114)       0:20:07.669 ********** 
Thursday 04 May 2023  20:03:39 +0300 (0:00:00.112)       0:20:07.781 ********** 
Thursday 04 May 2023  20:03:39 +0300 (0:00:00.100)       0:20:07.882 ********** 
Thursday 04 May 2023  20:03:40 +0300 (0:00:00.108)       0:20:07.990 ********** 
Thursday 04 May 2023  20:03:40 +0300 (0:00:00.104)       0:20:08.095 ********** 
Thursday 04 May 2023  20:03:40 +0300 (0:00:00.108)       0:20:08.203 ********** 
Thursday 04 May 2023  20:03:40 +0300 (0:00:00.105)       0:20:08.309 ********** 
Thursday 04 May 2023  20:03:40 +0300 (0:00:00.108)       0:20:08.417 ********** 
Thursday 04 May 2023  20:03:40 +0300 (0:00:00.110)       0:20:08.528 ********** 
Thursday 04 May 2023  20:03:40 +0300 (0:00:00.068)       0:20:08.597 ********** 
Thursday 04 May 2023  20:03:40 +0300 (0:00:00.134)       0:20:08.732 ********** 
Thursday 04 May 2023  20:03:40 +0300 (0:00:00.126)       0:20:08.858 ********** 
Thursday 04 May 2023  20:03:41 +0300 (0:00:00.224)       0:20:09.083 ********** 

RUNNING HANDLER [kubernetes/kubeadm : Kubeadm | restart kubelet] ***************
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  20:03:42 +0300 (0:00:01.828)       0:20:10.911 ********** 

RUNNING HANDLER [kubernetes/kubeadm : Kubeadm | reload systemd] ****************
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:03:45 +0300 (0:00:02.786)       0:20:13.698 ********** 

RUNNING HANDLER [kubernetes/kubeadm : Kubeadm | reload kubelet] ****************
changed: [ingress-prod-01]
changed: [worker-prod-01]
changed: [worker-prod-02]
Thursday 04 May 2023  20:03:47 +0300 (0:00:01.748)       0:20:15.447 ********** 

PLAY [calico_rr] ***************************************************************
skipping: no hosts matched

PLAY [kube_control_plane[0]] ***************************************************
Thursday 04 May 2023  20:03:47 +0300 (0:00:00.193)       0:20:15.640 ********** 
Thursday 04 May 2023  20:03:47 +0300 (0:00:00.043)       0:20:15.683 ********** 
Thursday 04 May 2023  20:03:47 +0300 (0:00:00.051)       0:20:15.734 ********** 
Thursday 04 May 2023  20:03:47 +0300 (0:00:00.055)       0:20:15.790 ********** 
Thursday 04 May 2023  20:03:47 +0300 (0:00:00.041)       0:20:15.832 ********** 
Thursday 04 May 2023  20:03:47 +0300 (0:00:00.043)       0:20:15.875 ********** 
Thursday 04 May 2023  20:03:47 +0300 (0:00:00.039)       0:20:15.915 ********** 
Thursday 04 May 2023  20:03:47 +0300 (0:00:00.044)       0:20:15.960 ********** 
Thursday 04 May 2023  20:03:48 +0300 (0:00:00.037)       0:20:15.997 ********** 
Thursday 04 May 2023  20:03:48 +0300 (0:00:00.034)       0:20:16.032 ********** 
Thursday 04 May 2023  20:03:48 +0300 (0:00:00.775)       0:20:16.808 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [control-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Thursday 04 May 2023  20:03:48 +0300 (0:00:00.083)       0:20:16.891 ********** 
Thursday 04 May 2023  20:03:48 +0300 (0:00:00.055)       0:20:16.946 ********** 
Thursday 04 May 2023  20:03:49 +0300 (0:00:00.036)       0:20:16.983 ********** 
Thursday 04 May 2023  20:03:49 +0300 (0:00:00.036)       0:20:17.020 ********** 
Thursday 04 May 2023  20:03:49 +0300 (0:00:00.032)       0:20:17.053 ********** 
Thursday 04 May 2023  20:03:49 +0300 (0:00:00.039)       0:20:17.092 ********** 
Thursday 04 May 2023  20:03:49 +0300 (0:00:00.039)       0:20:17.132 ********** 

TASK [win_nodes/kubernetes_patch : Ensure that user manifests directory exists] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:03:50 +0300 (0:00:01.411)       0:20:18.544 ********** 

TASK [win_nodes/kubernetes_patch : Check current nodeselector for kube-proxy daemonset] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:03:52 +0300 (0:00:01.756)       0:20:20.301 ********** 

TASK [win_nodes/kubernetes_patch : Apply nodeselector patch for kube-proxy daemonset] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:03:54 +0300 (0:00:01.831)       0:20:22.132 ********** 

TASK [win_nodes/kubernetes_patch : debug] **************************************
ok: [control-prod-01] => {
    "msg": [
        "daemonset.apps/kube-proxy patched (no change)"
    ]
}
Thursday 04 May 2023  20:03:54 +0300 (0:00:00.088)       0:20:22.221 ********** 

TASK [win_nodes/kubernetes_patch : debug] **************************************
ok: [control-prod-01] => {
    "msg": []
}

PLAY [kube_control_plane] ******************************************************
Thursday 04 May 2023  20:03:54 +0300 (0:00:00.163)       0:20:22.384 ********** 
Thursday 04 May 2023  20:03:54 +0300 (0:00:00.040)       0:20:22.425 ********** 
Thursday 04 May 2023  20:03:54 +0300 (0:00:00.040)       0:20:22.466 ********** 
Thursday 04 May 2023  20:03:54 +0300 (0:00:00.037)       0:20:22.503 ********** 
Thursday 04 May 2023  20:03:54 +0300 (0:00:00.035)       0:20:22.538 ********** 
Thursday 04 May 2023  20:03:54 +0300 (0:00:00.040)       0:20:22.579 ********** 
Thursday 04 May 2023  20:03:54 +0300 (0:00:00.038)       0:20:22.617 ********** 
Thursday 04 May 2023  20:03:54 +0300 (0:00:00.042)       0:20:22.659 ********** 
Thursday 04 May 2023  20:03:54 +0300 (0:00:00.040)       0:20:22.700 ********** 
Thursday 04 May 2023  20:03:54 +0300 (0:00:00.036)       0:20:22.736 ********** 
Thursday 04 May 2023  20:03:55 +0300 (0:00:00.765)       0:20:23.502 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [control-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Thursday 04 May 2023  20:03:55 +0300 (0:00:00.090)       0:20:23.592 ********** 
Thursday 04 May 2023  20:03:55 +0300 (0:00:00.068)       0:20:23.661 ********** 
Thursday 04 May 2023  20:03:55 +0300 (0:00:00.047)       0:20:23.708 ********** 
Thursday 04 May 2023  20:03:55 +0300 (0:00:00.045)       0:20:23.754 ********** 
Thursday 04 May 2023  20:03:55 +0300 (0:00:00.034)       0:20:23.788 ********** 
Thursday 04 May 2023  20:03:55 +0300 (0:00:00.035)       0:20:23.824 ********** 
Thursday 04 May 2023  20:03:55 +0300 (0:00:00.042)       0:20:23.866 ********** 
Thursday 04 May 2023  20:03:55 +0300 (0:00:00.032)       0:20:23.899 ********** 
Thursday 04 May 2023  20:03:55 +0300 (0:00:00.035)       0:20:23.934 ********** 
Thursday 04 May 2023  20:03:55 +0300 (0:00:00.034)       0:20:23.969 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.051)       0:20:24.020 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.056)       0:20:24.076 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.033)       0:20:24.110 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.039)       0:20:24.150 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.053)       0:20:24.203 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.037)       0:20:24.241 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.037)       0:20:24.278 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.061)       0:20:24.339 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.035)       0:20:24.375 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.065)       0:20:24.441 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.093)       0:20:24.534 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.044)       0:20:24.579 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.043)       0:20:24.623 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.058)       0:20:24.682 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.035)       0:20:24.717 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.059)       0:20:24.776 ********** 
Thursday 04 May 2023  20:03:56 +0300 (0:00:00.049)       0:20:24.826 ********** 
Thursday 04 May 2023  20:03:57 +0300 (0:00:00.227)       0:20:25.054 ********** 
Thursday 04 May 2023  20:03:57 +0300 (0:00:00.121)       0:20:25.175 ********** 
Thursday 04 May 2023  20:03:57 +0300 (0:00:00.041)       0:20:25.217 ********** 

TASK [policy_controller/calico : Create calico-kube-controllers manifests] *****
changed: [control-prod-01] => (item={'name': 'calico-kube-controllers', 'file': 'calico-kube-controllers.yml', 'type': 'deployment'})
changed: [control-prod-01] => (item={'name': 'calico-kube-controllers', 'file': 'calico-kube-sa.yml', 'type': 'sa'})
changed: [control-prod-01] => (item={'name': 'calico-kube-controllers', 'file': 'calico-kube-cr.yml', 'type': 'clusterrole'})
changed: [control-prod-01] => (item={'name': 'calico-kube-controllers', 'file': 'calico-kube-crb.yml', 'type': 'clusterrolebinding'})
Thursday 04 May 2023  20:04:06 +0300 (0:00:09.694)       0:20:34.912 ********** 

TASK [policy_controller/calico : Start of Calico kube controllers] *************
ok: [control-prod-01] => (item=calico-kube-controllers.yml)
ok: [control-prod-01] => (item=calico-kube-sa.yml)
ok: [control-prod-01] => (item=calico-kube-cr.yml)
ok: [control-prod-01] => (item=calico-kube-crb.yml)
Thursday 04 May 2023  20:04:15 +0300 (0:00:08.131)       0:20:43.043 ********** 

TASK [kubernetes-apps/ingress_controller/ingress_nginx : NGINX Ingress Controller | Create addon dir] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:04:16 +0300 (0:00:01.304)       0:20:44.347 ********** 

TASK [kubernetes-apps/ingress_controller/ingress_nginx : NGINX Ingress Controller | Templates list] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:04:16 +0300 (0:00:00.046)       0:20:44.394 ********** 
Thursday 04 May 2023  20:04:16 +0300 (0:00:00.034)       0:20:44.429 ********** 

TASK [kubernetes-apps/ingress_controller/ingress_nginx : NGINX Ingress Controller | Create manifests] ***
changed: [control-prod-01] => (item={'name': '00-namespace', 'file': '00-namespace.yml', 'type': 'ns'})
changed: [control-prod-01] => (item={'name': 'cm-ingress-nginx', 'file': 'cm-ingress-nginx.yml', 'type': 'cm'})
changed: [control-prod-01] => (item={'name': 'cm-tcp-services', 'file': 'cm-tcp-services.yml', 'type': 'cm'})
changed: [control-prod-01] => (item={'name': 'cm-udp-services', 'file': 'cm-udp-services.yml', 'type': 'cm'})
changed: [control-prod-01] => (item={'name': 'sa-ingress-nginx', 'file': 'sa-ingress-nginx.yml', 'type': 'sa'})
changed: [control-prod-01] => (item={'name': 'clusterrole-ingress-nginx', 'file': 'clusterrole-ingress-nginx.yml', 'type': 'clusterrole'})
changed: [control-prod-01] => (item={'name': 'clusterrolebinding-ingress-nginx', 'file': 'clusterrolebinding-ingress-nginx.yml', 'type': 'clusterrolebinding'})
changed: [control-prod-01] => (item={'name': 'role-ingress-nginx', 'file': 'role-ingress-nginx.yml', 'type': 'role'})
changed: [control-prod-01] => (item={'name': 'rolebinding-ingress-nginx', 'file': 'rolebinding-ingress-nginx.yml', 'type': 'rolebinding'})
changed: [control-prod-01] => (item={'name': 'ds-ingress-nginx-controller', 'file': 'ds-ingress-nginx-controller.yml', 'type': 'ds'})
Thursday 04 May 2023  20:04:40 +0300 (0:00:24.182)       0:21:08.611 ********** 

TASK [kubernetes-apps/ingress_controller/ingress_nginx : NGINX Ingress Controller | Apply manifests] ***
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/ingress_nginx/00-namespace.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219856.6758752-409286-227458884824199/source', 'md5sum': '90b291f08b5285243675dd014915f424', 'checksum': 'ec784415eedb3d4acdc596120302f03ba1597d6c', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 101, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219856.6758752-409286-227458884824199/source', 'dest': '/etc/kubernetes/addons/ingress_nginx/00-namespace.yml', 'mode': 420, 'follow': False, '_original_basename': '00-namespace.yml.j2', 'checksum': 'ec784415eedb3d4acdc596120302f03ba1597d6c', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': '00-namespace', 'file': '00-namespace.yml', 'type': 'ns'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/ingress_nginx/cm-ingress-nginx.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219858.9546325-409286-64860816863759/source', 'md5sum': 'e7d720080f3e5e7a3e75fcaa826250d5', 'checksum': '21abafe1642e803c0dc8f42d517ac042aacb8758', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 191, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219858.9546325-409286-64860816863759/source', 'dest': '/etc/kubernetes/addons/ingress_nginx/cm-ingress-nginx.yml', 'mode': 420, 'follow': False, '_original_basename': 'cm-ingress-nginx.yml.j2', 'checksum': '21abafe1642e803c0dc8f42d517ac042aacb8758', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'cm-ingress-nginx', 'file': 'cm-ingress-nginx.yml', 'type': 'cm'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/ingress_nginx/cm-tcp-services.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219861.3254726-409286-70866621736072/source', 'md5sum': 'e89dc1c71a18a81e8cfd1d8c34c6cb9c', 'checksum': '73fadd9dc75443c74ec6fb32c3af0d6ee5e74725', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 190, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219861.3254726-409286-70866621736072/source', 'dest': '/etc/kubernetes/addons/ingress_nginx/cm-tcp-services.yml', 'mode': 420, 'follow': False, '_original_basename': 'cm-tcp-services.yml.j2', 'checksum': '73fadd9dc75443c74ec6fb32c3af0d6ee5e74725', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'cm-tcp-services', 'file': 'cm-tcp-services.yml', 'type': 'cm'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/ingress_nginx/cm-udp-services.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219863.6390817-409286-26876025723504/source', 'md5sum': '141e0f3d41ca9f173c181700d5e508b0', 'checksum': 'd27cbf4031b2499e503d3543f8686db88e6a7b89', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 190, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219863.6390817-409286-26876025723504/source', 'dest': '/etc/kubernetes/addons/ingress_nginx/cm-udp-services.yml', 'mode': 420, 'follow': False, '_original_basename': 'cm-udp-services.yml.j2', 'checksum': 'd27cbf4031b2499e503d3543f8686db88e6a7b89', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'cm-udp-services', 'file': 'cm-udp-services.yml', 'type': 'cm'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/ingress_nginx/sa-ingress-nginx.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219866.0099418-409286-251046801258309/source', 'md5sum': 'b09c8d35e9800c7f8d13b3191c14f148', 'checksum': '7dc36b670e034bcc62169c0235b180dbab4a29cc', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 196, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219866.0099418-409286-251046801258309/source', 'dest': '/etc/kubernetes/addons/ingress_nginx/sa-ingress-nginx.yml', 'mode': 420, 'follow': False, '_original_basename': 'sa-ingress-nginx.yml.j2', 'checksum': '7dc36b670e034bcc62169c0235b180dbab4a29cc', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'sa-ingress-nginx', 'file': 'sa-ingress-nginx.yml', 'type': 'sa'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/ingress_nginx/clusterrole-ingress-nginx.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219868.4791524-409286-219289903926552/source', 'md5sum': '539ef3c07f9530f73fce8800382a0e0a', 'checksum': 'b5e4311e040cc74a691bad2f66a0baf52758d644', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 1061, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219868.4791524-409286-219289903926552/source', 'dest': '/etc/kubernetes/addons/ingress_nginx/clusterrole-ingress-nginx.yml', 'mode': 420, 'follow': False, '_original_basename': 'clusterrole-ingress-nginx.yml.j2', 'checksum': 'b5e4311e040cc74a691bad2f66a0baf52758d644', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'clusterrole-ingress-nginx', 'file': 'clusterrole-ingress-nginx.yml', 'type': 'clusterrole'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/ingress_nginx/clusterrolebinding-ingress-nginx.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219870.7768183-409286-154715963096085/source', 'md5sum': 'a9d598715fa4a61630c9df4278690840', 'checksum': 'b398b84183957c90a208c29444b00c4443aa282e', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 376, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219870.7768183-409286-154715963096085/source', 'dest': '/etc/kubernetes/addons/ingress_nginx/clusterrolebinding-ingress-nginx.yml', 'mode': 420, 'follow': False, '_original_basename': 'clusterrolebinding-ingress-nginx.yml.j2', 'checksum': 'b398b84183957c90a208c29444b00c4443aa282e', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'clusterrolebinding-ingress-nginx', 'file': 'clusterrolebinding-ingress-nginx.yml', 'type': 'clusterrolebinding'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/ingress_nginx/role-ingress-nginx.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219873.168909-409286-161236678294089/source', 'md5sum': 'f2fbaa31ede0a828e3816aa2fa483e46', 'checksum': '41a8a300d7476f1e24e15511b37a356458de9c47', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 2360, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219873.168909-409286-161236678294089/source', 'dest': '/etc/kubernetes/addons/ingress_nginx/role-ingress-nginx.yml', 'mode': 420, 'follow': False, '_original_basename': 'role-ingress-nginx.yml.j2', 'checksum': '41a8a300d7476f1e24e15511b37a356458de9c47', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'role-ingress-nginx', 'file': 'role-ingress-nginx.yml', 'type': 'role'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/ingress_nginx/rolebinding-ingress-nginx.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219875.6393027-409286-246448399750701/source', 'md5sum': 'a2179bc791155f445f93dd597fa8993c', 'checksum': '784d7187b8125dbe6750d2186613dd24343bdf8b', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 389, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219875.6393027-409286-246448399750701/source', 'dest': '/etc/kubernetes/addons/ingress_nginx/rolebinding-ingress-nginx.yml', 'mode': 420, 'follow': False, '_original_basename': 'rolebinding-ingress-nginx.yml.j2', 'checksum': '784d7187b8125dbe6750d2186613dd24343bdf8b', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'rolebinding-ingress-nginx', 'file': 'rolebinding-ingress-nginx.yml', 'type': 'rolebinding'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/ingress_nginx/ds-ingress-nginx-controller.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219877.9938157-409286-83663570657894/source', 'md5sum': 'efa796de99f958ba59be3c41dba45343', 'checksum': '5abf12df74fa603edebd3027ca8158d3991f544e', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 3059, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219877.9938157-409286-83663570657894/source', 'dest': '/etc/kubernetes/addons/ingress_nginx/ds-ingress-nginx-controller.yml', 'mode': 420, 'follow': False, '_original_basename': 'ds-ingress-nginx-controller.yml.j2', 'checksum': '5abf12df74fa603edebd3027ca8158d3991f544e', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'ds-ingress-nginx-controller', 'file': 'ds-ingress-nginx-controller.yml', 'type': 'ds'}, 'ansible_loop_var': 'item'})
Thursday 04 May 2023  20:04:57 +0300 (0:00:16.691)       0:21:25.303 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.039)       0:21:25.342 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.040)       0:21:25.383 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.043)       0:21:25.426 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.042)       0:21:25.469 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.034)       0:21:25.503 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.052)       0:21:25.556 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.033)       0:21:25.589 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.049)       0:21:25.639 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.074)       0:21:25.713 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.054)       0:21:25.767 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.035)       0:21:25.803 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.036)       0:21:25.839 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.034)       0:21:25.874 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.046)       0:21:25.920 ********** 
Thursday 04 May 2023  20:04:57 +0300 (0:00:00.033)       0:21:25.953 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.037)       0:21:25.991 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.032)       0:21:26.023 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.033)       0:21:26.056 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.033)       0:21:26.090 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.033)       0:21:26.123 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.034)       0:21:26.157 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.047)       0:21:26.205 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.035)       0:21:26.240 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.034)       0:21:26.275 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.034)       0:21:26.309 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.033)       0:21:26.343 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.033)       0:21:26.376 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.033)       0:21:26.410 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.046)       0:21:26.456 ********** 
Thursday 04 May 2023  20:04:58 +0300 (0:00:00.047)       0:21:26.504 ********** 

TASK [kubernetes-apps/external_provisioner/local_path_provisioner : Local Path Provisioner | Create addon dir] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:04:59 +0300 (0:00:01.367)       0:21:27.872 ********** 

TASK [kubernetes-apps/external_provisioner/local_path_provisioner : Local Path Provisioner | Create claim root dir] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:05:01 +0300 (0:00:01.339)       0:21:29.212 ********** 

TASK [kubernetes-apps/external_provisioner/local_path_provisioner : Local Path Provisioner | Render Template] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:05:01 +0300 (0:00:00.046)       0:21:29.258 ********** 
Thursday 04 May 2023  20:05:01 +0300 (0:00:00.035)       0:21:29.294 ********** 

TASK [kubernetes-apps/external_provisioner/local_path_provisioner : Local Path Provisioner | Create manifests] ***
changed: [control-prod-01] => (item={'name': 'local-path-storage-ns', 'file': 'local-path-storage-ns.yml', 'type': 'ns'})
changed: [control-prod-01] => (item={'name': 'local-path-storage-sa', 'file': 'local-path-storage-sa.yml', 'type': 'sa'})
changed: [control-prod-01] => (item={'name': 'local-path-storage-cr', 'file': 'local-path-storage-cr.yml', 'type': 'cr'})
changed: [control-prod-01] => (item={'name': 'local-path-storage-clusterrolebinding', 'file': 'local-path-storage-clusterrolebinding.yml', 'type': 'clusterrolebinding'})
changed: [control-prod-01] => (item={'name': 'local-path-storage-cm', 'file': 'local-path-storage-cm.yml', 'type': 'cm'})
changed: [control-prod-01] => (item={'name': 'local-path-storage-deployment', 'file': 'local-path-storage-deployment.yml', 'type': 'deployment'})
changed: [control-prod-01] => (item={'name': 'local-path-storage-sc', 'file': 'local-path-storage-sc.yml', 'type': 'sc'})
Thursday 04 May 2023  20:05:19 +0300 (0:00:17.826)       0:21:47.120 ********** 

TASK [kubernetes-apps/external_provisioner/local_path_provisioner : Local Path Provisioner | Apply manifests] ***
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-ns.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219901.485395-410934-220097334185459/source', 'md5sum': 'ae2cd547a9ac4b01f3be45671ee9e876', 'checksum': 'e48a3bbdbc8f618eac7a8da4ac344b70ae8a0879', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 72, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219901.485395-410934-220097334185459/source', 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-ns.yml', 'mode': 420, 'follow': False, '_original_basename': 'local-path-storage-ns.yml.j2', 'checksum': 'e48a3bbdbc8f618eac7a8da4ac344b70ae8a0879', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'local-path-storage-ns', 'file': 'local-path-storage-ns.yml', 'type': 'ns'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-sa.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219904.013022-410934-244700922988397/source', 'md5sum': '9026c7b25157e2486501bd92c2462ca4', 'checksum': '62c16dc0edf0cb7706c2404516e28c4e48626f35', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 129, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219904.013022-410934-244700922988397/source', 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-sa.yml', 'mode': 420, 'follow': False, '_original_basename': 'local-path-storage-sa.yml.j2', 'checksum': '62c16dc0edf0cb7706c2404516e28c4e48626f35', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'local-path-storage-sa', 'file': 'local-path-storage-sa.yml', 'type': 'sa'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-cr.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219906.5697265-410934-133112595977766/source', 'md5sum': '5dd02c6be63af99d5409d82129af7f9b', 'checksum': '541c7318bf23314f073e1d2d2e43a27c48ad5a6e', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 513, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219906.5697265-410934-133112595977766/source', 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-cr.yml', 'mode': 420, 'follow': False, '_original_basename': 'local-path-storage-cr.yml.j2', 'checksum': '541c7318bf23314f073e1d2d2e43a27c48ad5a6e', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'local-path-storage-cr', 'file': 'local-path-storage-cr.yml', 'type': 'cr'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-clusterrolebinding.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219909.1193016-410934-244506932733498/source', 'md5sum': '5627ede9c9ac8ad27b9fa59a5a7d85f7', 'checksum': 'efeef0935202aa1006ff8cf25692ae069ddcaef4', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 337, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219909.1193016-410934-244506932733498/source', 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-clusterrolebinding.yml', 'mode': 420, 'follow': False, '_original_basename': 'local-path-storage-clusterrolebinding.yml.j2', 'checksum': 'efeef0935202aa1006ff8cf25692ae069ddcaef4', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'local-path-storage-clusterrolebinding', 'file': 'local-path-storage-clusterrolebinding.yml', 'type': 'clusterrolebinding'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-cm.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219911.6896737-410934-145857179180543/source', 'md5sum': '4f9d0fb05eec1dc2d1a46c73042c1522', 'checksum': 'bc754eeb69c619f5add38ee9932650dbd5f0505e', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 1340, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219911.6896737-410934-145857179180543/source', 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-cm.yml', 'mode': 420, 'follow': False, '_original_basename': 'local-path-storage-cm.yml.j2', 'checksum': 'bc754eeb69c619f5add38ee9932650dbd5f0505e', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'local-path-storage-cm', 'file': 'local-path-storage-cm.yml', 'type': 'cm'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-deployment.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219914.257885-410934-43052744021228/source', 'md5sum': 'ddf5e6016bb4ed15c1055bbfa1c36ec7', 'checksum': '248a63367c2bbbc5e92187905722dbf86a777b54', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 942, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219914.257885-410934-43052744021228/source', 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-deployment.yml', 'mode': 420, 'follow': False, '_original_basename': 'local-path-storage-deployment.yml.j2', 'checksum': '248a63367c2bbbc5e92187905722dbf86a777b54', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'local-path-storage-deployment', 'file': 'local-path-storage-deployment.yml', 'type': 'deployment'}, 'ansible_loop_var': 'item'})
ok: [control-prod-01] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-sc.yml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219916.8142781-410934-220241999241419/source', 'md5sum': 'b9f6171c525a51fc40443a4c386a0bd7', 'checksum': 'ba74f7e073ef2a7b5431257eb1edd3c06fec7625', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 250, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1683219916.8142781-410934-220241999241419/source', 'dest': '/etc/kubernetes/addons/local_path_provisioner/local-path-storage-sc.yml', 'mode': 420, 'follow': False, '_original_basename': 'local-path-storage-sc.yml.j2', 'checksum': 'ba74f7e073ef2a7b5431257eb1edd3c06fec7625', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'local-path-storage-sc', 'file': 'local-path-storage-sc.yml', 'type': 'sc'}, 'ansible_loop_var': 'item'})
Thursday 04 May 2023  20:05:31 +0300 (0:00:12.130)       0:21:59.250 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Wait for kube-apiserver] *****
ok: [control-prod-01]
Thursday 04 May 2023  20:05:32 +0300 (0:00:01.705)       0:22:00.956 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Register coredns deployment annotation `createdby`] ***
fatal: [control-prod-01]: FAILED! => {"changed": false, "cmd": ["/usr/local/bin/kubectl", "--kubeconfig", "/etc/kubernetes/admin.conf", "get", "deploy", "-n", "kube-system", "coredns", "-o", "jsonpath={ .spec.template.metadata.annotations.createdby }"], "delta": "0:00:00.113729", "end": "2023-05-04 17:05:34.253652", "msg": "non-zero return code", "rc": 1, "start": "2023-05-04 17:05:34.139923", "stderr": "Error from server (NotFound): deployments.apps \"coredns\" not found", "stderr_lines": ["Error from server (NotFound): deployments.apps \"coredns\" not found"], "stdout": "", "stdout_lines": []}
...ignoring
Thursday 04 May 2023  20:05:34 +0300 (0:00:01.536)       0:22:02.493 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Register coredns service annotation `createdby`] ***
fatal: [control-prod-01]: FAILED! => {"changed": false, "cmd": ["/usr/local/bin/kubectl", "--kubeconfig", "/etc/kubernetes/admin.conf", "get", "svc", "-n", "kube-system", "coredns", "-o", "jsonpath={ .metadata.annotations.createdby }"], "delta": "0:00:00.175221", "end": "2023-05-04 17:05:35.675121", "msg": "non-zero return code", "rc": 1, "start": "2023-05-04 17:05:35.499900", "stderr": "Error from server (NotFound): services \"coredns\" not found", "stderr_lines": ["Error from server (NotFound): services \"coredns\" not found"], "stdout": "", "stdout_lines": []}
...ignoring
Thursday 04 May 2023  20:05:35 +0300 (0:00:01.422)       0:22:03.916 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Delete kubeadm CoreDNS] ******
ok: [control-prod-01]
Thursday 04 May 2023  20:05:37 +0300 (0:00:01.439)       0:22:05.355 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Delete kubeadm Kube-DNS service] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:05:38 +0300 (0:00:01.324)       0:22:06.680 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Lay Down CoreDNS templates] ***
changed: [control-prod-01] => (item={'name': 'coredns', 'file': 'coredns-clusterrole.yml', 'type': 'clusterrole'})
changed: [control-prod-01] => (item={'name': 'coredns', 'file': 'coredns-clusterrolebinding.yml', 'type': 'clusterrolebinding'})
changed: [control-prod-01] => (item={'name': 'coredns', 'file': 'coredns-config.yml', 'type': 'configmap'})
changed: [control-prod-01] => (item={'name': 'coredns', 'file': 'coredns-deployment.yml', 'type': 'deployment'})
changed: [control-prod-01] => (item={'name': 'coredns', 'file': 'coredns-sa.yml', 'type': 'sa'})
changed: [control-prod-01] => (item={'name': 'coredns', 'file': 'coredns-svc.yml', 'type': 'svc'})
changed: [control-prod-01] => (item={'name': 'dns-autoscaler', 'file': 'dns-autoscaler.yml', 'type': 'deployment'})
changed: [control-prod-01] => (item={'name': 'dns-autoscaler', 'file': 'dns-autoscaler-clusterrole.yml', 'type': 'clusterrole'})
changed: [control-prod-01] => (item={'name': 'dns-autoscaler', 'file': 'dns-autoscaler-clusterrolebinding.yml', 'type': 'clusterrolebinding'})
changed: [control-prod-01] => (item={'name': 'dns-autoscaler', 'file': 'dns-autoscaler-sa.yml', 'type': 'sa'})
Thursday 04 May 2023  20:06:02 +0300 (0:00:23.869)       0:22:30.549 ********** 
Thursday 04 May 2023  20:06:02 +0300 (0:00:00.070)       0:22:30.620 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | set up necessary nodelocaldns parameters] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:06:02 +0300 (0:00:00.106)       0:22:30.726 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Lay Down nodelocaldns Template] ***
changed: [control-prod-01] => (item={'name': 'nodelocaldns', 'file': 'nodelocaldns-config.yml', 'type': 'configmap'})
changed: [control-prod-01] => (item={'name': 'nodelocaldns', 'file': 'nodelocaldns-sa.yml', 'type': 'sa'})
changed: [control-prod-01] => (item={'name': 'nodelocaldns', 'file': 'nodelocaldns-daemonset.yml', 'type': 'daemonset'})
Thursday 04 May 2023  20:06:10 +0300 (0:00:07.706)       0:22:38.432 ********** 
Thursday 04 May 2023  20:06:10 +0300 (0:00:00.051)       0:22:38.484 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Start Resources] *************
ok: [control-prod-01] => (item=coredns-clusterrole.yml)
ok: [control-prod-01] => (item=coredns-clusterrolebinding.yml)
ok: [control-prod-01] => (item=coredns-config.yml)
ok: [control-prod-01] => (item=coredns-deployment.yml)
ok: [control-prod-01] => (item=coredns-sa.yml)
ok: [control-prod-01] => (item=coredns-svc.yml)
ok: [control-prod-01] => (item=dns-autoscaler.yml)
ok: [control-prod-01] => (item=dns-autoscaler-clusterrole.yml)
ok: [control-prod-01] => (item=dns-autoscaler-clusterrolebinding.yml)
ok: [control-prod-01] => (item=dns-autoscaler-sa.yml)
ok: [control-prod-01] => (item=nodelocaldns-config.yml)
ok: [control-prod-01] => (item=nodelocaldns-sa.yml)
ok: [control-prod-01] => (item=nodelocaldns-daemonset.yml)
Thursday 04 May 2023  20:06:33 +0300 (0:00:22.632)       0:23:01.116 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.049)       0:23:01.166 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.050)       0:23:01.216 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.035)       0:23:01.252 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.038)       0:23:01.291 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.060)       0:23:01.352 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.043)       0:23:01.395 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.052)       0:23:01.448 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.086)       0:23:01.535 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.080)       0:23:01.615 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.069)       0:23:01.685 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.043)       0:23:01.729 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.041)       0:23:01.770 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.032)       0:23:01.803 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.048)       0:23:01.851 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.036)       0:23:01.888 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.035)       0:23:01.924 ********** 
Thursday 04 May 2023  20:06:33 +0300 (0:00:00.033)       0:23:01.958 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.037)       0:23:01.996 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.032)       0:23:02.028 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.045)       0:23:02.073 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.079)       0:23:02.152 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.055)       0:23:02.208 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.038)       0:23:02.247 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.038)       0:23:02.285 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.040)       0:23:02.326 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.046)       0:23:02.372 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.032)       0:23:02.405 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.032)       0:23:02.438 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.033)       0:23:02.471 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.037)       0:23:02.509 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.034)       0:23:02.543 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.035)       0:23:02.579 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.035)       0:23:02.615 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.149)       0:23:02.765 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.038)       0:23:02.803 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.039)       0:23:02.843 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.036)       0:23:02.879 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.044)       0:23:02.924 ********** 
Thursday 04 May 2023  20:06:34 +0300 (0:00:00.032)       0:23:02.957 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.039)       0:23:02.996 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.032)       0:23:03.028 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.032)       0:23:03.061 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.036)       0:23:03.098 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.046)       0:23:03.144 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.046)       0:23:03.191 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.057)       0:23:03.248 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.035)       0:23:03.283 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.047)       0:23:03.331 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.033)       0:23:03.364 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.035)       0:23:03.400 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.057)       0:23:03.457 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.075)       0:23:03.532 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.050)       0:23:03.583 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.063)       0:23:03.646 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.034)       0:23:03.681 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.034)       0:23:03.715 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.031)       0:23:03.747 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.057)       0:23:03.805 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.067)       0:23:03.872 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.034)       0:23:03.906 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.033)       0:23:03.939 ********** 
Thursday 04 May 2023  20:06:35 +0300 (0:00:00.035)       0:23:03.975 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.045)       0:23:04.021 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.059)       0:23:04.081 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.034)       0:23:04.115 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.032)       0:23:04.148 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.051)       0:23:04.200 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.061)       0:23:04.261 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.037)       0:23:04.299 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.037)       0:23:04.337 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.066)       0:23:04.403 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.036)       0:23:04.440 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.037)       0:23:04.478 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.067)       0:23:04.545 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.034)       0:23:04.580 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.045)       0:23:04.625 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.042)       0:23:04.668 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.043)       0:23:04.711 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.045)       0:23:04.757 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.047)       0:23:04.805 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.033)       0:23:04.838 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.044)       0:23:04.883 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.033)       0:23:04.917 ********** 
Thursday 04 May 2023  20:06:36 +0300 (0:00:00.047)       0:23:04.964 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.034)       0:23:04.999 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.050)       0:23:05.049 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.040)       0:23:05.090 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.052)       0:23:05.142 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.060)       0:23:05.203 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.035)       0:23:05.239 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.057)       0:23:05.296 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.043)       0:23:05.339 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.036)       0:23:05.376 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.037)       0:23:05.413 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.056)       0:23:05.470 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.038)       0:23:05.508 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.038)       0:23:05.547 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.042)       0:23:05.589 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.051)       0:23:05.641 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.035)       0:23:05.676 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.043)       0:23:05.719 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.034)       0:23:05.754 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.057)       0:23:05.811 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.049)       0:23:05.861 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.036)       0:23:05.898 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.033)       0:23:05.931 ********** 
Thursday 04 May 2023  20:06:37 +0300 (0:00:00.033)       0:23:05.965 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.040)       0:23:06.006 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.062)       0:23:06.069 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.033)       0:23:06.102 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.037)       0:23:06.140 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.033)       0:23:06.174 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.035)       0:23:06.209 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.035)       0:23:06.245 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.038)       0:23:06.283 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.036)       0:23:06.320 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.038)       0:23:06.358 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.033)       0:23:06.392 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.036)       0:23:06.429 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.035)       0:23:06.464 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.035)       0:23:06.499 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.034)       0:23:06.533 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.038)       0:23:06.572 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.047)       0:23:06.619 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.041)       0:23:06.660 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.034)       0:23:06.695 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.036)       0:23:06.732 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.036)       0:23:06.768 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.044)       0:23:06.813 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.036)       0:23:06.850 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.053)       0:23:06.903 ********** 
Thursday 04 May 2023  20:06:38 +0300 (0:00:00.061)       0:23:06.965 ********** 
Thursday 04 May 2023  20:06:39 +0300 (0:00:00.053)       0:23:07.018 ********** 
Thursday 04 May 2023  20:06:39 +0300 (0:00:00.055)       0:23:07.074 ********** 
Thursday 04 May 2023  20:06:39 +0300 (0:00:00.058)       0:23:07.133 ********** 
Thursday 04 May 2023  20:06:39 +0300 (0:00:00.058)       0:23:07.192 ********** 
Thursday 04 May 2023  20:06:39 +0300 (0:00:00.058)       0:23:07.250 ********** 
Thursday 04 May 2023  20:06:39 +0300 (0:00:00.048)       0:23:07.298 ********** 

PLAY [Apply resolv.conf changes now that cluster DNS is up] ********************
Thursday 04 May 2023  20:06:39 +0300 (0:00:00.200)       0:23:07.498 ********** 
Thursday 04 May 2023  20:06:39 +0300 (0:00:00.142)       0:23:07.641 ********** 
Thursday 04 May 2023  20:06:39 +0300 (0:00:00.049)       0:23:07.690 ********** 
Thursday 04 May 2023  20:06:39 +0300 (0:00:00.037)       0:23:07.728 ********** 
Thursday 04 May 2023  20:06:39 +0300 (0:00:00.133)       0:23:07.862 ********** 
Thursday 04 May 2023  20:06:40 +0300 (0:00:00.130)       0:23:07.992 ********** 
Thursday 04 May 2023  20:06:40 +0300 (0:00:00.127)       0:23:08.120 ********** 
Thursday 04 May 2023  20:06:40 +0300 (0:00:00.147)       0:23:08.267 ********** 
Thursday 04 May 2023  20:06:40 +0300 (0:00:00.052)       0:23:08.320 ********** 
Thursday 04 May 2023  20:06:40 +0300 (0:00:00.129)       0:23:08.450 ********** 
Thursday 04 May 2023  20:06:42 +0300 (0:00:01.849)       0:23:10.299 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [control-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [ingress-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [worker-prod-02] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [worker-prod-01] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Thursday 04 May 2023  20:06:42 +0300 (0:00:00.156)       0:23:10.456 ********** 
Thursday 04 May 2023  20:06:42 +0300 (0:00:00.065)       0:23:10.521 ********** 
Thursday 04 May 2023  20:06:42 +0300 (0:00:00.035)       0:23:10.557 ********** 
Thursday 04 May 2023  20:06:42 +0300 (0:00:00.103)       0:23:10.660 ********** 
Thursday 04 May 2023  20:06:42 +0300 (0:00:00.041)       0:23:10.702 ********** 
Thursday 04 May 2023  20:06:42 +0300 (0:00:00.107)       0:23:10.809 ********** 
Thursday 04 May 2023  20:06:42 +0300 (0:00:00.133)       0:23:10.943 ********** 

TASK [adduser : User | Create User Group] **************************************
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  20:06:46 +0300 (0:00:03.213)       0:23:14.156 ********** 

TASK [adduser : User | Create User] ********************************************
ok: [worker-prod-02]
ok: [control-prod-01]
ok: [worker-prod-01]
ok: [ingress-prod-01]
Thursday 04 May 2023  20:06:47 +0300 (0:00:01.462)       0:23:15.619 ********** 
Thursday 04 May 2023  20:06:47 +0300 (0:00:00.137)       0:23:15.756 ********** 
Thursday 04 May 2023  20:06:47 +0300 (0:00:00.111)       0:23:15.868 ********** 
Thursday 04 May 2023  20:06:47 +0300 (0:00:00.103)       0:23:15.971 ********** 
Thursday 04 May 2023  20:06:48 +0300 (0:00:00.101)       0:23:16.073 ********** 
Thursday 04 May 2023  20:06:48 +0300 (0:00:00.044)       0:23:16.118 ********** 
Thursday 04 May 2023  20:06:48 +0300 (0:00:00.033)       0:23:16.152 ********** 
Thursday 04 May 2023  20:06:48 +0300 (0:00:00.112)       0:23:16.264 ********** 
Thursday 04 May 2023  20:06:48 +0300 (0:00:00.103)       0:23:16.368 ********** 
Thursday 04 May 2023  20:06:48 +0300 (0:00:00.106)       0:23:16.474 ********** 
Thursday 04 May 2023  20:06:48 +0300 (0:00:00.114)       0:23:16.589 ********** 
Thursday 04 May 2023  20:06:48 +0300 (0:00:00.062)       0:23:16.652 ********** 
Thursday 04 May 2023  20:06:48 +0300 (0:00:00.105)       0:23:16.758 ********** 
Thursday 04 May 2023  20:06:48 +0300 (0:00:00.101)       0:23:16.859 ********** 
Thursday 04 May 2023  20:06:48 +0300 (0:00:00.115)       0:23:16.975 ********** 
Thursday 04 May 2023  20:06:49 +0300 (0:00:00.096)       0:23:17.071 ********** 
Thursday 04 May 2023  20:06:49 +0300 (0:00:00.106)       0:23:17.177 ********** 
Thursday 04 May 2023  20:06:49 +0300 (0:00:00.108)       0:23:17.286 ********** 
Thursday 04 May 2023  20:06:49 +0300 (0:00:00.104)       0:23:17.390 ********** 
Thursday 04 May 2023  20:06:49 +0300 (0:00:00.110)       0:23:17.501 ********** 
Thursday 04 May 2023  20:06:49 +0300 (0:00:00.123)       0:23:17.624 ********** 
Thursday 04 May 2023  20:06:49 +0300 (0:00:00.137)       0:23:17.761 ********** 
Thursday 04 May 2023  20:06:49 +0300 (0:00:00.134)       0:23:17.896 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.105)       0:23:18.001 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.035)       0:23:18.037 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.035)       0:23:18.072 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.043)       0:23:18.116 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.065)       0:23:18.182 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.048)       0:23:18.230 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.034)       0:23:18.265 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.034)       0:23:18.300 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.035)       0:23:18.336 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.104)       0:23:18.440 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.035)       0:23:18.476 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.105)       0:23:18.581 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.033)       0:23:18.615 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.035)       0:23:18.651 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.104)       0:23:18.755 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.109)       0:23:18.864 ********** 
Thursday 04 May 2023  20:06:50 +0300 (0:00:00.105)       0:23:18.970 ********** 
Thursday 04 May 2023  20:06:51 +0300 (0:00:00.103)       0:23:19.074 ********** 
Thursday 04 May 2023  20:06:51 +0300 (0:00:00.041)       0:23:19.115 ********** 
Thursday 04 May 2023  20:06:51 +0300 (0:00:00.096)       0:23:19.211 ********** 
Thursday 04 May 2023  20:06:51 +0300 (0:00:00.098)       0:23:19.309 ********** 
Thursday 04 May 2023  20:06:51 +0300 (0:00:00.109)       0:23:19.418 ********** 
Thursday 04 May 2023  20:06:51 +0300 (0:00:00.099)       0:23:19.518 ********** 
Thursday 04 May 2023  20:06:51 +0300 (0:00:00.119)       0:23:19.637 ********** 

TASK [kubernetes/preinstall : check if booted with ostree] *********************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:06:53 +0300 (0:00:01.465)       0:23:21.102 ********** 

TASK [kubernetes/preinstall : set is_fedora_coreos] ****************************
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [ingress-prod-01]
ok: [worker-prod-01]
Thursday 04 May 2023  20:06:54 +0300 (0:00:01.519)       0:23:22.622 ********** 

TASK [kubernetes/preinstall : set is_fedora_coreos] ****************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:06:54 +0300 (0:00:00.158)       0:23:22.781 ********** 

TASK [kubernetes/preinstall : check resolvconf] ********************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:06:56 +0300 (0:00:01.383)       0:23:24.165 ********** 

TASK [kubernetes/preinstall : check existence of /etc/resolvconf/resolv.conf.d] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:06:57 +0300 (0:00:01.313)       0:23:25.478 ********** 

TASK [kubernetes/preinstall : check status of /etc/resolv.conf] ****************
ok: [ingress-prod-01]
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:06:58 +0300 (0:00:01.363)       0:23:26.842 ********** 

TASK [kubernetes/preinstall : get content of /etc/resolv.conf] *****************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:00 +0300 (0:00:01.366)       0:23:28.208 ********** 

TASK [kubernetes/preinstall : get currently configured nameservers] ************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:00 +0300 (0:00:00.289)       0:23:28.498 ********** 

TASK [kubernetes/preinstall : Stop if /etc/resolv.conf not configured nameservers] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [ingress-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-02] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [worker-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  20:07:00 +0300 (0:00:00.173)       0:23:28.673 ********** 

TASK [kubernetes/preinstall : NetworkManager | Check if host has NetworkManager] ***
ok: [ingress-prod-01]
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:02 +0300 (0:00:01.551)       0:23:30.224 ********** 

TASK [kubernetes/preinstall : check systemd-resolved] **************************
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
ok: [ingress-prod-01]
Thursday 04 May 2023  20:07:03 +0300 (0:00:01.301)       0:23:31.526 ********** 

TASK [kubernetes/preinstall : set default dns if remove_default_searchdomains is false] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:03 +0300 (0:00:00.174)       0:23:31.701 ********** 

TASK [kubernetes/preinstall : set dns facts] ***********************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:04 +0300 (0:00:00.316)       0:23:32.018 ********** 

TASK [kubernetes/preinstall : check if kubelet is configured] ******************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:05 +0300 (0:00:01.463)       0:23:33.482 ********** 

TASK [kubernetes/preinstall : check if early DNS configuration stage] **********
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:05 +0300 (0:00:00.138)       0:23:33.620 ********** 

TASK [kubernetes/preinstall : target resolv.conf files] ************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:05 +0300 (0:00:00.133)       0:23:33.754 ********** 
Thursday 04 May 2023  20:07:05 +0300 (0:00:00.134)       0:23:33.889 ********** 

TASK [kubernetes/preinstall : check if /etc/dhclient.conf exists] **************
ok: [ingress-prod-01]
ok: [control-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  20:07:07 +0300 (0:00:01.309)       0:23:35.198 ********** 
Thursday 04 May 2023  20:07:07 +0300 (0:00:00.117)       0:23:35.316 ********** 

TASK [kubernetes/preinstall : check if /etc/dhcp/dhclient.conf exists] *********
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-01]
ok: [worker-prod-02]
Thursday 04 May 2023  20:07:08 +0300 (0:00:01.400)       0:23:36.716 ********** 

TASK [kubernetes/preinstall : target dhclient conf file for /etc/dhcp/dhclient.conf] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:08 +0300 (0:00:00.132)       0:23:36.848 ********** 
Thursday 04 May 2023  20:07:08 +0300 (0:00:00.112)       0:23:36.960 ********** 

TASK [kubernetes/preinstall : target dhclient hook file for Debian family] *****
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:09 +0300 (0:00:00.130)       0:23:37.091 ********** 

TASK [kubernetes/preinstall : generate search domains to resolvconf] ***********
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:09 +0300 (0:00:00.143)       0:23:37.235 ********** 

TASK [kubernetes/preinstall : pick coredns cluster IP or default resolver] *****
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:09 +0300 (0:00:00.248)       0:23:37.484 ********** 

TASK [kubernetes/preinstall : generate nameservers for resolvconf, including cluster DNS] ***
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:09 +0300 (0:00:00.146)       0:23:37.630 ********** 
Thursday 04 May 2023  20:07:09 +0300 (0:00:00.104)       0:23:37.735 ********** 

TASK [kubernetes/preinstall : gather os specific variables] ********************
ok: [control-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml)
ok: [ingress-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml)
ok: [worker-prod-02] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml)
ok: [worker-prod-01] => (item=/home/rpot/projects/devops-netology/degree-project/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml)
Thursday 04 May 2023  20:07:09 +0300 (0:00:00.171)       0:23:37.906 ********** 
Thursday 04 May 2023  20:07:10 +0300 (0:00:00.107)       0:23:38.014 ********** 

TASK [kubernetes/preinstall : check /usr readonly] *****************************
ok: [control-prod-01]
ok: [ingress-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:11 +0300 (0:00:01.368)       0:23:39.382 ********** 
Thursday 04 May 2023  20:07:11 +0300 (0:00:00.123)       0:23:39.506 ********** 
Thursday 04 May 2023  20:07:11 +0300 (0:00:00.101)       0:23:39.608 ********** 
Thursday 04 May 2023  20:07:11 +0300 (0:00:00.151)       0:23:39.760 ********** 
Thursday 04 May 2023  20:07:11 +0300 (0:00:00.183)       0:23:39.943 ********** 
Thursday 04 May 2023  20:07:12 +0300 (0:00:00.137)       0:23:40.081 ********** 
Thursday 04 May 2023  20:07:12 +0300 (0:00:00.108)       0:23:40.189 ********** 
Thursday 04 May 2023  20:07:12 +0300 (0:00:00.106)       0:23:40.295 ********** 
Thursday 04 May 2023  20:07:12 +0300 (0:00:00.136)       0:23:40.432 ********** 
Thursday 04 May 2023  20:07:12 +0300 (0:00:00.126)       0:23:40.559 ********** 
Thursday 04 May 2023  20:07:12 +0300 (0:00:00.110)       0:23:40.669 ********** 
Thursday 04 May 2023  20:07:12 +0300 (0:00:00.112)       0:23:40.781 ********** 
Thursday 04 May 2023  20:07:12 +0300 (0:00:00.164)       0:23:40.946 ********** 
Thursday 04 May 2023  20:07:13 +0300 (0:00:00.183)       0:23:41.130 ********** 
Thursday 04 May 2023  20:07:13 +0300 (0:00:00.114)       0:23:41.245 ********** 
Thursday 04 May 2023  20:07:13 +0300 (0:00:00.114)       0:23:41.359 ********** 

TASK [kubernetes/preinstall : Write resolved.conf] *****************************
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  20:07:16 +0300 (0:00:02.852)       0:23:44.211 ********** 
Thursday 04 May 2023  20:07:16 +0300 (0:00:00.102)       0:23:44.314 ********** 
Thursday 04 May 2023  20:07:16 +0300 (0:00:00.097)       0:23:44.412 ********** 
Thursday 04 May 2023  20:07:16 +0300 (0:00:00.129)       0:23:44.541 ********** 
Thursday 04 May 2023  20:07:16 +0300 (0:00:00.144)       0:23:44.686 ********** 
Thursday 04 May 2023  20:07:16 +0300 (0:00:00.142)       0:23:44.828 ********** 
Thursday 04 May 2023  20:07:16 +0300 (0:00:00.144)       0:23:44.972 ********** 
Thursday 04 May 2023  20:07:17 +0300 (0:00:00.112)       0:23:45.084 ********** 
Thursday 04 May 2023  20:07:17 +0300 (0:00:00.114)       0:23:45.199 ********** 
Thursday 04 May 2023  20:07:17 +0300 (0:00:00.115)       0:23:45.315 ********** 
Thursday 04 May 2023  20:07:17 +0300 (0:00:00.102)       0:23:45.417 ********** 
Thursday 04 May 2023  20:07:17 +0300 (0:00:00.106)       0:23:45.524 ********** 
Thursday 04 May 2023  20:07:17 +0300 (0:00:00.113)       0:23:45.638 ********** 
Thursday 04 May 2023  20:07:17 +0300 (0:00:00.112)       0:23:45.751 ********** 
Thursday 04 May 2023  20:07:17 +0300 (0:00:00.117)       0:23:45.869 ********** 
Thursday 04 May 2023  20:07:18 +0300 (0:00:00.119)       0:23:45.988 ********** 
Thursday 04 May 2023  20:07:18 +0300 (0:00:00.103)       0:23:46.092 ********** 
Thursday 04 May 2023  20:07:18 +0300 (0:00:00.104)       0:23:46.196 ********** 
Thursday 04 May 2023  20:07:18 +0300 (0:00:00.112)       0:23:46.308 ********** 
Thursday 04 May 2023  20:07:18 +0300 (0:00:00.101)       0:23:46.409 ********** 
Thursday 04 May 2023  20:07:18 +0300 (0:00:00.097)       0:23:46.507 ********** 
Thursday 04 May 2023  20:07:18 +0300 (0:00:00.264)       0:23:46.772 ********** 
Thursday 04 May 2023  20:07:18 +0300 (0:00:00.104)       0:23:46.876 ********** 
Thursday 04 May 2023  20:07:19 +0300 (0:00:00.099)       0:23:46.975 ********** 
Thursday 04 May 2023  20:07:19 +0300 (0:00:00.118)       0:23:47.094 ********** 
Thursday 04 May 2023  20:07:19 +0300 (0:00:00.106)       0:23:47.201 ********** 
Thursday 04 May 2023  20:07:19 +0300 (0:00:00.117)       0:23:47.319 ********** 
Thursday 04 May 2023  20:07:19 +0300 (0:00:00.105)       0:23:47.424 ********** 
Thursday 04 May 2023  20:07:19 +0300 (0:00:00.105)       0:23:47.530 ********** 
Thursday 04 May 2023  20:07:19 +0300 (0:00:00.167)       0:23:47.698 ********** 
Thursday 04 May 2023  20:07:19 +0300 (0:00:00.101)       0:23:47.799 ********** 
Thursday 04 May 2023  20:07:19 +0300 (0:00:00.092)       0:23:47.892 ********** 
Thursday 04 May 2023  20:07:20 +0300 (0:00:00.112)       0:23:48.004 ********** 
Thursday 04 May 2023  20:07:20 +0300 (0:00:00.108)       0:23:48.113 ********** 
Thursday 04 May 2023  20:07:20 +0300 (0:00:00.111)       0:23:48.224 ********** 
Thursday 04 May 2023  20:07:20 +0300 (0:00:00.105)       0:23:48.329 ********** 
Thursday 04 May 2023  20:07:20 +0300 (0:00:00.102)       0:23:48.431 ********** 
Thursday 04 May 2023  20:07:20 +0300 (0:00:00.107)       0:23:48.539 ********** 
Thursday 04 May 2023  20:07:20 +0300 (0:00:00.103)       0:23:48.643 ********** 
Thursday 04 May 2023  20:07:20 +0300 (0:00:00.106)       0:23:48.750 ********** 
Thursday 04 May 2023  20:07:20 +0300 (0:00:00.107)       0:23:48.857 ********** 
Thursday 04 May 2023  20:07:20 +0300 (0:00:00.037)       0:23:48.894 ********** 
Thursday 04 May 2023  20:07:21 +0300 (0:00:00.107)       0:23:49.002 ********** 
Thursday 04 May 2023  20:07:21 +0300 (0:00:00.106)       0:23:49.108 ********** 
Thursday 04 May 2023  20:07:21 +0300 (0:00:00.102)       0:23:49.211 ********** 
Thursday 04 May 2023  20:07:21 +0300 (0:00:00.115)       0:23:49.327 ********** 
Thursday 04 May 2023  20:07:21 +0300 (0:00:00.128)       0:23:49.456 ********** 
Thursday 04 May 2023  20:07:21 +0300 (0:00:00.131)       0:23:49.587 ********** 
Thursday 04 May 2023  20:07:21 +0300 (0:00:00.163)       0:23:49.751 ********** 

TASK [kubernetes/preinstall : Configure dhclient to supersede search/domain/nameservers] ***
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [control-prod-01]
changed: [worker-prod-01]
Thursday 04 May 2023  20:07:23 +0300 (0:00:01.442)       0:23:51.194 ********** 

TASK [kubernetes/preinstall : Configure dhclient hooks for resolv.conf (non-RH)] ***
ok: [ingress-prod-01]
ok: [control-prod-01]
ok: [worker-prod-02]
ok: [worker-prod-01]
Thursday 04 May 2023  20:07:25 +0300 (0:00:02.403)       0:23:53.597 ********** 
Thursday 04 May 2023  20:07:25 +0300 (0:00:00.122)       0:23:53.720 ********** 
Thursday 04 May 2023  20:07:25 +0300 (0:00:00.110)       0:23:53.831 ********** 
Thursday 04 May 2023  20:07:25 +0300 (0:00:00.115)       0:23:53.946 ********** 
Thursday 04 May 2023  20:07:25 +0300 (0:00:00.000)       0:23:53.947 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | propagate resolvconf to k8s components] ***
changed: [ingress-prod-01]
changed: [control-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  20:07:27 +0300 (0:00:01.355)       0:23:55.302 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | reload kubelet] **********
changed: [control-prod-01]
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
Thursday 04 May 2023  20:07:29 +0300 (0:00:02.304)       0:23:57.606 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | kube-apiserver configured] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:07:31 +0300 (0:00:01.376)       0:23:58.983 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | kube-controller configured] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:07:32 +0300 (0:00:01.459)       0:24:00.443 ********** 
Thursday 04 May 2023  20:07:32 +0300 (0:00:00.121)       0:24:00.564 ********** 
Thursday 04 May 2023  20:07:32 +0300 (0:00:00.110)       0:24:00.675 ********** 
Thursday 04 May 2023  20:07:32 +0300 (0:00:00.112)       0:24:00.788 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | restart kube-apiserver crio/containerd] ***
changed: [control-prod-01]
Thursday 04 May 2023  20:07:38 +0300 (0:00:06.095)       0:24:06.883 ********** 
FAILED - RETRYING: [control-prod-01]: Preinstall | wait for the apiserver to be running (60 retries left).
FAILED - RETRYING: [control-prod-01]: Preinstall | wait for the apiserver to be running (59 retries left).
FAILED - RETRYING: [control-prod-01]: Preinstall | wait for the apiserver to be running (58 retries left).

RUNNING HANDLER [kubernetes/preinstall : Preinstall | wait for the apiserver to be running] ***
ok: [control-prod-01]
Thursday 04 May 2023  20:07:55 +0300 (0:00:16.406)       0:24:23.291 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | Restart systemd-resolved] ***
changed: [ingress-prod-01]
changed: [worker-prod-02]
changed: [worker-prod-01]
changed: [control-prod-01]
Thursday 04 May 2023  20:07:57 +0300 (0:00:02.645)       0:24:25.936 ********** 
Thursday 04 May 2023  20:07:58 +0300 (0:00:00.100)       0:24:26.037 ********** 
Thursday 04 May 2023  20:07:58 +0300 (0:00:00.101)       0:24:26.138 ********** 
Thursday 04 May 2023  20:07:58 +0300 (0:00:00.212)       0:24:26.351 ********** 
Thursday 04 May 2023  20:07:58 +0300 (0:00:00.112)       0:24:26.464 ********** 
Thursday 04 May 2023  20:07:58 +0300 (0:00:00.106)       0:24:26.570 ********** 
Thursday 04 May 2023  20:07:58 +0300 (0:00:00.108)       0:24:26.678 ********** 
Thursday 04 May 2023  20:07:58 +0300 (0:00:00.102)       0:24:26.781 ********** 
Thursday 04 May 2023  20:07:58 +0300 (0:00:00.099)       0:24:26.880 ********** 

TASK [Run calico checks] *******************************************************
Thursday 04 May 2023  20:07:59 +0300 (0:00:00.458)       0:24:27.338 ********** 

TASK [network_plugin/calico : Stop if legacy encapsulation variables are detected (ipip)] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  20:07:59 +0300 (0:00:00.058)       0:24:27.397 ********** 

TASK [network_plugin/calico : Stop if legacy encapsulation variables are detected (ipip_mode)] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  20:07:59 +0300 (0:00:00.066)       0:24:27.464 ********** 

TASK [network_plugin/calico : Stop if legacy encapsulation variables are detected (calcio_ipam_autoallocateblocks)] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  20:07:59 +0300 (0:00:00.074)       0:24:27.538 ********** 
Thursday 04 May 2023  20:07:59 +0300 (0:00:00.059)       0:24:27.598 ********** 

TASK [network_plugin/calico : Stop if supported Calico versions] ***************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  20:07:59 +0300 (0:00:00.075)       0:24:27.674 ********** 
ASYNC OK on control-prod-01: jid=678460785451.27091

TASK [network_plugin/calico : Get current calico cluster version] **************
ok: [control-prod-01]
Thursday 04 May 2023  20:08:05 +0300 (0:00:05.836)       0:24:33.510 ********** 

TASK [network_plugin/calico : Check that current calico version is enough for upgrade] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  20:08:05 +0300 (0:00:00.081)       0:24:33.592 ********** 
Thursday 04 May 2023  20:08:05 +0300 (0:00:00.049)       0:24:33.641 ********** 
Thursday 04 May 2023  20:08:05 +0300 (0:00:00.048)       0:24:33.690 ********** 

TASK [network_plugin/calico : Check vars defined correctly] ********************
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  20:08:05 +0300 (0:00:00.058)       0:24:33.749 ********** 

TASK [network_plugin/calico : Check calico network backend defined correctly] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  20:08:05 +0300 (0:00:00.058)       0:24:33.808 ********** 

TASK [network_plugin/calico : Check ipip and vxlan mode defined correctly] *****
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  20:08:05 +0300 (0:00:00.060)       0:24:33.868 ********** 
Thursday 04 May 2023  20:08:05 +0300 (0:00:00.044)       0:24:33.913 ********** 

TASK [network_plugin/calico : Check ipip and vxlan mode if simultaneously enabled] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  20:08:06 +0300 (0:00:00.064)       0:24:33.977 ********** 

TASK [network_plugin/calico : Get Calico default-pool configuration] ***********
ok: [control-prod-01]
Thursday 04 May 2023  20:08:06 +0300 (0:00:00.659)       0:24:34.637 ********** 

TASK [network_plugin/calico : Set calico_pool_conf] ****************************
ok: [control-prod-01]
Thursday 04 May 2023  20:08:06 +0300 (0:00:00.064)       0:24:34.702 ********** 

TASK [network_plugin/calico : Check if inventory match current cluster configuration] ***
ok: [control-prod-01] => {
    "changed": false,
    "msg": "All assertions passed"
}
Thursday 04 May 2023  20:08:06 +0300 (0:00:00.072)       0:24:34.775 ********** 
Thursday 04 May 2023  20:08:06 +0300 (0:00:00.043)       0:24:34.819 ********** 
Thursday 04 May 2023  20:08:06 +0300 (0:00:00.044)       0:24:34.864 ********** 

PLAY RECAP *********************************************************************
control-prod-01            : ok=741  changed=151  unreachable=0    failed=0    skipped=1247 rescued=0    ignored=8   
ingress-prod-01            : ok=535  changed=92   unreachable=0    failed=0    skipped=805  rescued=0    ignored=1   
localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
worker-prod-01             : ok=533  changed=92   unreachable=0    failed=0    skipped=804  rescued=0    ignored=1   
worker-prod-02             : ok=533  changed=92   unreachable=0    failed=0    skipped=804  rescued=0    ignored=1   

Thursday 04 May 2023  20:08:06 +0300 (0:00:00.105)       0:24:34.969 ********** 
=============================================================================== 
kubernetes/preinstall : Install packages requirements ------------------ 62.18s
download : download_container | Download image if required ------------- 49.22s
kubernetes/control-plane : kubeadm | Initialize first master ----------- 31.44s
kubernetes/kubeadm : Join to cluster ----------------------------------- 29.65s
kubernetes-apps/ingress_controller/ingress_nginx : NGINX Ingress Controller | Create manifests -- 24.18s
kubernetes-apps/ansible : Kubernetes Apps | Lay Down CoreDNS templates -- 23.87s
kubernetes-apps/ansible : Kubernetes Apps | Start Resources ------------ 22.63s
download : download_container | Download image if required ------------- 19.73s
kubernetes-apps/external_provisioner/local_path_provisioner : Local Path Provisioner | Create manifests -- 17.83s
container-engine/containerd : containerd | Unpack containerd archive --- 17.51s
kubernetes-apps/ingress_controller/ingress_nginx : NGINX Ingress Controller | Apply manifests -- 16.69s
kubernetes/preinstall : Preinstall | wait for the apiserver to be running -- 16.41s
network_plugin/calico : Calico | Create calico manifests --------------- 14.44s
network_plugin/calico : Wait for calico kubeconfig to be created ------- 12.60s
download : download_container | Download image if required ------------- 12.48s
kubernetes-apps/external_provisioner/local_path_provisioner : Local Path Provisioner | Apply manifests -- 12.13s
network_plugin/calico : Start Calico resources ------------------------- 11.93s
download : download_container | Download image if required ------------- 11.91s
download : download_container | Download image if required ------------- 10.83s
policy_controller/calico : Create calico-kube-controllers manifests ----- 9.69s
